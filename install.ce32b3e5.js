!function(e,t,n,o){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof a.parcelRequire&&a.parcelRequire,s="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function r(n,o){if(!t[n]){if(!e[n]){var a="function"==typeof parcelRequire&&parcelRequire;if(!o&&a)return a(n,!0);if(i)return i(n,!0);if(s&&"string"==typeof n)return s(n);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}d.resolve=function(t){return e[n][1][t]||t},d.cache={};var c=t[n]=new r.Module(n);e[n][0].call(c.exports,d,c,c.exports,this)}return t[n].exports;function d(e){return r(d.resolve(e))}}r.isParcelRequire=!0,r.Module=function(e){this.id=e,this.bundle=r,this.exports={}},r.modules=e,r.cache=t,r.parent=i,r.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},a.parcelRequire=r;for(var l=0;l<n.length;l++)r(n[l]);if(n.length){var c=r(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define((function(){return c}))}}({f86476b6dfe525fe3e35c3b4270bbe11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.installer=n.isSupportingBrowser=void 0;var o=e("./ui"),a=e("./version");const i=document.documentElement,s=window.hasOwnProperty("BeforeInstallPromptEvent");let r;n.isSupportingBrowser=s;let l=!1,c=!1;n.installer=async(e=!1)=>{let t,n=!1,d=[];const u=navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")||navigator.userAgent.includes("Macintosh")&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,p=()=>new Promise((e,t)=>{n=!1,e()});document.addEventListener("keyup",e=>{"Escape"===e.key&&p()});const f=()=>navigator.standalone?navigator.standalone:!!matchMedia("(display-mode: standalone)").matches,m=async()=>{try{const n=await fetch("./manifest.webmanifest"),o=await n.json();if(t=o,o)return(e=o).icons&&e.icons[0]?e.name?e.description||console.error("Your web manifest must have a description listed"):console.error("Your web manifest must have a name listed"):console.error("Your web manifest must have atleast one icon listed"),o}catch(e){return null}var e},h=async e=>{const n=s&&d.length<1&&(c||u);if(c&&"standalone"in navigator&&!1===navigator.standalone||n&&!1===l){await(async()=>{try{await m()}catch(e){console.error("Error getting manifest, check that you have a valid web manifest")}"getInstalledRelatedApps"in navigator&&(d=await navigator.getInstalledRelatedApps())})();console.log("Application is currently ",f()?"installed":"not installed"),console.log({manifestdata:t}),i.classList.add(f()?"installed":"not-installed");const n=document.createElement("button");return n.classList.add("install-app"),n.setAttribute("aria-label",`Click to install ${t.short_name} V:${a.VERSION.replaceAll(".","-")} Date:${a.DATE}`),n.style.setProperty("--logo",`url(${t.icons[0].src})`),n.innerHTML="Install App",(0,o.addTooltip)(n),(0,o.setToast)("This App can be installed!<br> Click the orange button on the left"),n.addEventListener("click",async()=>{(0,o.setFeedback)("Installing",0);try{const e=await(async()=>new Promise(async(e,t)=>{if(r){r.prompt(),await p();"accepted"===(await r.userChoice).outcome?(console.log("Your PWA has been installed"),l=!0,e(!0)):(console.log("User chose to not install"),l=!1,e(!1))}else t("no prompt cached")}))();(0,o.setToast)(e?"The App was installed":"Maybe some other time"),e?document.querySelector(".install-app").style.display="none":n.classList.add("later")}catch(e){(0,o.setToast)("The App was not installed")}}),(e=e||i).appendChild(n),!0}return i.classList.add(l?"installed":"not-installed"),console.log("Application not installable",{showInstaller:n,installed:l},f()?"installed":"not-installed"),console.error({isSupportingBrowser:s,relatedApps:d,hasPrompt:c,isIOS:u}),!1};return r||c||window.addEventListener("beforeinstallprompt",t=>{r=t,c=!0,t.preventDefault(),e||u||h()},{once:!0}),!e&&u&&window.addEventListener("load",async e=>{h()},{once:!0}),h},window.addEventListener("beforeinstallprompt",e=>{r=e,c=!0,e.preventDefault()},{once:!0})},{"./ui":"cc509f6dc4e34d6bd3c8d4b98935925a","./version":"25488683cc04bb43faf629e105172bc8"}]},{},[]);
//# sourceMappingURL=install.ce32b3e5.js.map
