{"mappings":"svCAIMA,IAJkB,aAIlBA,QASNC,cAAAA,2EAEAC,QAAQC,UAAAA,CAAWC,OATW,IAU9BF,QAAQG,KAAKC,oBAAAA,CACTC,OAPqB,MAQrBC,OAPEC,SAQFC,SAAU,cACVC,QAAS,YAIbC,KAAKC,iBAAiB,WAAYC,QAC5BA,EAAMC,OAAQD,EAAMC,KAAKC,kBAUfC,MAAAA,sCAA4CH,EAAMC,8BAA8BD,EAAMC,KAAKC,YATrGE,QAAQC,IAAAA,qCAA0CL,EAAMC,MAC7B,iBAAvBD,EAAMC,KAAKC,QACXJ,KAAKQ,cACyB,kBAAvBN,EAAMC,KAAKC,QAClBJ,KAAKS,QAAQC,QAEblB,MAAMmB,QAAQ,iEAUtBC,EAAAA,WACAC,EAAAA,oBACAC,EAAAA,iBACAC,EAAAA,gBACAC,GACE1B,QAAQ2B,uBAELC,GAAiB5B,QAAQ6B,0BACzBC,GAAoB9B,QAAQ+B,gCAC5BC,GAAuBhC,QAAQiC,iCAC/BC,EAAAA,wBAAmBC,GAA2BnC,QAAQoC,oCACtDC,GAAoBrC,QAAQsC,iCAE5BC,EAAAA,WAAqBC,GAAcxC,QAAQyC,WAqBlDJ,EAAAA,CAAAA,CAAoBK,IAAK,aAAcC,SAAS7C,KAEhDwB,IAEAG,IAEAD,IAEAD,IAEAG,IAiBAE,GAboBgB,kBACVC,GAAYD,QAEI,QAAxBC,EAAQC,aACgB,UAAxBD,EAAQC,aACgB,UAAxBD,EAAQC,aACRD,EAAQH,IAAIK,QAAQ,UAAYF,EAAQH,IAAIM,OAAS,IAQrDC,IACIT,EAAAA,CACFU,UAjBgB,eAkBhBC,QAAAA,CAAAA,IACMhB,EAAAA,CACFiB,SAAAA,CAAW,EAAG,WAEZpB,MA0BVJ,EACE,0DAAA,IACIY,EAAAA,CACFU,UAAW,sBACXC,QAAAA,CAAAA,IACMhB,EAAAA,CACFiB,SAAAA,CAAW,EAAG,WAEZtB,EAAAA,CAEFuB,cAAeC,aAMvB1B,EACE,+CAAA,IACIY,EAAAA,CACFU,UAAW,kBACXC,QAAAA,CAAAA,IACMhB,EAAAA,CACFiB,SAAAA,CAAW,EAAG,WAEZtB,EAAAA,CAEFuB,cAAeC,kMCnKVC,EAAQ,6FCArB,aAEAC,EAAAC,eAAA,SAAAC,GACA,OAAAA,GAAAA,EAAAC,WAAAD,EAAA,CACAE,QAAAF,IAIAF,EAAAK,kBAAA,SAAAH,GACAI,OAAAC,eAAAL,EAAA,aAAA,CACAM,OAAA,KAIAR,EAAAS,UAAA,SAAAC,EAAAC,GAkBA,OAjBAL,OAAAM,KAAAF,GAAAG,SAAA,SAAAC,GACA,YAAAA,GAAA,eAAAA,IAKAA,KAAAH,GAAAA,EAAAG,KAAAJ,EAAAI,IAIAR,OAAAC,eAAAI,EAAAG,EAAA,CACAC,YAAA,EACAC,IAAA,WACA,OAAAN,EAAAI,UAIAH,GAGAX,EAAAiB,OAAA,SAAAN,EAAAO,EAAAF,GACAV,OAAAC,eAAAI,EAAAO,EAAA,CACAH,YAAA,EACAC,IAAAA","sources":["./source/service-worker.js","./source/version.js","./node_modules/@parcel/transformer-js/lib/esmodule-helpers.js"],"sourcesContent":["import { VERSION } from './version'\n\n// Not compiled so best add the ; to the es5\nconst ONE_DAY = 60 * 60 * 24;\nconst REVISION = VERSION;\nconst BUILD_MMR = \"0.0.5\";\nconst WORKBOX_DEBUG_LOGGING = true;\n// Workbox version - update manually when there are new releases.\nconst WORKBOX_VERSION = '6.0.2';\n// Cache naming and versioning.\nconst APP_CACHE_PREFIX = 'mct';\nconst APP_CACHE_SUFFIX = `v${BUILD_MMR}`;\n\nimportScripts(`https://storage.googleapis.com/workbox-cdn/releases/${WORKBOX_VERSION}/workbox-sw.js`);\n\nworkbox.setConfig({debug: WORKBOX_DEBUG_LOGGING});\nworkbox.core.setCacheNameDetails({\n    prefix: APP_CACHE_PREFIX,\n    suffix: APP_CACHE_SUFFIX,\n    precache: 'installtime',\n    runtime: 'runtime',\n});\n\n\nself.addEventListener('message', (event) => {\n  if (event.data && event.data.message) {\n      console.log(`>>> Message received from client: `, event.data);\n      if (event.data.message === 'SKIP_WAITING') {\n          self.skipWaiting();\n      } else if (event.data.message === 'CLIENTS_CLAIM') {\n          self.clients.claim();\n      } else {\n          debug.warning('>>>> No idea what to do with that message!');\n      }\n  } else {\n      throw new Error(`Message event handler: event.data=[${event.data}], event.data.message=[${event.data.message}]`);\n  }\n});\n\n\n// Load caching routines\nconst {\n  pageCache,\n  imageCache,\n  staticResourceCache,\n  googleFontsCache,\n  offlineFallback,\n} = workbox.recipes;\n\nconst {registerRoute} = workbox.routing;\nconst {ExpirationPlugin} = workbox.expiration;\nconst {RangeRequestsPlugin} = workbox.rangeRequests;\nconst {CacheableResponse, CacheableResponsePlugin} = workbox.cacheableResponse;\nconst {precacheAndRoute} = workbox.precaching;\n\nconst {StaleWhileRevalidate,CacheFirst} = workbox.strategies;\n// CacheFirst - an implementation of a cache-first request strategy.\n// A cache first strategy is useful for assets that have been revisioned, such as URLs like /styles/example.a8f5f1.css, since they can be cached for long periods of time.\n// If the network request fails, and there is no cache match, this will throw a WorkboxError exception.\n\n// import { registerRoute } from 'workbox-routing';\n// import { StaleWhileRevalidate } from 'workbox-strategies';\n// import { CacheableResponsePlugin } from 'workbox-cacheable-response';\n\n\n// import {\n//   pageCache,\n//   imageCache,\n//   staticResourceCache,\n//   googleFontsCache,\n//   offlineFallback,\n// } from 'workbox-recipes';\n// import { precacheAndRoute } from 'workbox-precaching';\n\n// Include offline.html in the manifest__WB_MANIFEST\n// precacheAndRoute(self.origin);\nprecacheAndRoute([ {url: 'index.html', revision:REVISION }])\n\npageCache();\n\ngoogleFontsCache();\n\nstaticResourceCache();\n\nimageCache();\n\nofflineFallback();\n\n// Music files!\nconst CACHE_MEDIA = 'static-media';\nconst catchMedia = (match) =>{\n  const { request } = match\n  const isMedia = \n  request.destination === 'mp3' ||\n  request.destination === 'media' ||\n  request.destination === 'audio' || \n  request.url.indexOf(\".mp3\") === request.url.length - 4;\n  \n  // console.error(isMedia, \"matchCallback\", {match, request, pos:request.url.indexOf(\".mp3\") })\n  \n  return isMedia\n}\n\nregisterRoute(\n  catchMedia,\n  new CacheFirst({\n    cacheName: CACHE_MEDIA,\n    plugins: [\n      new CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n      new RangeRequestsPlugin()\n    ],\n  }),\n);\n// workbox.loadModule('workbox-range-requests');\n// RangeRequestsPlugin\n// registerRoute(\n//   catchMedia,\n//   new StaleWhileRevalidate({\n//     cacheName: CACHE_MEDIA,\n//     plugins: [\n//       new CacheableResponsePlugin({\n//         statuses: [0, 200],\n//       }),\n//     ],\n//   }),\n// );\n\n\n// TF json\n// https://storage.googleapis.com/tfhub-tfjs-modules/mediapipe/tfjs-model/facemesh/1/default/1/model.json\n\n// Now the TF models...\n// https://tfhub.dev/mediapipe/tfjs-model/iris/1/default/2/model.json?tfjs-format=file\n\n// Cache the cloud hosted TF models as they are heavy and not local!\nregisterRoute(\n  /^https:\\/\\/storage\\.googleapis\\.com\\/tfhub-tfjs-modules/,\n  new CacheFirst({\n    cacheName: 'tf-models-googleapi',\n    plugins: [\n      new CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n      new ExpirationPlugin({\n        // one month should be good\n        maxAgeSeconds: ONE_DAY * 30,\n      }),\n    ],\n  }),\n);\n// https://tfhub.dev/mediapipe/tfjs-model/iris/1/default/2/model.json?tfjs-format=file\nregisterRoute(\n  /^https:\\/\\/tfhub\\.dev\\/mediapipe\\/tfjs-model/,\n  new CacheFirst({\n    cacheName: 'tf-models-tfhub',\n    plugins: [\n      new CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n      new ExpirationPlugin({\n        // one month should be good\n        maxAgeSeconds: ONE_DAY * 30,\n      }),\n    ],\n  }),\n);\n\n\n\n// workbox.routing.registerRoute(\n//   /^https:\\/\\/fonts\\.googleapis\\.com/,\n//   workbox.strategies.staleWhileRevalidate({\n//     cacheName: 'google-fonts-stylesheets',\n//   }),\n// );","export const VERSION=\"0.12.0\"","\"use strict\";\n\nexports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {\n    default: a\n  };\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {\n    value: true\n  });\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    } // Skip duplicate re-exports when they have the same value.\n\n\n    if (key in dest && dest[key] === source[key]) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      }\n    });\n  });\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get\n  });\n};"],"names":["REVISION","importScripts","workbox","setConfig","debug","core","setCacheNameDetails","prefix","suffix","APP_CACHE_SUFFIX","precache","runtime","self","addEventListener","event","data","message","Error","console","log","skipWaiting","clients","claim","warning","pageCache","imageCache","staticResourceCache","googleFontsCache","offlineFallback","recipes","registerRoute","routing","ExpirationPlugin","expiration","RangeRequestsPlugin","rangeRequests","CacheableResponse","CacheableResponsePlugin","cacheableResponse","precacheAndRoute","precaching","StaleWhileRevalidate","CacheFirst","strategies","url","revision","match","request","destination","indexOf","length","catchMedia","cacheName","plugins","statuses","maxAgeSeconds","ONE_DAY","VERSION","exports","interopDefault","a","__esModule","default","defineInteropFlag","Object","defineProperty","value","exportAll","source","dest","keys","forEach","key","enumerable","get","export","destName"],"version":3,"file":"service-worker.js.map"}