!function(t,n,e,r){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof o.parcelRequire&&o.parcelRequire,i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function s(e,r){if(!n[e]){if(!t[e]){var o="function"==typeof parcelRequire&&parcelRequire;if(!r&&o)return o(e,!0);if(a)return a(e,!0);if(i&&"string"==typeof e)return i(e);var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}l.resolve=function(n){return t[e][1][n]||n},l.cache={};var u=n[e]=new s.Module(e);t[e][0].call(u.exports,l,u,u.exports,this)}return n[e].exports;function l(t){return s(l.resolve(t))}}s.isParcelRequire=!0,s.Module=function(t){this.id=t,this.bundle=s,this.exports={}},s.modules=t,s.cache=n,s.parent=a,s.register=function(n,e){t[n]=[function(t,n){n.exports=e},{}]},o.parcelRequire=s;for(var c=0;c<e.length;c++)s(e[c]);if(e.length){var u=s(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define((function(){return u}))}}({e0816e722f282c5b06f2bb9c31ce0390:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.installer=e.isSupportingBrowser=void 0;var r=t("./ui"),o=t("./version");function a(){var t=s(['\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img alt="App Screenshot" src="','" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t']);return a=function(){return t},t}function i(){var t=s(['\n\t\t\t\t\t<div id="screenshotsContainer">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click="','"\n\t\t\t\t\t\t\taria-label="previous image"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\t\t\t\tviewBox="0 0 512 512"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\td="M401.4 224h-214l83-79.4c11.9-12.5 11.9-32.7 0-45.2s-31.2-12.5-43.2 0L89 233.4c-6 5.8-9 13.7-9 22.4v.4c0 8.7 3 16.6 9 22.4l138.1 134c12 12.5 31.3 12.5 43.2 0 11.9-12.5 11.9-32.7 0-45.2l-83-79.4h214c16.9 0 30.6-14.3 30.6-32 .1-18-13.6-32-30.5-32z"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<section id="screenshots">\n\t\t\t\t\t\t','\n\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t@click="','"\n\t\t\t\t\t\taria-label="next image"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\t\t\t\t\tviewBox="0 0 512 512"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\td="M284.9 412.6l138.1-134c6-5.8 9-13.7 9-22.4v-.4c0-8.7-3-16.6-9-22.4l-138.1-134c-12-12.5-31.3-12.5-43.2 0-11.9 12.5-11.9 32.7 0 45.2l83 79.4h-214c-17 0-30.7 14.3-30.7 32 0 18 13.7 32 30.6 32h214l-83 79.4c-11.9 12.5-11.9 32.7 0 45.2 12 12.5 31.3 12.5 43.3 0z"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t']);return i=function(){return t},t}function s(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function c(t,n,e,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function i(t){c(a,r,o,i,s,"next",t)}function s(t){c(a,r,o,i,s,"throw",t)}i(void 0)}))}}var l,d=document.documentElement,p=window.hasOwnProperty("BeforeInstallPromptEvent");e.isSupportingBrowser=p;var f=!1,v=!1,h=function(){var t=u(regeneratorRuntime.mark((function t(){var n,e,s,c,h,m,g,b,w,x,y,k,R,L=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=L.length>0&&void 0!==L[0]&&L[0],!1,s="./manifest.webmanifest",c=[],h=navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")||navigator.userAgent.includes("Macintosh")&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,m=function(){return new Promise((function(t,n){!1,t()}))},document.addEventListener("keyup",(function(t){"Escape"===t.key&&m()})),g=function(){return navigator.standalone?navigator.standalone:!!matchMedia("(display-mode: standalone)").matches},b=function(){return p&&c.length<1&&(v||h)},w=function(t){t.icons&&t.icons[0]?t.name?t.description||console.error("Your web manifest must have a description listed"):console.error("Your web manifest must have a name listed"):console.error("Your web manifest must have atleast one icon listed")},x=function(){var t=u(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(s);case 3:return n=t.sent,t.next=6,n.json();case 6:if(r=t.sent,e=r,!r){t.next=11;break}return w(r),t.abrupt("return",r);case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=9;break}return t.prev=1,t.next=4,x();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("Error getting manifest, check that you have a valid web manifest");case 9:if(!("getInstalledRelatedApps"in navigator)){t.next=13;break}return t.next=12,navigator.getInstalledRelatedApps();case 12:c=t.sent;case 13:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),function(){return'<button id="openButton" class="install-app">\n\tInstall InterFACE Version '.concat(o.VERSION,'\n\t</button>\n\t\n\t<dialog open>\n\t\t\x3c!-- background needs to cancel install too? --\x3e\n\t\t<header id="logoContainer">\n\t\t\t<img src="').concat(e.icons[0].src,'" alt="App Logo"/>\n\n\t\t\t<div id="installTitle">\n\t\t\t\t<h1>').concat(e.short_name||e.name,'</h1>\n\t\t\t\t<p id="desc">').concat(explainer,'</p>\n\t\t\t</div>\n\t\t</header>\n\n\t\t<button id="closeButton" click="" aria-label="Close">\n\t\t\t<svg width="23" height="22" viewBox="0 0 23 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t<path opacity="0.33" fill-rule="evenodd" clip-rule="evenodd" d="M1.11932 0.357981C1.59693 -0.119327 2.37129 -0.119327 2.8489 0.357981L11.7681 9.27152L20.6873 0.357981C21.165 -0.119327 21.9393 -0.119327 22.4169 0.357981C22.8945 0.835288 22.8945 1.60916 22.4169 2.08646L13.4977 11L22.4169 19.9135C22.8945 20.3908 22.8945 21.1647 22.4169 21.642C21.9393 22.1193 21.165 22.1193 20.6873 21.642L11.7681 12.7285L2.8489 21.642C2.37129 22.1193 1.59693 22.1193 1.11932 21.642C0.641705 21.1647 0.641705 20.3908 1.11932 19.9135L10.0385 11L1.11932 2.08646C0.641705 1.60916 0.641705 0.835288 1.11932 0.357981Z" fill="#60656D"/>\n\t\t\t</svg>\n\t\t</button>\n\n\n\t\t<div id="contentContainer">\n\n\t\t\t<div id="featuresScreenDiv">\n\n\t\t\t').concat(e.features?'<div id="keyFeatures">\n\t\t\t\t<h3>Features</h3>\n\t\t\t\t<ul>\n\t\t\t\t'.concat(e.features?manifestDatafeatures.map((function(t){return" <li>".concat(t,"</li> ")})):null,"\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t</div>"):null,"\n\n\t\t\t").concat(e.screenshots?html(i(),(function(){return(void 0).scrollToLeft()}),e.screenshots.map((function(t){return html(a(),t.src)})),(function(){return(void 0).scrollToRight()})):null,'\n\t\t\t</div>\n\n\t\t\t<div id="descriptionWrapper">\n\t\t\t\t<h3>').concat((void 0).descriptionheader,'</h3>\n\t\t\t\t<p id="manifest-description">').concat((void 0).manifestdata.description,'</p>\n\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\t\t\n\t\t<button id="openButton" class="install-app">Install InterFACE Version ').concat(o.VERSION,'</button>\n\t\t<button class="cancel-install">Cancel</button>\n\n\t\t<p id="iosText">').concat(iosinstallinfotext,"</p> \n\n\t</dialog>\n\t")},k=function(){var t=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=u(regeneratorRuntime.mark((function t(n,e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=10;break}return l.prompt(),t.next=4,m();case 4:return t.next=6,l.userChoice;case 6:"accepted"===t.sent.outcome?(console.log("Your PWA has been installed"),f=!0,n(!0)):(console.log("User chose to not install"),f=!1,n(!1)),t.next=11;break;case 10:e("no prompt cached");case 11:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=u(regeneratorRuntime.mark((function t(n){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=b(),!(v&&"standalone"in navigator&&!1===navigator.standalone||a&&!1===f)){t.next=21;break}return t.next=4,y();case 4:return t.sent,console.log("Application is currently ",g()?"installed":"not installed"),console.log({manifestdata:e}),d.classList.add(g()?"installed":"not-installed"),(i=document.createElement("button")).classList.add("install-app"),i.setAttribute("aria-label","Click to install ".concat(e.short_name," V:").concat(o.VERSION.replaceAll(".","-")," Date:").concat(o.DATE)),i.style.setProperty("--logo","url(".concat(e.icons[0].src,")")),i.innerHTML="Install App",(0,r.addTooltip)(i),(0,r.setToast)("This App can be installed!<br> Click the orange button on the left"),i.addEventListener("click",u(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,r.setFeedback)("Installing",0),t.prev=1,t.next=4,k();case 4:n=t.sent,(0,r.setToast)(n?"The App was installed":"Maybe some other time"),n?document.querySelector(".install-app").style.display="none":i.classList.add("later"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),(0,r.setToast)("The App was not installed");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))),(n=n||d).appendChild(i),t.abrupt("return",!0);case 21:return d.classList.add(f?"installed":"not-installed"),console.log("Application not installable",{showInstaller:a,installed:f},g()?"installed":"not-installed"),console.error({isSupportingBrowser:p,relatedApps:c,hasPrompt:v,isIOS:h}),t.abrupt("return",!1);case 25:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),l||v||window.addEventListener("beforeinstallprompt",(function(t){l=t,v=!0,t.preventDefault(),n||h||R()}),{once:!0}),!n&&h&&window.addEventListener("load",function(){var t=u(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:R();case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),{once:!0}),t.abrupt("return",R);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.installer=h,window.addEventListener("beforeinstallprompt",(function(t){l=t,v=!0,t.preventDefault()}),{once:!0})},{"./ui":"f1945c1ea0a102386be390585e044c46","./version":"96bbf71b97db043de13209fe2c1629cf"}]},{},[]);
//# sourceMappingURL=install.d91bcfac.js.map
