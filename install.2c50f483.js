!function(e,t,n,a,o,s){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof r.parcelRequiree3fa&&r.parcelRequiree3fa,l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(n,a){if(!t[n]){if(!e[n]){var o="function"==typeof r.parcelRequiree3fa&&r.parcelRequiree3fa;if(!a&&o)return o(n,!0);if(i)return i(n,!0);if(l&&"string"==typeof n)return l(n);var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}u.resolve=function(t){return e[n][1][t]||t},u.cache={};var d=t[n]=new c.Module(n);e[n][0].call(d.exports,u,d,d.exports,this)}return t[n].exports;function u(e){return c(u.resolve(e))}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=t,c.parent=i,c.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(c,"root",{get:function(){return r.parcelRequiree3fa}}),r.parcelRequiree3fa=c;for(var d=0;d<n.length;d++)c(n[d])}({InTlC:[function(e,t,n){var a=e("@parcel/transformer-js/lib/esmodule-helpers.js");a.defineInteropFlag(n),a.export(n,"installer",(function(){return i}));var o=e("./ui"),s=e("./version");const r=document.documentElement,i=async(e=!1)=>{const t=window.hasOwnProperty("BeforeInstallPromptEvent");let n,a,i=!1,l=!1,c=!1,d="./manifest.webmanifest",u=[];const p=navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")||navigator.userAgent.includes("Macintosh")&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,f=()=>new Promise(((e,t)=>{c=!1,e()}));document.addEventListener("keyup",(e=>{"Escape"===e.key&&f()}));const m=()=>navigator.standalone?navigator.standalone:!!matchMedia("(display-mode: standalone)").matches,h=async()=>{try{const t=await fetch(d),n=await t.json();if(a=n,n)return(e=n).icons&&e.icons[0]?e.name?e.description||console.error("Your web manifest must have a description listed"):console.error("Your web manifest must have a name listed"):console.error("Your web manifest must have atleast one icon listed"),n}catch(e){return null}var e},g=async e=>{const c=t&&u.length<1&&(l||p);if(l&&"standalone"in navigator&&!1===navigator.standalone||c&&!1===i){await(async()=>{try{await h()}catch(e){console.error("Error getting manifest, check that you have a valid web manifest")}"getInstalledRelatedApps"in navigator&&(u=await navigator.getInstalledRelatedApps())})();console.log("Application is currently ",m()?"installed":"not installed"),console.log({manifestdata:a}),r.classList.add(m()?"installed":"not-installed");const t=document.createElement("button");return t.classList.add("install-app"),t.setAttribute("aria-label",`Click to install ${a.short_name} Version ${s.VERSION}`),t.style.setProperty("--logo",`url(${a.icons[0].src})`),t.innerHTML="Install App",o.addTooltip(t),o.setToast("This App can be installed!<br> Click the orange button on the left"),t.addEventListener("click",(async()=>{o.setFeedback("Installing",0);try{const e=await(async()=>new Promise((async(e,t)=>{n?(n.prompt(),await f(),"accepted"===(await n.userChoice).outcome?(console.log("Your PWA has been installed"),i=!0,e(!0)):(console.log("User chose to not install"),i=!1,e(!1))):t("no prompt cached")})))();o.setToast(e?"The App was installed":"Maybe some other time"),e?document.querySelector(".install-app").style.display="none":t.classList.add("later")}catch(e){o.setToast("The App was not installed")}})),(e=e||r).appendChild(t),!0}return r.classList.add(i?"installed":"not-installed"),console.log("Application not installable",{showInstaller:c,installed:i},m()?"installed":"not-installed"),console.error({isSupportingBrowser:t,relatedApps:u,hasPrompt:l,isIOS:p}),!1};return window.addEventListener("beforeinstallprompt",(t=>{n=t,l=!0,t.preventDefault(),e||p||g()}),{once:!0}),!e&&p&&window.addEventListener("load",(async e=>{g()}),{once:!0}),g}},{"./ui":"4LGWf","./version":"7Fk6F","@parcel/transformer-js/lib/esmodule-helpers.js":"HNevC"}]},{},[]);
//# sourceMappingURL=install.2c50f483.js.map
