!function(e,t,n,i,o){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof r[i]&&r[i],s=a.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,n){if(!s[t]){if(!e[t]){var o="function"==typeof r[i]&&r[i];if(!n&&o)return o(t,!0);if(a)return a(t,!0);if(d&&"string"==typeof t)return d(t);var u=new Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}f.resolve=function(n){var i=e[t][1][n];return null!=i?i:n},f.cache={};var l=s[t]=new c.Module(t);e[t][0].call(l.exports,f,l,l.exports,this)}return s[t].exports;function f(e){var t=f.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=s,c.parent=a,c.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(c,"root",{get:function(){return r[i]}}),r[i]=c;for(var u=0;u<t.length;u++)c(t[u])}({"418QU":[function(e,t,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(n);var o=e("@webaudiomodules/sdk"),r=e("@webaudiomodules/sdk-parammgr"),a=e("./pingpongdelay.wam.js"),s=i.interopDefault(a),d=e("url:./descriptor.json"),c=i.interopDefault(d),u=e("./descriptor.json"),l=i.interopDefault(u);class f extends o.WebAudioModule{_baseUrl=(e=>e.substring(0,e.lastIndexOf("/")))(c.default);_descriptorUrl=`${this._baseURL}/descriptor.json`;_descriptor=l.default;async _loadDescriptor(){if(!this._descriptor){const e=this._descriptorUrl;if(!e)throw new TypeError("Descriptor not found");const t=await fetch(e),n=await t.json();Object.assign(this._descriptor,n)}}async initialize(e){return await this._loadDescriptor(),super.initialize(e)}async createAudioNode(e){const t=new(0,s.default)(this.audioContext),n={internalParamsConfig:{delayLeftTime:t.delayNodeLeft.delayTime,delayRightTime:t.delayNodeRight.delayTime,dryGain:t.dryGainNode.gain,wetGain:t.wetGainNode.gain,feedback:t.feedbackGainNode.gain,enabled:{onChange:e=>{t.status=!!e}}},paramsConfig:{feedback:{minValue:0,maxValue:1,defaultValue:.5},time:{defaultValue:.5},mix:{defaultValue:.5},enabled:{defaultValue:1}},paramsMapping:{time:{delayLeftTime:{},delayRightTime:{}},mix:{dryGain:{sourceRange:[.5,1],targetRange:[1,0]},wetGain:{sourceRange:[0,.5],targetRange:[0,1]}}}},i=await r.ParamMgrFactory.create(this,n);return t.setup(i),e&&t.setState(e),t}}n.default=f},{"@webaudiomodules/sdk":"hWxzW","@webaudiomodules/sdk-parammgr":"iUHts","./pingpongdelay.wam.js":"jemmr","url:./descriptor.json":"jn9Ze","./descriptor.json":"f4oUH","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],jemmr:[function(e,t,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(n);var i=e("@webaudiomodules/sdk-parammgr");class o extends i.CompositeAudioNode{_wamNode=void 0;get paramMgr(){return this._wamNode}constructor(e,t){super(e,t),console.log("CONSTRUCTOR CompositeAudioNode"),this.createNodes()}createNodes(){this._input=this.context.createGain(),super.connect(this._input),this._output=this.context.createGain(),this.delayNodeLeft=this.context.createDelay(),this.delayNodeRight=this.context.createDelay(),this.dryGainNode=this.context.createGain(),this.wetGainNode=this.context.createGain(),this.feedbackGainNode=this.context.createGain(),this.channelMerger=this.context.createChannelMerger(2)}connectNodes(){this._input.connect(this.dryGainNode),this.dryGainNode.connect(this._output),this.delayNodeLeft.connect(this.channelMerger,0,0),this.delayNodeRight.connect(this.channelMerger,0,1),this.feedbackGainNode.connect(this.delayNodeLeft),this.delayNodeRight.connect(this.feedbackGainNode),this.delayNodeLeft.connect(this.delayNodeRight),this._input.connect(this.feedbackGainNode),this.channelMerger.connect(this.wetGainNode),this.wetGainNode.connect(this._output)}setup(e){this._wamNode=e,this.connectNodes()}isEnabled=!0;set status(e){this.isEnabled!==e&&(this.isEnabled=e,e?(this._input.disconnect(this._output),this._input.connect(this.feedbackGainNode),this._input.connect(this.dryGainNode)):(this._input.disconnect(this.feedbackGainNode),this._input.disconnect(this.dryGainNode),this._input.connect(this._output)))}}n.default=o},{"@webaudiomodules/sdk-parammgr":"iUHts","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"14tkN":[function(e,t,n){n.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},n.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.exportAll=function(e,t){return Object.keys(e).forEach((function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),t},n.export=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:n})}},{}],jn9Ze:[function(e,t,n){t.exports=e("7ded9e8e99989eb5").getBundleURL("7ATNC")+e("a2229cd311d3a515").resolve("2FKUK")},{"7ded9e8e99989eb5":"bGZ1f",a2229cd311d3a515:"6jNRu"}],bGZ1f:[function(e,t,n){"use strict";var i={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n.getBundleURL=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),i[e]=t),t},n.getBaseURL=o,n.getOrigin=function(e){var t=(""+e).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^/]+/);if(!t)throw new Error("Origin not found");return t[0]}},{}],"6jNRu":[function(e,t,n){"use strict";var i={};t.exports.register=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},t.exports.resolve=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}},{}],f4oUH:[function(e,t,n){t.exports=JSON.parse('{"name":"PingPongDelay","vendor":"WebAudioModule","description":"A PingPongDelay written in native WebAudio nodes","version":"1.0.0","apiVersion":"2.0.0","thumbnail":"screenshot.png","keywords":["delay"],"isInstrument":false,"website":""}')},{}]},[],0,"parcelRequireaaed");