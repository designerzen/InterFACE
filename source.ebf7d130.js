!function(e,t,r,n,o){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof s[n]&&s[n],i=a.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(t,r){if(!i[t]){if(!e[t]){var o="function"==typeof s[n]&&s[n];if(!r&&o)return o(t,!0);if(a)return a(t,!0);if(c&&"string"==typeof t)return c(t);var u=new Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}p.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},p.cache={};var d=i[t]=new l.Module(t);e[t][0].call(d.exports,p,d,d.exports,this)}return i[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:l(t)}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=i,l.parent=a,l.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(l,"root",{get:function(){return s[n]}}),s[n]=l;for(var u=0;u<t.length;u++)l(t[u]);if(r){var d=l(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof define&&define.amd&&define((function(){return d}))}}({"841yM":[function(e,t,r){e("227830b461d35c6").register(JSON.parse('{"kPWjp":"source.ebf7d130.js","ecLhi":"changes.623ed1ac.js","kYk3P":"changes.b2d29960.html","9Dn3o":"manifest.7fa60d45.webmanifest","aoX8U":"android-chrome-512x512.d05e1292.png","75ujM":"android-chrome-192x192.48a3b030.png","cwD58":"android-chrome-48x48.e0fc3253.png","6Gxta":"android-chrome-24x24.b9ecdc58.png","e0yIn":"screen1.2625ade3.png","8VVsq":"screen2.e97de4be.png","i599B":"screen3.44f277a6.png","6ZiDd":"service-worker.js","dQYJg":"interface.5da44d38.js","g9m7A":"encoder.worker.4743ffa4.js","gYpDX":"instrument-audio-worklet.d0e93d62.js","cF9Uj":"bitcrusher.worklet.78167fd3.js","cqCCS":"midi-file-load.worker.da4c717d.js","1XLIV":"timing.settimeout.worker.867220de.js","257vJ":"body.5843ea5b.js","hEgn8":"body.8c3b8248.js","d5l0U":"face.ba8735ea.js","2cQDf":"tfjs-backend-wasm.5249397e.wasm","h0L5O":"tfjs-backend-wasm-simd.c6bc4a08.wasm","htpB9":"tfjs-backend-wasm-threaded-simd.77b92dae.wasm","2Z2gq":"face-worker.4ab62e44.js","ht3Pg":"instructions.c12bf7dd.js","gm5sg":"reporting.301a458c.js","blv9t":"share-menu.17201719.js"}'))},{"227830b461d35c6":"6jNRu"}],"6jNRu":[function(e,t,r){"use strict";var n={};t.exports.register=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)n[t[r]]=e[t[r]]},t.exports.resolve=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}},{}],gPDLX:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js"),o=e("./location-handler"),s=e("./dom/load-progress"),a=e("./version"),i=e("./i18n"),c=e("./settings"),l=e("./pwa/pwa"),u=e("./store"),d=e("./dom/errors"),p=e("./dom/tooltips"),f=e("./hardware/mouse"),h=e("./capabilities"),m=n.interopDefault(h),g=e("./attractor"),v=n.interopDefault(g);const b=(0,o.getEditionFromURL)()[0],w=(0,o.getRefererHostname)(),_=w.split(".").pop(),x=document.documentElement,I=new URLSearchParams(window.location.search).has("debug");(0,o.forceSecure)(false),x.classList.toggle("loading",!0),x.classList.add(I?"debug":_);const y=new(0,m.default);I&&console.log("TEST : Initialising",{capabilities:y,DOMAIN:b,HOST:w,LTD:_});const E=()=>{const e=document.getElementById("button-update");(0,l.showChangelog)(document.getElementById("changelog"));document.getElementById("pwa").setAttribute("open",!0),e.setAttribute("hidden",!1)},k=e=>{document.title!==e&&(document.title=e)},S=document.getElementById("version").innerText,M=()=>(0,l.installOrUpdate)(I,S).then((e=>{if(I&&(console.log("TEST : Fetched install status",{state:e,debugMode:I,runningVersion:S}),console.info("PWA",e.log,{state:e})),x.classList.toggle("updates-available",e.hasUpdates),x.classList.toggle("first-run",e.isFirstRun),x.classList.toggle("installable",e.isInstallable),x.classList.toggle("installed",e.isRunningAsApp),e.isInstallable){document.querySelectorAll(".button-install").forEach((t=>{t.addEventListener("click",(async r=>{const n=await e.install(t);console.log("installed",n.success,{installed:n}),(0,p.setToast)(n.success?"Installed to HomeScreen":"You can always install again in the future")}));document.querySelectorAll(`label[for="${t.id}"]`).hidden=!1,t.hidden=!1}))}else e.updatesAvailable&&E()})).catch((e=>{x.classList.add("failed"),console.error("Interface:PWA",e)}));x.classList.toggle("interface",!0),(async()=>(y.electron||(y.pwa||y.pwaPossible)&&await M(),(()=>{(0,s.setLoadProgress)(.5," ");const t=Object.assign({},globalThis._synth),r={...(0,c.getDomainDefaults)(w)},n=Object.keys(r);Object.keys(t).forEach((e=>n.indexOf(e)>-1?r[e]=t[e]:null));const l=(0,i.getBrowserLocales)()[0],p=(0,u.createStore)();let f=Date.now();e("a91a3d2b644d6c5a").then((async({createInterface:e})=>{const t=document.title;try{const n=await e(r,p,y,l,((e,r,n=!1)=>{.5!==e&&(f=Date.now()),Date.now(),n?((0,s.setLoadProgress)(e,"",!0),k(t)):e<1?((0,s.setLoadProgress)(e,r),k(`${t} - ${Math.ceil(100*e)} %`)):((0,s.setLoadProgress)(1,"Ready!",!0),k(t))}));n.setAutomator(new(0,v.default)(n)),I&&console.log(`InterFACE Version ${a.VERSION} from ${(0,o.getReferer)()} in ${l} used ${n.count} times, last time was ${Math.ceil(n.timeElapsedSinceLastPlay/1e3)} seconds ago`,{application:n,defaultOptions:r,referer:(0,o.getReferer)()})}catch(e){(0,d.showError)(e,"Oh no! Try a hard refresh (CTRL-SHIFT-R)",!0),console.error("Ultimate failure - remove loading - add error class?")}}))})()))().finally((()=>{I&&console.log("Starting PhotoSynth v."+S)}));const T=document.getElementById("version");(0,f.addMouseTapAndHoldEvents)(T),T.addEventListener(f.MOUSE_TAP,(e=>{})),T.addEventListener(f.MOUSE_HELD,(e=>{E(),e.preventDefault()}))},{"./location-handler":"6ch5Y","./dom/load-progress":"iSXnP","./version":"98oCg","./i18n":"xOeWy","./settings":"h7RGC","./pwa/pwa":"6fCzM","./store":"g3Glw","./dom/errors":"9dSnZ","./dom/tooltips":"9kkgM","./hardware/mouse":"euG5X","./capabilities":"cSvrf","./attractor":"9lSj9",a91a3d2b644d6c5a:"96lbq","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"6ch5Y":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"parseType",(()=>s)),n.export(r,"getLocationSettings",(()=>a)),n.export(r,"createQueryString",(()=>i)),n.export(r,"getShareLink",(()=>c)),n.export(r,"getReferer",(()=>l)),n.export(r,"getRefererHostname",(()=>u)),n.export(r,"getEditionFromURL",(()=>d)),n.export(r,"refresh",(()=>p)),n.export(r,"forceSecure",(()=>f)),n.export(r,"addToHistory",(()=>h));const o=e=>{if("string"==typeof e){const t=e.toLowerCase();return"true"===t||"1"===t||"false"!==t&&"0"!==t&&e}return Array.isArray(e)?e.toString():data},s=e=>"string"==typeof e?isNaN(parseFloat(e))?"true"===e.toLowerCase()||"false"!==e&&(e.indexOf(",")>=0?convertIntegerArrayToBooleans(e.split(",")):e):parseFloat(e):Array.isArray(e)?e.toString():e,a=e=>{{const t=new URLSearchParams(window.location.search),r=Object.assign({},e);for(const[e,n]of t)r[e]=o(n);return r}},i=e=>new URLSearchParams(e).toString(),c=e=>window.location+i(e),l=()=>document.referrer||document.location||"interface.place",u=()=>new URL(l()).hostname,d=()=>new URL(document.location).pathname.replace("/","").split("/"),p=e=>{e&&h(e),window.location.reload()},f=(e=!1)=>(e||"localhost"===location.hostname||"https:"===location.protocol||(location.protocol="https:"),!1),h=(e,t="")=>{const r=new URL(window.location);for(let t in e){const n=e[t];r.searchParams.set(t,n)}window.history.pushState(e,t,r)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"14tkN":[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach((function(r){"default"===r||"__esModule"===r||t.hasOwnProperty(r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],iSXnP:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"setLoadProgress",(()=>m)),n.export(r,"getLoadProgress",(()=>g));const o=document;let s=-1,a=-1;const i=["Please wait, this can take<br>up to 6 minutes to load!","Lots of data is required so this can take a long time","Still Loading! Still may take a few minutes yet!","Almost done! Just hang on in there!"],c=["Loading.","Loading..","Loading..."],l=1e3*i.length,u=o.querySelector('label[for="progress-bar"]'),d=o.querySelector("progress");let p,f="",h=Date.now();const m=(e,t,r=!1)=>{const n=parseInt(100*e),o=s!==n,g=Date.now();let v="";s<0&&(a=g);const b=(g-a)/l;o&&(s=s<n?s+1:s>n?s-1:s),cancelAnimationFrame(p);const w=g-h,_=.01*s;d.parentNode.style.setProperty("--progress",_),d.setAttribute("value",_),r&&!o?d.parentNode.setAttribute("data-loaded",!0):d.parentNode.setAttribute("data-loaded",!1),0===n?v=i[0]:t&&t.length&&f!==t&&w<900?(v=t,h=g):100===n?v=i[i.length-1]:(v=(e=>i[Math.floor(e*(i.length-1))]||c[0])(b),h=g),v+="<span class='load-percent'>"+n+"%</span>",u.innerHTML!==v&&(u.innerHTML=v,f=v),o&&(p=requestAnimationFrame((()=>{m(e,t,r)})))},g=()=>s},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"98oCg":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"VERSION",(()=>o)),n.export(r,"DATE",(()=>s));const o="0.16.0",s=1679689423651},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],xOeWy:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"trimLocaleCode",(()=>o)),n.export(r,"getBrowserLocales",(()=>s));const o=e=>e.split(/-|_/)[0],s=(e={})=>{const t=Object.assign({},{languageCodeOnly:!1,fallback:"en-GB"},e),r=void 0===navigator.languages?[navigator.language]:navigator.languages;return r?r.map((e=>{const r=e.trim();return t.languageCodeOnly?o(r):r})):t.fallback?[t.fallback]:void 0}},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],h7RGC:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"MIDI_ID",(()=>i)),n.export(r,"DEFAULT_TENSORFLOW_OPTIONS",(()=>c)),n.export(r,"DEFAULT_OPTIONS",(()=>l)),n.export(r,"KIDS_OPTIONS",(()=>u)),n.export(r,"BODY_OPTIONS",(()=>d)),n.export(r,"DANCE_OPTIONS",(()=>p)),n.export(r,"NAMES",(()=>f)),n.export(r,"getFactoryDefaults",(()=>h)),n.export(r,"getDomainDefaults",(()=>m)),n.export(r,"EYE_COLOURS",(()=>g)),n.export(r,"DEFAULT_VOICE_OPTIONS",(()=>v)),n.export(r,"DEFAULT_PERSON_OPTIONS",(()=>b));var o=e("./audio/instruments"),s=e("./palette"),a=e("./maths/easing");const i="00H 21H 71H",c={runtime:"mediapipe",solutionPath:"./@mediapipe/",maxFaces:1,refineLandmarks:!0,triangulateMesh:!1,boundingBox:!0,backEnds:["wasm","webgl"]},l={advancedMode:!0,showSettings:!1,showPiano:!1,metronome:!1,backingTrack:!1,clear:!1,synch:!0,disco:!1,overlays:!0,masks:!0,eyes:!0,quantise:!0,text:!0,spectrogram:!0,speak:!0,debug:false,muted:!1,duet:!1,stereo:!0,stereoPan:!0,midiChannel:"all",bpm:200,autoHide:!0,loadMIDIPerformance:!1,useGamePad:!0,model:"face",instrumentPack:o.INSTRUMENT_PACK_FATBOY,instrumentPacks:[o.INSTRUMENT_PACK_FATBOY,o.INSTRUMENT_PACK_FM,o.INSTRUMENT_PACK_MUSYNGKITE].join(","),photoSensitive:window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches||!1},u={...l,advancedMode:!1,text:!1,masks:!1},d={...l,backingTrack:!0},p={...l,instrumentPack:o.INSTRUMENT_PACK_MUSYNGKITE,instrumentPacks:[o.INSTRUMENT_PACK_MUSYNGKITE].join(",")},f=["a","b","c","d"].map((e=>`person-${e}`)),h=(e=l)=>Object.assign({},e),m=e=>{switch(e.split(".").pop().toLowerCase()){case"lol":return h(u);case"band":default:return h();case"dance":return h(p)}},g=["blue","green","brown","orange"],v={yaw:0,pitch:0,roll:0,hue:90,lipPercentage:0,eyeDirection:0,octave:4,note:-1,noteName:"",volume:0,singing:!1,mouthOpen:!1,active:!1},b={...s.DEFAULT_COLOURS,useDelay:!1,delayTime:.14,delayLength:10,stereoPan:!0,sendMIDI:!0,swapControls:!1,photoSensitive:!1,drawMesh:!1,drawNodes:!0,meshOnSing:!1,drawMask:!0,drawMouth:!0,drawEyes:!0,drawEyebrows:!0,scleraRadius:1,irisRadius:.8,pupilRadius:.3,eyeRatio:.8,mouseHoldDuration:.4,mouseGestureDistance:40,eyeShutHolddDuration:3500,feedback:.1,rollSensitivity:1.2,pitchSensitivity:1,mouthCutOff:.2,mouthSilence:.05,volumeRate:.7,instrumentPack:o.INSTRUMENT_PACK_MUSYNGKITE,precision:3,ease:a.easeInSine}},{"./audio/instruments":"ftlvJ","./palette":"bNJmu","./maths/easing":"8aGct","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],ftlvJ:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"MUSICAL_NOTES",(()=>s)),n.export(r,"INSTRUMENT_PACK_FM",(()=>a)),n.export(r,"INSTRUMENT_PACK_FATBOY",(()=>i)),n.export(r,"INSTRUMENT_PACK_MUSYNGKITE",(()=>c)),n.export(r,"INSTRUMENT_PACKS",(()=>l)),n.export(r,"DEFAULT_FOLDERS",(()=>u)),n.export(r,"instrumentFolders",(()=>d)),n.export(r,"instrumentNames",(()=>p)),n.export(r,"getRandomInstrument",(()=>h)),n.export(r,"getInstrumentFamily",(()=>m)),n.export(r,"getInstrumentTitle",(()=>g)),n.export(r,"createInstruments",(()=>v)),n.export(r,"instrumentCache",(()=>b)),n.export(r,"fetchInstrument",(()=>w)),n.export(r,"storeInstrument",(()=>_)),n.export(r,"loadInstrumentDataPack",(()=>x)),n.export(r,"getFolderNameForInstrument",(()=>I));var o=e("./midi/general-midi");const s=["â™«","ð…ž","ð…Ÿ","ð… ","ð…¡","ð…¢","ð…£","ð…¤"],a="FluidR3_GM",i="FatBoy",c="MusyngKite",l=[a,i],u=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot"];let d=u.map((e=>e+"-mp3")),p=d.map(((e,t)=>o.GENERAL_MIDI_INSTRUMENTS[t]));const f={};d.forEach(((e,t)=>f[e]=p[t]));const h=()=>d[Math.floor(Math.random()*d.length)],m=e=>o.FAMILY_DICTIONARY[e],g=e=>f[e],v=()=>u.map(((e,t)=>{const r=o.GENERAL_MIDI_INSTRUMENTS[t];return{folder:e,name:r,family:o.FAMILY_DICTIONARY[r],location:d[t]}})),b={},w=e=>b[e],_=(e,t)=>{b[e]=t},x=async(e="musyng.json",t="mp3")=>{const r=`./assets/audio/${e}`;try{const e=await fetch(r);return((e,t="mp3")=>e.map(((e,r)=>{const n=`${e}-${t}`;return d[r]=n,p[r]=o.GENERAL_MIDI_INSTRUMENTS[r],n})))(await e.json(),t)}catch(e){return[]}},I=e=>{let t=d.indexOf(e);return-1===t&&(t=p.indexOf(e)),d[t]}},{"./midi/general-midi":"dVWlb","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],dVWlb:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"GENERAL_MIDI_INSTRUMENTS",(()=>o)),n.export(r,"GENERAL_MIDI_INSTRUMENT_FAMILY_NAMES",(()=>s)),n.export(r,"GENERAL_MIDI_INSTRUMENT_FAMILY_IDS",(()=>a)),n.export(r,"GENERAL_MIDI_FAMILIES",(()=>i)),n.export(r,"GENERAL_MIDI_INSTRUMENT_FAMILIES",(()=>c)),n.export(r,"FAMILY_DICTIONARY",(()=>l)),n.export(r,"DrumKitByPatchID",(()=>d));const o=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],s=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","ethnic","percussive","sound effects"],a={0:"piano",7:"chromatic percussion",12:"organ",25:"guitar",33:"bass",41:"strings",49:"ensemble",57:"brass",65:"reed",69:"pipe",81:"synth lead",89:"synth pad",97:"synth effects",105:"ethnic",113:"percussive",123:"sound effects"},i=new Map,c={},l={};let u=a[0];o.forEach(((e,t)=>{a[t]&&(u=a[t]),i.set(u,[...i.get(u)||[],e]),l[e]=u}));const d={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],bNJmu:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DEFAULT_COLOURS",(()=>o)),n.export(r,"DAMI_KIM_COLOURS",(()=>s)),n.export(r,"PASTEL_COLOURS",(()=>a));const o={hue:90,saturation:80,luminosity:50,hueRange:360,dots:60,mouth:"rgba(255,0,0,0.5)",mouthClosed:"rgba(255,0,0,0.2)",lipsUpperInner:"pink",lipsLowerInner:"pink",midwayBetweenEyes:"blue",leftEyeLower0:"red",rightEyeLower0:"red",leftEyeIris:"yellow",rightEyeIris:"yellow"},s={...o},a={...o};r.default={white:"hsl(22, 28%, 87%)",dark:"hsl(30, 6%, 14%)",grey:"hsl(11, 6%, 50%)",cream:"hsl(27, 30%, 45%)",brown:"hsl(23, 22%, 30%)",blue:"hsl(196, 18%, 33%)",green:"hsl(56, 18%, 33%)",yellow:"hsl(56, 18%, 33%)",orange:"hsl(28, 69%, 38%)",red:"hsl(9, 58%, 35%)"}},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"8aGct":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"linear",(()=>o)),n.export(r,"easeInSine",(()=>s)),n.export(r,"easeOutSine",(()=>a)),n.export(r,"easeInOutSine",(()=>i)),n.export(r,"easeInQuad",(()=>c)),n.export(r,"easeOutQuad",(()=>l)),n.export(r,"easeInOutQuad",(()=>u)),n.export(r,"easeInCubic",(()=>d)),n.export(r,"easeOutCubic",(()=>p)),n.export(r,"easeInOutCubic",(()=>f)),n.export(r,"easeInQuart",(()=>h)),n.export(r,"easeOutQuart",(()=>m)),n.export(r,"easeInOutQuart",(()=>g)),n.export(r,"easeInQuint",(()=>v)),n.export(r,"easeOutQuint",(()=>b)),n.export(r,"easeInOutQuint",(()=>w)),n.export(r,"easeInExpo",(()=>_)),n.export(r,"easeOutExpo",(()=>x)),n.export(r,"easeInOutExpo",(()=>I)),n.export(r,"easeInCirc",(()=>y)),n.export(r,"easeOutCirc",(()=>E)),n.export(r,"easeInOutCirc",(()=>k)),n.export(r,"easeInBack",(()=>S)),n.export(r,"easeOutBack",(()=>M)),n.export(r,"easeInOutBack",(()=>T)),n.export(r,"easeInElastic",(()=>A)),n.export(r,"easeOutElastic",(()=>j)),n.export(r,"easeInOutElastic",(()=>L)),n.export(r,"easeOutBounce",(()=>O)),n.export(r,"easeInBounce",(()=>N)),n.export(r,"easeInOutBounce",(()=>P));const o=e=>e,s=e=>-1*Math.cos(e*(Math.PI/2))+1;function a(e){return Math.sin(e*(Math.PI/2))}function i(e){return-.5*(Math.cos(Math.PI*e)-1)}function c(e){return e*e}function l(e){return e*(2-e)}function u(e){return e<.5?2*e*e:(4-2*e)*e-1}function d(e){return e*e*e}function p(e){const t=e-1;return t*t*t+1}function f(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}function h(e){return e*e*e*e}function m(e){const t=e-1;return 1-t*t*t*t}function g(e){const t=e-1;return e<.5?8*e*e*e*e:1-8*t*t*t*t}function v(e){return e*e*e*e*e}function b(e){const t=e-1;return 1+t*t*t*t*t}function w(e){const t=e-1;return e<.5?16*e*e*e*e*e:1+16*t*t*t*t*t}function _(e){return 0===e?0:Math.pow(2,10*(e-1))}function x(e){return 1===e?1:1-Math.pow(2,-10*e)}function I(e){if(0===e||1===e)return e;const t=2*e,r=t-1;return t<1?.5*Math.pow(2,10*r):.5*(2-Math.pow(2,-10*r))}function y(e){const t=e/1;return-1*(Math.sqrt(1-t*e)-1)}function E(e){const t=e-1;return Math.sqrt(1-t*t)}function k(e){const t=2*e,r=t-2;return t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-r*r)+1)}function S(e,t=1.70158){return e*e*((t+1)*e-t)}function M(e,t=1.70158){const r=e/1-1;return r*r*((t+1)*r+t)+1}function T(e,t=1.70158){const r=2*e,n=r-2,o=1.525*t;return r<1?.5*r*r*((o+1)*r-o):.5*(n*n*((o+1)*n+o)+2)}function A(e,t=.7){if(0===e||1===e)return e;const r=e/1-1,n=1-t,o=n/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*r)*Math.sin((r-o)*(2*Math.PI)/n)}function j(e,t=.7){const r=1-t,n=2*e;if(0===e||1===e)return e;const o=r/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*n)*Math.sin((n-o)*(2*Math.PI)/r)+1}function L(e,t=.65){const r=1-t;if(0===e||1===e)return e;const n=2*e,o=n-1,s=r/(2*Math.PI)*Math.asin(1);return n<1?Math.pow(2,10*o)*Math.sin((o-s)*(2*Math.PI)/r)*-.5:Math.pow(2,-10*o)*Math.sin((o-s)*(2*Math.PI)/r)*.5+1}function O(e){const t=e/1;if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75){const e=t-1.5/2.75;return 7.5625*e*e+.75}if(t<2.5/2.75){const e=t-2.25/2.75;return 7.5625*e*e+.9375}{const e=t-2.625/2.75;return 7.5625*e*e+.984375}}function N(e){return 1-O(1-e)}function P(e){return e<.5?.5*N(2*e):.5*O(2*e-1)+.5}},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"6fCzM":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"isSupportingBrowser",(()=>p)),n.export(r,"uninstall",(()=>v)),n.export(r,"showChangelog",(()=>b)),n.export(r,"installOrUpdate",(()=>k));e("./servicewaiting.polyfill");var o=e("../version"),s=e("./platform");let a;const i=["standalone","fullscreen","minimal-ui"],c=i.filter((e=>window.matchMedia(`(display-mode:${e})`).matches)),l=i.includes(c),u=null===navigator.serviceWorker.controller,d=navigator.onLine,p=window.hasOwnProperty("BeforeInstallPromptEvent"),f=new URLSearchParams(window.location.search).installing||!1,h=s.isInWebAppiOS||l||s.isTWAAndroid||s.isMicrosoftStore||!1,m={ios:s.isIOS,android:s.isTWAAndroid,microsoft:s.isMicrosoftStore,firefox:(0,s.isFirefox)(),pwa:h,offline:!d,displayMode:c};let g;const v=()=>{navigator.serviceWorker.getRegistrations().then((e=>{for(let t of e)t.unregister().then((()=>self.clients.matchAll())).then((e=>{e.forEach((e=>{e.url&&"navigate"in e&&e.navigate(e.url)}))}))}))},b=async t=>{const{injectChangeLog:r,fetchChangesAsText:n}=await e("3ff03aacb10143d6"),o=await n("changelog");return r(t),o};let w=!1,_=!1,x=!1,I=!1;const y=o.VERSION;let E;const k=async(t=!1,r="")=>{let n=[],i={};if(!p)throw Error("Browser does not support PWA installation");h?n.push(`PWA ${o.VERSION} Installed, checking for updates`,{deferredPrompt:a,isFirstRun:u,isInWebAppiOS:s.isInWebAppiOS,isInWebAppChrome:l}):u?n.push(`PWA ${o.VERSION} AVAILABLE WWW / PWA`,{deferredPrompt:a,isFirstRun:u,first:navigator.serviceWorker.controller}):f?n.push(`PWA ${o.VERSION} was JUST installed`):n.push(`WWW ${o.VERSION}`,{deferredPrompt:a,isFirstRun:u,first:navigator.serviceWorker.controller});const c=await navigator.serviceWorker.getRegistration();if(c?.installing&&navigator.storage){const e=await navigator.storage.estimate();console.log("Checking for installed storage space",e)}if(c){const e=c.active,t=new URL(e.scriptURL);E=t.search.split("=")[1]||r,I=E!==o.VERSION;const s=e.state;n.push("PREVIOUS SW URL",`${t}`),n.push("EXPECTED VERSION",`${o.VERSION}`),n.push("SW Reg v",`${E} -> ${y}`,{updatesAvailable:x,previousVersion:E,registration:c,activatedState:s,activeWorker:e,previousServiceWorkerURL:t}),n.push(`SW State ${s}`),c.addEventListener("updatefound",(async()=>{const r=c.installing;n.push("Update found",{registration:c,installWorker:r,activeWorker:e,previousServiceWorkerURL:t}),_=!0,nstallingWorker?.waiting&&navigator.serviceWorker.controller&&n.push("sanity check",{installWorker:r,nav:navigator.serviceWorker.controller}),r&&r.addEventListener("statechange",(()=>{if("installed"===r.state)navigator.serviceWorker.controller?x=!0:(x=!1,n.push("update",r.state,{registration:c,installWorker:r})),n.push("update installed expected truth",navigator.serviceWorker.controller,{registration:c,installWorker:r});r.state}))}),{once:!0})}else n.push("PWA NO service worker registered");const v=`../service-worker.js#v=${o.VERSION}`;let b=await navigator.serviceWorker.register(v);if(n.push("Service worker with #",v,b),!b){const e=`../service-worker.js?v=${o.VERSION}`;b=await navigator.serviceWorker.register(e),n.push("Service worker with ?",e,b)}return b||(b=await navigator.serviceWorker.register(e("859dbabfced9cec8")),n.push("Service worker falling back to default :*(",b)),u?n.push("PWA FRESH service worker registering",{serviceWorker:b}):n.push("PWA registering service worker",{serviceWorker:b}),h||a||(a=await S(),w=!0,n.push("Waiting prompts",a)),i={log:n,online:d,offline:!d,previousVersion:E,currentVersion:y,isInstallable:w,isFirstRun:u,isRunningAsApp:h,hasUpdates:x&&!u,isInstalled:h,install:e=>{return t=e,r=a,new Promise((async(e,n)=>{if(!r)return n();window.addEventListener("appinstalled",(t=>{e({success:!0,log:"Your PWA has been installed"})}),{once:!0}),r.prompt(),t.disabled=!0,"accepted"===(await r.userChoice).outcome?(new URLSearchParams(window.location.search).installing=!0,g=!0,t.hidden=!0):(t.disabled=!1,g=!1,e({success:!1,log:"User chose to not install"}))}));var t,r},prompt:a,updatesAvailable:x,updating:_,updated:false,newVersionAvailable:I,update:()=>{c.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()},...m},i},S=()=>new Promise(((e,t)=>p?a?e(a):void window.addEventListener("beforeinstallprompt",(t=>{t.preventDefault(),e(t)}),{once:!0}):t("Unsupported Browser")));h||S().then((e=>a=e))},{"./servicewaiting.polyfill":"8WNcw","../version":"98oCg","./platform":"5AQG5","3ff03aacb10143d6":"6ja6U","859dbabfced9cec8":"lTsCa","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"8WNcw":[function(e,t,r){"waiting"in navigator.serviceWorker||(navigator.serviceWorker.waiting=new Promise((function(e){navigator.serviceWorker.ready.then((function(t){function r(){t.installing.addEventListener("statechange",(function(){"installed"===this.state&&e(t)}))}t.waiting&&e(t),t.installing&&r(),t.addEventListener("updatefound",r)}))})))},{}],"5AQG5":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"isInWebAppiOS",(()=>o)),n.export(r,"isIOS",(()=>s)),n.export(r,"isTWAAndroid",(()=>a)),n.export(r,"isMicrosoftStore",(()=>i)),n.export(r,"isFirefox",(()=>c));const o="standalone"in navigator?!0===window.navigator.standalone:matchMedia("(display-mode: standalone)").matches,s=navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")||navigator.userAgent.includes("Macintosh")&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,a=document.referrer.includes("android-app://"),i=Array.isArray(navigator.userAgent.match(/MSAppHost/i)),c=()=>{}},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"6ja6U":[function(e,t,r){t.exports=e("f509b357278d1bcc")(e("eb5da8a2775c8f2f").getBundleURL("kPWjp")+e("877c3d1dec68d3ab").resolve("ecLhi")).then((()=>t.bundle.root("fkDEI")))},{f509b357278d1bcc:"7mk4K",eb5da8a2775c8f2f:"bGZ1f","877c3d1dec68d3ab":"6jNRu"}],"7mk4K":[function(e,t,r){"use strict";var n=e("2775bce41e291bc9");t.exports=n((function(e){return new Promise((function(t,r){var n=document.getElementsByTagName("script");if([].concat(n).some((function(t){return t.src===e})))t();else{var o=document.createElement("link");o.href=e,o.rel="preload",o.as="script",document.head.appendChild(o);var s=document.createElement("script");s.async=!0,s.type="text/javascript",s.src=e,s.onerror=function(t){var n=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));s.onerror=s.onload=null,s.remove(),r(n)},s.onload=function(){s.onerror=s.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(s)}}))}))},{"2775bce41e291bc9":"beMRV"}],beMRV:[function(e,t,r){"use strict";var n={},o={},s={};t.exports=function(e,t){return function(r){var a=function(e){switch(e){case"preload":return o;case"prefetch":return s;default:return n}}(t);return a[r]?a[r]:a[r]=e.apply(null,arguments).catch((function(e){throw delete a[r],e}))}}},{}],bGZ1f:[function(e,t,r){"use strict";var n={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r.getBundleURL=function(e){var t=n[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),n[e]=t),t},r.getBaseURL=o,r.getOrigin=function(e){var t=(""+e).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^/]+/);if(!t)throw new Error("Origin not found");return t[0]}},{}],lTsCa:[function(e,t,r){t.exports=e("ac78a50eaa4568bf").getBundleURL("kPWjp")+e("8acd36c42c2854e4").resolve("6ZiDd")},{ac78a50eaa4568bf:"bGZ1f","8acd36c42c2854e4":"6jNRu"}],g3Glw:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createStore",(()=>s));var o=e("./utils");const s=(e="InterFACE")=>{const t=localStorage.getItem(e),r=Object.assign({},JSON.parse(t)),n=(0,o.debounce)((t=>{const r=JSON.stringify(t);localStorage.setItem(e,r)}),20);return{save:n,has:e=>!!r[e],removeItem:e=>{delete r[e],n(r)},getItem:e=>r[e],setItem:(e,t)=>(r[e]=Object.assign({},r[e],t),n(r),r)}}},{"./utils":"9g7cm","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"9g7cm":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"convertOptionToObject",(()=>o)),n.export(r,"debounce",(()=>s)),n.export(r,"memoize",(()=>a)),n.export(r,"injectJavascript",(()=>i)),n.export(r,"b64ToUint6",(()=>c)),n.export(r,"uint6ToB64",(()=>l)),n.export(r,"decodeBase64",(()=>u)),n.export(r,"base64DecToArr",(()=>d)),n.export(r,"base64EncArr",(()=>p)),n.export(r,"UTF8ArrToStr",(()=>f)),n.export(r,"strToUTF8Arr",(()=>h)),n.export(r,"toBytes",(()=>m)),n.export(r,"toVarLenBytes",(()=>g));const o=e=>e.reduce(((e,t)=>{const r=t.split(":");return e[r[0]]=parseFloat(r[1]),e}),{}),s=(e,t)=>{let r;return(...n)=>(clearTimeout(r),r=setTimeout((()=>e(...n)),t),r)},a=e=>{const t=new Map;return(...r)=>{if(t.has(r))return t.get(r);const n=e.apply(void 0,r);return t.set(r,n),n}},i=async e=>new Promise(((t,r)=>{const n=document.createElement("script");n.onload=()=>{t(e)},n.onerror=e=>{r(e)},n.src=e,document.head.appendChild(n)})),c=e=>e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0,l=e=>e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65,u=(e,t)=>{const r=e.replace(/[^A-Za-z0-9\+\/]/g,""),n=r.length,o=t?Math.ceil((3*n+1>>2)/t)*t:3*n+1>>2,s=new Uint8Array(o);for(let e,t,a=0,i=0,l=0;l<n;l++)if(t=3&l,a|=c(r.charCodeAt(l))<<18-6*t,3===t||n-l==1){for(e=0;e<3&&i<o;e++,i++)s[i]=a>>>(16>>>e&24)&255;a=0}return s},d=(e,t)=>{for(var r,n,o=e.replace(/[^A-Za-z0-9\+\/]/g,""),s=o.length,a=t?Math.ceil((3*s+1>>2)/t)*t:3*s+1>>2,i=new Uint8Array(a),l=0,u=0,d=0;d<s;d++)if(n=3&d,l|=c(o.charCodeAt(d))<<6*(3-n),3===n||s-d==1){for(r=0;r<3&&u<a;r++,u++)i[u]=l>>>(16>>>r&24)&255;l=0}return i},p=e=>{let t=2,r="";for(var n=e.length,o=0,s=0;s<n;s++)t=s%3,s>0&&4*s/3%76==0&&(r+="\r\n"),o|=e[s]<<(16>>>t&24),2!==t&&e.length-s!=1||(r+=String.fromCodePoint(l(o>>>18&63),l(o>>>12&63),l(o>>>6&63),l(63&o)),o=0);return r.substr(0,r.length-2+t)+(2===t?"":1===t?"=":"==")},f=e=>{let t="";for(var r,n=e.length,o=0;o<n;o++)r=e[o],t+=String.fromCodePoint(r>251&&r<254&&o+5<n?1073741824*(r-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>247&&r<252&&o+4<n?(r-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>239&&r<248&&o+3<n?(r-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>223&&r<240&&o+2<n?(r-224<<12)+(e[++o]-128<<6)+e[++o]-128:r>191&&r<224&&o+1<n?(r-192<<6)+e[++o]-128:r);return t},h=e=>{for(var t,r,n=e.length,o=0,s=0;s<n;s++)(r=e.codePointAt(s))>65536&&s++,o+=r<128?1:r<2048?2:r<65536?3:r<2097152?4:r<67108864?5:6;t=new Uint8Array(o);for(var a=0,i=0;a<o;i++)(r=e.codePointAt(i))<128?t[a++]=r:r<2048?(t[a++]=192+(r>>>6),t[a++]=128+(63&r)):r<65536?(t[a++]=224+(r>>>12),t[a++]=128+(r>>>6&63),t[a++]=128+(63&r)):r<2097152?(t[a++]=240+(r>>>18),t[a++]=128+(r>>>12&63),t[a++]=128+(r>>>6&63),t[a++]=128+(63&r),i++):r<67108864?(t[a++]=248+(r>>>24),t[a++]=128+(r>>>18&63),t[a++]=128+(r>>>12&63),t[a++]=128+(r>>>6&63),t[a++]=128+(63&r),i++):(t[a++]=252+(r>>>30),t[a++]=128+(r>>>24&63),t[a++]=128+(r>>>18&63),t[a++]=128+(r>>>12&63),t[a++]=128+(r>>>6&63),t[a++]=128+(63&r),i++);return t},m=(e,t)=>{const r=new Array(t);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>=8;return r},g=e=>{const t=[];let r=!0;do{const n=127&e;e>>=7,r?(t.unshift(n),r=!1):t.unshift(128|n)}while(e>0);return t}},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"9dSnZ":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"showError",(()=>s));var o=e("../dom/button");const s=(e,t,r=!1)=>{const n=document.documentElement;n.classList.add("failure"),n.classList.remove("loading");if(document.getElementById("errors").open=!0,r){document.getElementById("feedback").appendChild((0,o.showReloadButton)(!0));const e=new Audio;e.src="/assets/audio/lemmings.wav",e.play()}document.getElementById("error-details").innerText=e,console.error("Could not load",{fatal:r},e),console.warn("Consider:",t)}},{"../dom/button":"6WDhH","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"6WDhH":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"setButton",(()=>c)),n.export(r,"setPressureButton",(()=>l)),n.export(r,"createButton",(()=>u)),n.export(r,"showReloadButton",(()=>d)),n.export(r,"createInstallButton",(()=>p)),n.export(r,"showUpdateButton",(()=>f)),n.export(r,"setupMIDIButton",(()=>h));var o=e("./tooltips"),s=e("../version"),a=e("../models/info"),i=e("../hardware/mouse");const c=(e,t,r="mousedown",n=!1)=>{const o="string"==typeof e?document.getElementById(e):e;return o?(o.addEventListener(r,(e=>{n&&e.preventDefault(),t&&t({element:o,event:e})})),o):null},l=(e,t,r,n)=>{const o="string"==typeof e?document.getElementById(e):e;return o?((0,i.addMouseTapAndHoldEvents)(o),o.addEventListener(i.MOUSE_TAP,(e=>{t&&t(e)})),o.addEventListener(i.MOUSE_HOLDING,(e=>{n&&n(e)})),o.addEventListener(i.MOUSE_HELD,(e=>{r&&r(e)})),o):null},u=(e,t,r="")=>{const n=document.createElement("button");return n.classList.add(r),n.setAttribute("type","button"),n.setAttribute("aria-label",t),n.innerHTML=e,(0,o.addTooltip)(n),n},d=e=>{const t=u("Try again! Reload and reset","Reload this application!","reload-app");return t.addEventListener("click",(t=>{e&&history.replaceState(null,null,"?"),window.location.reload()})),t.id="button-reload",t},p=e=>{const t=`Click to install ${e.short_name} V-${s.VERSION.replaceAll(".","-")}<br>Date:${a.formattedDate}`,r=u("Install",t,"install-app");return r.id="button-install",r.style.setProperty("--logo",`url(${e.icons[0].src})`),r},f=(e,t)=>{const r=u("Update","Update to new version","update-available");r.id="button-update",r.addEventListener("click",(()=>t()))},h=(e,t)=>{let r=!1;return e.addEventListener("mousedown",(async e=>(e.preventDefault(),t&&t(),r=!0,!1)),{once:!0}),{setText:t=>e.innerHTML=t,setLabel:t=>e.setAttribute("aria-label",t)}}},{"./tooltips":"9kkgM","../version":"98oCg","../models/info":"dytk0","../hardware/mouse":"euG5X","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"9kkgM":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"setToast",(()=>s)),n.export(r,"addTooltip",(()=>i)),n.export(r,"removeTooltip",(()=>c)),n.export(r,"addToolTips",(()=>l));const o=document.getElementById("toast"),s=((e,t=6,r=550)=>{let n="",o=null,s=null,a=!1,i=!1;return e?(c,l=t)=>{function u(t=0,n=1,l=!1){cancelAnimationFrame(s);const d=c.slice(0,t);if(t<c.length)e.innerHTML=d,a=!0,s=requestAnimationFrame((()=>u(t+n,n,!0)));else{a=!1,e.innerHTML=c;const t=r*c.length;o=setTimeout((()=>{e.innerHTML="",i=!0}),t)}}clearInterval(o),c!==n&&(l<1?u(c.length,10):u(a?n.length:0,l),n=c)}:null})(o),a=new Map,i=e=>{const t=e=>{const t=e.target.getAttribute("aria-label")||e.target.innerText,r="BUTTON"===e.target.nodeName?e.target:e.target.parentElement;var n;n=r,o.setAttribute("style",`--left: ${n.offsetLeft}; \n\t\t --top: ${n.offsetTop};`),s(t)};e.addEventListener("mouseover",t),a.set(e,t)},c=e=>{const t=a.get(e);t&&(e.removeEventListener("mouseover",t),a.delete(e))},l=(e,t="button, select, input")=>{e.querySelectorAll(t).forEach((e=>i(e)))}},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],dytk0:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"formattedDate",(()=>a));var o=e("../version");const s=new Date(o.DATE),a=`${s.getDate()}/${s.getMonth()+1}/${s.getFullYear()} ${s.toLocaleTimeString("en-GB",{hour12:!0,hour:"numeric",minute:"numeric"})}`},{"../version":"98oCg","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],euG5X:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"MOUSE_HELD",(()=>s)),n.export(r,"MOUSE_HOLDING",(()=>a)),n.export(r,"MOUSE_TAP",(()=>i)),n.export(r,"addMouseTapAndHoldEvents",(()=>c)),n.export(r,"getMouseCoords",(()=>u)),n.export(r,"watchMouseCoords",(()=>d));const o=()=>performance.now()||Date.now(),s="mouse_held",a="mouse_holding",i="mouse_tap",c=(e,t=!1,r=800)=>{let n=-1,c=!1,l=!1,u=!1;const d=(t,r={})=>{e.dispatchEvent(new CustomEvent(t,{detail:r}))},p=()=>{if(c&&l){const e=o()-n;if(e<r){const t=1-e/r,n=100-Math.ceil(100*t);d(a,{elapsed:e,isMouseOver:c,remaining:t,percentageRemaining:n}),requestAnimationFrame(p)}else u=!0,t||d(s,{elapsed:e,isMouseOver:c})}},f=e=>{if(e.preventDefault(),!l)return;const a=o()-n;a<r?d(i,{elapsed:a,isMouseOver:c}):u&&t&&d(s,{elapsed:a,isMouseOver:c}),n=-1,l=!1,document.removeEventListener("mouse",f)};return e.addEventListener("mousedown",(e=>{n=o(),l=!0,u=!1,p(),e.preventDefault(),document.addEventListener("mouseup",f,!1)})),e.addEventListener("mouseover",(e=>{c=!0})),e.addEventListener("mouseout",(e=>{c=!1})),e},l={x:0,y:0},u=()=>l,d=(e,t)=>{e.addEventListener("mousemove",(e=>{l.x=e.pageX||e.clientX,l.y=e.pageY||e.clientY,t&&t(l)}),!1)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],cSvrf:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"testForMIDI",(()=>s)),n.export(r,"hasTouchEvents",(()=>a)),n.export(r,"hasFileHandler",(()=>i)),n.export(r,"isNode",(()=>c)),n.export(r,"isElectron",(()=>l));var o=e("72ff4dd18faa17c4");const s=()=>void 0!==navigator.requestMIDIAccess,a=()=>{try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},i=()=>"launchQueue"in window&&"files"in LaunchParams.prototype,c=()=>!(void 0!==o),l=()=>"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!(void 0===o||"object"!=typeof o.versions||!o.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0);r.default=class{fileHandlerAvailable=void 0;webMIDIAvailable=void 0;cameraAvailble=void 0!==navigator.getUserMedia;pwaPossible="serviceWorker"in navigator;mouse=void 0;touchScreen=void 0;electron=void 0;node=void 0;get willWork(){return this.cameraAvailble}constructor(){this.fileHandlerAvailable=i(),this.touchScreen=a(),this.webMIDIAvailable=s(),this.mouse=!window.matchMedia("(hover: none)").matches,this.electron=l(),this.node=c()}}},{"72ff4dd18faa17c4":"5xM3z","@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"5xM3z":[function(e,t,r){var n,o,s=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var l,u=[],d=!1,p=-1;function f(){d&&l&&(d=!1,l.length?u=l.concat(u):p=-1,u.length&&h())}function h(){if(!d){var e=c(f);d=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||d||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],"9lSj9":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);r.default=class{barCounter=0;constructor(e){this.application=e}tick(e,t=0){const r=this.application.getPlayers();this.application.isUserActive()?0===t&&(this.barCounter++,r.forEach((e=>{e.timeSinceInstrumentChanged>180&&e.loadRandomInstrument()})),this.barCounter%2&&this.application.setRandomDrumPattern()):0===t&&(this.barCounter++,r.forEach((e=>{!e.isFormShowing&&e.timeSinceInstrumentChanged>180&&e.loadRandomInstrument()})),this.barCounter%2&&this.application.setRandomDrumPattern())}tock(e,t){}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"14tkN"}],"96lbq":[function(e,t,r){t.exports=e("c37130f448e49c82")(e("649b208084ddcf3d").getBundleURL("kPWjp")+e("a5b6e095bd19ca63").resolve("dQYJg")).then((()=>t.bundle.root("3mTtx")))},{c37130f448e49c82:"7mk4K","649b208084ddcf3d":"bGZ1f",a5b6e095bd19ca63:"6jNRu"}]},["841yM","gPDLX"],"gPDLX","parcelRequireaaed");