{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-70116761eed3ae58.js","source/wam.js","source/audio/wam2/simple/index.js","node_modules/@webaudiomodules/sdk-parammgr/src/ParamMgrFactory.js","node_modules/@webaudiomodules/sdk-parammgr/src/sdk/src/addFunctionModule.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","node_modules/@webaudiomodules/sdk-parammgr/src/ParamMgrProcessor.js","node_modules/@webaudiomodules/sdk-parammgr/src/ParamConfigurator.js","node_modules/@webaudiomodules/sdk-parammgr/src/sdk/src/WamParameterInfo.js","node_modules/@webaudiomodules/sdk-parammgr/src/ParamMgrNode.js","node_modules/@webaudiomodules/sdk-parammgr/src/MgrAudioParam.js","source/audio/wam2/simple/simple.wam.js","node_modules/@parcel/runtime-js/lib/runtime-7d48df485f1073f8.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","source/audio/wam2/simple/descriptor.json","node_modules/@parcel/runtime-js/lib/runtime-647c72d04f94bb8d.js","node_modules/@parcel/runtime-js/lib/runtime-628cbfaa92095978.js","node_modules/@parcel/runtime-js/lib/runtime-eca71a8d03ac499d.js","node_modules/@parcel/runtime-js/lib/runtime-974050024f041546.js","node_modules/@parcel/runtime-js/lib/helpers/browser/js-loader.js","node_modules/@parcel/runtime-js/lib/helpers/cacheLoader.js","node_modules/@parcel/runtime-js/lib/runtime-beacefc0f63626da.js","node_modules/@parcel/runtime-js/lib/runtime-8f4a7367ed2c98e0.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"88037bc0399edeb0\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n\n  // Web extension context\n  var extCtx = typeof chrome === 'undefined' ? typeof browser === 'undefined' ? null : browser : chrome;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('üö® [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  ws.onerror = function (e) {\n    console.error(e.message);\n  };\n  ws.onclose = function () {\n    console.warn('[parcel] üö® Connection to the HMR server was lost');\n  };\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ‚ú® Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          üö® ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>üí° ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>üìù <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 ? void 0 : _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension bugfix for Chromium\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1255412#c12\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3) {\n            if (typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n              extCtx.runtime.reload();\n              return;\n            }\n            asset.url = extCtx.runtime.getURL('/__parcel_hmr_proxy__?url=' + encodeURIComponent(asset.url + '?t=' + Date.now()));\n            return hmrDownload(asset);\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 ? void 0 : _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","\r\n// import { LookingGlassWebXRPolyfill, LookingGlassConfig } from \"/node_modules/@lookingglass/webxr/dist/@lookingglass/webxr.mjs\"\r\n// import { LookingGlassWebXRPolyfill, LookingGlassConfig } from \"@lookingglass/webxr\"\r\nimport * as THREE from \"three/src/Three.js\"\r\n// import { VRButton } from \"three/examples/jsm/webxr/VRButton.js\"\r\n\r\n// this just uses Parcel to bundle the file locally\r\n// and stores the URL that the file is available  in the plugin constant\r\n//- import pluginURL from 'url:./audio/wam2/simple/index.js'\r\n\r\nimport { initializeWamHost } from \"@webaudiomodules/sdk\"\r\nimport SimplePlugin from \"./audio/wam2/simple/index.js\"\r\n// import WAM2Instrument from \"./audio/instruments/instrument.wam2.js\"\r\n\r\n// import simplePluginURI from \"url:./audio/wam2/simple/index.js\"\r\n\r\n// import simplePluginURI from \"worklet:./audio/wam2/simple/index.js\"\r\n// console.error(\"WAM:\", simplePluginURI)\r\n\r\n// import samplerPluginURI from \"url:./audio/wam2/sampler/index.js\"\r\n// import samplerPluginURI from \"worklet:./audio/wam2/sampler/index.js\"\r\n\r\n// import synthWAMPlugin from \"./audio/wam2-external/tinySynth/src/index.js\"\t\r\n// import synthWAMPlugin from \"./audio/wam2-external/synth101/src/index.tsx\"\t\r\n// import synthWAMPlugin from \"url:./audio/wam2-external/WamExample/src/index.js\"\t\r\n\r\nimport audioSample from 'url:/dist/assets/audio/Fatboy/bright_acoustic_piano-mp3/C3.mp3'\r\nimport workletUrl from \"worklet:./audio/worklets/sampler.worklet.js\"\r\n\r\n\r\n// TESTING\r\n// import createAppInterface from './interface-test.js'\r\n\r\n\r\nlet initialised = false\r\nlet currentPluginAudioNode\r\n\r\nconst createAudioProcessor = async(audioContext) => {\r\n\r\n\ttry {\r\n\t\r\n\t\tawait audioContext.audioWorklet.addModule(workletUrl)\r\n\t\r\n\t} catch (e) {\r\n\t\tconsole.error(\"Audio Processor failed\", e)\r\n\t\treturn null\r\n\t}\r\n\r\n\r\n\treturn new AudioWorkletNode(audioContext, \"sampler-processor\")\r\n}\r\n\r\nconst create = async(audioContext) => {\r\n\r\n\t// Create a wrapped WAM\r\n\t// const wam = new WAM2Instrument( audioContext, audioContext.destination, {wamURL:simplePluginURI} )\r\n\t// console.log(\"Creating wam\", {wam, simplePluginURI} )\r\n\r\n\t// load main plugin file\r\n\t// const { default: synthWAMPlugin } = await import(\"./audio/wam2-external/synth101/src/index.tsx\")\r\n\tconst { default: simpleWAMPlugin } = await import(\"./audio/wam2/simple/index.js\")\r\n\tconst { default: pingPongDelayWAMPlugin } = await import(\"./audio/wam2/pingpongdelay/index.js\")\r\n\tconst { default: samplerWAMPlugin } = await import(\"./audio/wam2/sampler/index.js\")\r\n\t\r\n\tconst [hostGroupId] = await initializeWamHost(audioContext)\r\n\r\n\t// You can can optionally specify additional information such as the initial state \r\n\t// Create a new instance of the plugin, equivalent to :\r\n\t// const wam = new WAM(audioCtx);\r\n\t// await wam.initialize(initialState);\r\n\r\n\tconsole.log(\"Creating WAM Instruments...\", {hostGroupId, simpleWAMPlugin}  )\r\n\r\n\tconst simplePlugin = await simpleWAMPlugin.createInstance(hostGroupId, audioContext, {})\r\n\tconsole.log(\"Created simplePlugin Instrument\", {simplePlugin} )\r\n\r\n\t// const pingPongDelayPlugin = await pingPongDelayWAMPlugin.createInstance(hostGroupId, audioContext, {})\r\n\t// console.log(\"Created pingPongDelayPlugin Instrument\", { pingPongDelayPlugin} )\r\n\r\n\tconst samplerPlugin = await samplerWAMPlugin.createInstance(hostGroupId, audioContext, {})\r\n\tconsole.log(\"Created samplerPlugin Instrument\", {samplerPlugin, audioSample} )\r\n\t\r\n\tconst sample = await samplerPlugin.audioNode.loadAudio( audioSample )\r\n\tsamplerPlugin.audioNode.play( sample )\r\n\t\r\n\tconst sampleRaw = await samplerPlugin.audioNode.loadAudioArrayBuffer( audioSample )\r\n\t\r\n\tconst cpu = await createAudioProcessor( audioContext )\r\n\tconsole.log(\"Created Audio Worklet\", {cpu, audioSample, sample, sampleRaw} )\r\n\r\n\tif (!cpu){\r\n\t\t// now worklet availability :(\r\n\t\tconsole.error(\"FAILED Audio Worklet\", {cpu} )\r\n\t}else{\r\n\t\tcpu.port.postMessage(\"load\")\r\n\t}\r\n\t\r\n\r\n\t// GUI -----------------------------------------------------\r\n\t// Now Locate the HTMLElement for controlling playback\r\n\tconst player = document.querySelector('#player')\r\n\r\n\t// Tie the UI into the HTML\r\n\tconst mediaElementSource = audioContext.createMediaElementSource(player)\t\r\n\t\r\n\t\r\n\t// Very simple function to connect the plugin audionode to the host\r\n\tconst connectPlugin = (context, inputNode, plugin) => {\r\n\t\t\r\n\t\tconst pluginNode = plugin.audioNode\r\n\t\tconst masterGain = new GainNode(context)\r\n\t\t// grab the onscreen streaming media item\r\n\t\r\n\t\t// connect the source to plugin\r\n\t\t// const simpleGainPluginAudioNode = simplePlugin.getAudioNode()\r\n\t\tinputNode.connect(plugin.audioNode)\r\n\r\n\t\t// simpleGainPluginAudioNode.connect(audioContext.destination);\r\n\t\tpluginNode.connect(masterGain)\r\n\t\t// pingPongDelayPlugin.audioNode.connect(output.destination)\r\n\r\n\t\t// now connect our final node to the audioContext output\r\n\t\tmasterGain.connect(context.destination)\r\n\r\n\t\tconsole.log(\"Creating Media source\", {context, inputNode, plugin} )\r\n\r\n\t\t// return the audio node within the plugin\r\n\t\treturn pluginNode\r\n\t}\r\n\r\n\r\n\t// Very simple function to append the plugin root dom node to the host\r\n\tconst mountPlugin = (domNode) => {\r\n\t\tmount.innerHtml = ''\r\n\t\tmount.appendChild(domNode)\r\n\t}\r\n\r\n\t// create a data object that contains the full state of the plugin\r\n\tconst downloadState = async () => {\r\n\t\tlet state = await pluginInstance.audioNode.getState()\r\n\t\tconst blob = new Blob([JSON.stringify(state, undefined, 2)])\r\n\t\tconst link = document.createElement('a')\r\n\t\tlink.href = URL.createObjectURL(blob)\r\n\t\tlink.download = 'state.json'\r\n\t\tlink.click()\r\n\t}\r\n\r\n\t// plugins AudioNodes are bypassed by default.\r\n\t// pingPongDelayPlugin.setState({ enabled: true })\r\n\r\n\t// instance.audioNode is the plugin WebAudio node (native, AudioWorklet or\r\n\t// Composite). It can then be connected to the WebAudio graph.\r\n\r\n\t// then create the GUI\r\n\t//- const pluginDomNode = await pingPongDelayPlugin.createGui()\r\n\t//- for example\r\n\t//- document.appendChild(pluginDomNode)\r\n\r\n\t//currentPluginAudioNode = connectPlugin( audioContext, mediaElementSource, simplePlugin )\r\n\tcurrentPluginAudioNode = connectPlugin( audioContext, mediaElementSource, samplerPlugin )\r\n\r\n\t// now watch for events from the media player on screen\r\n\tplayer.onplay = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\t// audio context must be resumed because browser restrictions\r\n\t\tawait audioContext.resume() \r\n\t\tconsole.log(\"Playing back audio with fx\", event, {player, mediaElementSource} )\r\n\t}\r\n\r\n\tconst noteOn = ( noteNumber=74, velocity=100 ) => {\r\n\r\n\t\t//console.error(\"currentPluginAudioNode\", currentPluginAudioNode )\r\n\r\n\t\tcurrentPluginAudioNode.noteOn(noteNumber, velocity )\r\n\t\t// currentPluginAudioNode.scheduleEvents({ \r\n\t\t// \ttype: 'wam-midi', \r\n\t\t// \ttime: audioContext.currentTime, \r\n\t\t// \tdata: { bytes: new Uint8Array([0x90, noteNumber, velocity]) } \r\n\t\t// })\r\n\t\tcurrentPluginAudioNode.play( sample )\r\n\t}\r\n\r\n\tconst noteOff = ( noteNumber=74, velocity=100 ) => {\r\n\r\n\t\t//console.error(\"currentPluginAudioNode\", currentPluginAudioNode )\r\n\r\n\t\tcurrentPluginAudioNode.noteOff(noteNumber, velocity )\r\n\r\n\t\t// currentPluginAudioNode.scheduleEvents({ \r\n\t\t// \ttype: 'wam-midi', \r\n\t\t// \ttime: audioContext.currentTime + 0.25, \r\n\t\t// \tdata: { bytes: new Uint8Array([0x80, noteNumber, velocity]) } \r\n\t\t// })\r\n\t}\r\n\r\n\t// player.play()\r\n\r\n\tconsole.log(\"Creating WAM Plugin\", {player, currentPluginAudioNode, mediaElementSource} )\r\n\r\n\t// play the thing with different inputs!\r\n\twindow.addEventListener(\"keydown\", event => {\r\n\t\r\n\t\tconst keyNumber = parseInt(event.key)\r\n\t\tconst isNumber = !isNaN( keyNumber )\r\n\t\tconst focussedElement = document.activeElement\r\n\t\tif (isNumber)\r\n\t\t{\r\n\t\t\tnoteOn( keyNumber * 10 )\r\n\t\t}else{\r\n\t\t\tnoteOn( (Math.random() * 100) >> 0 )\r\n\t\t}\t\r\n\t})\r\n\r\n\twindow.addEventListener(\"keyup\", event => {\r\n\t\r\n\t\tconst keyNumber = parseInt(event.key)\r\n\t\tconst isNumber = !isNaN( keyNumber )\r\n\t\tconst focussedElement = document.activeElement\r\n\t\tif (isNumber)\r\n\t\t{\r\n\t\t\tnoteOff( keyNumber * 10 )\r\n\t\t}\r\n\t})\r\n}\r\n\r\n\r\n\r\nconst init = async () => {\r\n\r\n\tif (initialised)\r\n\t{\r\n\t\treturn\r\n\t}\r\n\r\n\tinitialised = true\r\n\t\t\r\n\t\t\r\n\t// make the URL relative...\r\n\t//- let testURL = pluginURL.split(\"?\")[0]\r\n\t//- testURL = testURL.replace(\"http://localhost:909/\", \"\")\r\n\t//- const wamURL = new URL(testURL, import.meta.url)\r\n\t\r\n\t// Safari...\r\n\tconst AudioContext = window.AudioContext || window.webkitAudioContext || false\r\n\r\n\tif (AudioContext)\r\n\t{\r\n\t\tconst context = new AudioContext({ latencyHint: 'playback' })\r\n\t\tawait create(context)\r\n\t\t//- console.log(import.meta, \"plugin URL\", {pluginURL, testURL, wamURL})\r\n\t\tconsole.log(\"Plugin created?\")\r\n\t}else{\r\n\r\n\t\tconsole.error(\"No Audio Engine on this browser ;(\")\r\n\t}\r\n\r\n\t/*\r\n\tconst config = LookingGlassConfig\r\n\tconfig.tileHeight = 512\r\n\tconfig.numViews = 45\r\n\tconfig.targetY = 0\r\n\tconfig.targetZ = 0\r\n\tconfig.targetDiam = 3\r\n\tconfig.fovy = (14 * Math.PI) / 180\r\n\tnew LookingGlassWebXRPolyfill()\r\n\r\n\tconst scene = new THREE.Scene()\r\n\r\n\tconst cube = new THREE.Mesh(\r\n\t\tnew THREE.BoxGeometry(2, 0.1, 0.1),\r\n\t\tnew THREE.MeshStandardMaterial({ color: \"red\" })\r\n\t)\r\n\r\n\tscene.add(cube)\r\n\r\n\tscene.add(new THREE.AmbientLight(0xaaaaaa))\r\n\tconst directionalLight = new THREE.DirectionalLight(0xffffff)\r\n\tdirectionalLight.position.set(3, 3, 3)\r\n\tscene.add(directionalLight)\r\n\r\n\tconst renderer = new THREE.WebGLRenderer({ antialias: true })\r\n\tdocument.body.append(renderer.domElement)\r\n\trenderer.xr.enabled = true\r\n\r\n\tconst camera = new THREE.PerspectiveCamera()\r\n\tcamera.position.z = 3\r\n\r\n\trenderer.setAnimationLoop(() => {\r\n\t\tcube.rotation.z += 0.01\r\n\t\tcube.rotation.x += 0.02\r\n\t\trenderer.render(scene, camera)\r\n\t});\r\n\r\n\tdocument.body.append(VRButton.createButton(renderer))\r\n\r\n\tfunction resize() {\r\n\t\trenderer.setSize(innerWidth, innerHeight)\r\n\t\tcamera.aspect = innerWidth / innerHeight\r\n\t\tcamera.updateProjectionMatrix()\r\n\t}\r\n\tresize()\r\n\twindow.addEventListener(\"resize\", resize)\r\n\t*/\r\n}\r\n\r\n\r\nconst test = async () => {\r\n\r\n\tconst audioContext = new AudioContext({ latencyHint: 'playback' })\r\n\tconst [hostGroupId] = await initializeWamHost(audioContext)\r\n\tconst { default: simpleWAMPlugin } = await import(\"worklet:./audio/wam2/simple/index.js\")\r\n\t\r\n\t// const { default: simpleWAMPlugin } = await import(\"./audio/wam2/simple/index.js\")\r\n\t// const [hostGroupId] = await initializeWamHost(audioContext)\r\n\t// const simplePlugin = await simpleWAMPlugin.createInstance(hostGroupId, audioContext, {})\r\n\t// console.log(\"Created simplePlugin Instrument\", {simplePlugin} )\r\n\r\n\t// We need to determine the correct transformer to use\r\n\t// as we do *not* want this to be transpiled and transpiling it is breaking it\r\n\t// bundle-text:\r\n\t// data-url:\r\n\t// url:\t- causes file read error as uses file://\r\n\r\n\t// const { default: synthWAMPlugin } = await import(\"url:./audio/wam2-external/tinySynth/src/index.js\")\r\n\t// const synthPlugin = await synthWAMPlugin.createInstance(hostGroupId, audioContext, {})\r\n\tconst synthPlugin = await simpleWAMPlugin.createInstance(hostGroupId, audioContext, {})\r\n\t// const { default: synthWAMPlugin } = await import(\"./audio/wam2-external/synth101/src/index.tsx\")\r\n\t// const synthPlugin = await synthWAMPlugin.createInstance(hostGroupId, audioContext, {})\r\n}\r\n\r\n// Required to start any kind of audio interaction & playback\r\ndocument.addEventListener(\"click\", init, {once:true})\r\n// document.addEventListener(\"click\", test, {once:true})\r\n","import { WebAudioModule } from '@webaudiomodules/sdk'\r\n// import ParamMgrFactory from '@webaudiomodules/sdk-parammgr/'\r\nimport ParamMgrFactory from '@webaudiomodules/sdk-parammgr/src/ParamMgrFactory.js'\r\n// import ParamMgrFactory from '@webaudiomodules/sdk-parammgr/src/ParamMgrFactory.js'\r\n// import { ParamMgrFactory } from '@webaudiomodules/sdk-parammgr/src/index.js'\r\n\r\nimport { createSimpleEngine } from './simple.wam.js'\r\n\r\n// _baseUrl = getBaseUrl(new URL('./descriptor.json', import.meta.url));\r\nimport descriptorJSONURL from 'url:./descriptor.json'\r\nimport descriptorJSON from './descriptor.json'\r\n\r\nconst NAME = \"simple\"\r\n\r\nconst getBaseUrl = relativeUrl => relativeUrl.substring(0, relativeUrl.lastIndexOf('/'));\r\n\r\nexport default class SimplePlugin extends WebAudioModule {\r\n\r\n\t// _baseURL = getBasetUrl(new URL('.', import.meta.url));\r\n\r\n\t// check to see if it running via import or not...\r\n\t_baseUrl = getBaseUrl(descriptorJSONURL)\r\n\t// _baseUrl = getBaseUrl(new URL('./', import.meta.url).href)\r\n\t_descriptorUrl = descriptorJSONURL // `${this._baseUrl}/wam2/${NAME}/descriptor.json`\r\n\t_descriptor = descriptorJSON\r\n\t_templateUrl = `${this._baseUrl}/wam2/${NAME}/template.html`\r\n\r\n\t/**\r\n\t * Overide and intercept the descriptor file\r\n\t * @param {Object} initialState \r\n\t * @returns \r\n\t */\r\n\tasync initialize(initialState) {\r\n\t\t// we embed the JSON so no need to fetch JSON\r\n\t\t// await this._loadDescriptor()\r\n\t\tconst templateRes = await fetch(this._templateUrl)\r\n\t\tthis.templateHtmlStr = await templateRes.text()\r\n\t\tif (initialState){\r\n\t\t\t// populate state\r\n\t\t}\r\n\t\treturn super.initialize(initialState)\r\n\t}\r\n\r\n\t/**\r\n\t * The plugin redefines the async method createAudionode()\r\n\t * that must return an <Audionode>\r\n\t * @param {Object} options \r\n\t * @returns Audionode\r\n\t */\r\n\tasync createAudioNode(initialState) {\r\n\t\t// this.moduleId\r\n\t\tconst node = createSimpleEngine( this.audioContext, this._descriptor, initialState)\r\n\t\tconst internalParamsConfig = {\r\n            gain: 1\r\n\t\t}\r\n\r\n\t\t// NB. REQUIRES internalID set in descriptor\r\n\t\tconst paramMgrNode = await ParamMgrFactory.create(this, {internalParamsConfig})\r\n\r\n\t\t// node.setup(paramMgrNode)\r\n\t\tnode.setup( paramMgrNode )\r\n\t\t// if (initialState){ \r\n\t\t// \tnode.setState(initialState)\r\n\t\t// }\r\n\t\treturn node\r\n\t}\r\n\r\n\t/**\r\n\t * Make a front end available to all apps\r\n\t * this should be a combination of parameters\r\n\t * that align with the parameters of the synthesizzer\r\n\t * \r\n\t * @returns HTMLElement\r\n\t */\r\n\tasync createGui() {\r\n\t\t// return createElement(this)\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @returns \r\n\t\r\n\tasync setState(){\r\n\t\treturn super.setState()\r\n\t}\r\n\r\n\tasync getState(){\r\n\t\treturn super.getState()\r\n\t}\r\n */\r\n}","import addFunctionModule from './sdk/src/addFunctionModule.js';\r\nimport processor from './ParamMgrProcessor.js';\r\nimport ParamMappingConfigurator from './ParamConfigurator.js';\r\nimport ParamMgrNode from './ParamMgrNode.js';\r\n/** @typedef {import('@webaudiomodules/api').WebAudioModule} WebAudioModule */\r\n/** @typedef {import('./types').ParametersMappingConfiguratorOptions} ParametersMappingConfiguratorOptions */\r\n/** @typedef {import('./types').ParamMgrOptions} ParamMgrOptions */\r\n/** @typedef {import('./types').AudioWorkletRegister} AudioWorkletRegister */\r\n\r\nexport default class ParamMgrFactory {\r\n\t/**\r\n\t * @param {WebAudioModule} module\r\n\t * @param {ParametersMappingConfiguratorOptions} [optionsIn = {}]\r\n\t */\r\n\tstatic async create(module, optionsIn = {}) {\r\n\t\tconst { audioContext, moduleId } = module;\r\n\t\tconst instanceId = optionsIn.instanceId || module.instanceId;\r\n\t\tconst groupId = optionsIn.groupId || module.groupId;\r\n\t\tconst { paramsConfig, paramsMapping, internalParamsConfig } = new ParamMappingConfigurator(optionsIn);\r\n\t\tconst initialParamsValue = Object.entries(paramsConfig)\r\n\t\t\t.reduce((currentParams, [name, { defaultValue }]) => {\r\n\t\t\t\tcurrentParams[name] = defaultValue;\r\n\t\t\t\treturn currentParams;\r\n\t\t\t}, {});\r\n\r\n\t\t\t\r\n\t\tconst serializableParamsConfig = Object.entries(paramsConfig)\r\n\t\t\t.reduce((currentParams, [name, { id, label, type, defaultValue, minValue, maxValue, discreteStep, exponent, choices, units }]) => {\r\n\t\t\t\tcurrentParams[name] = { id, label, type, defaultValue, minValue, maxValue, discreteStep, exponent, choices, units };\r\n\t\t\t\treturn currentParams;\r\n\t\t\t}, {});\r\n\t\t\t\r\n\t\t\tconsole.error(\"TESTING\", {module, worklet:audioContext.audioWorklet, processor, moduleId, serializableParamsConfig} )\r\n\r\n\t\tawait addFunctionModule(audioContext.audioWorklet, processor, moduleId, serializableParamsConfig);\r\n\t\r\n\t\r\n\t\r\n\t\t/** @type {ParamMgrOptions} */\r\n\t\tconst options = {\r\n\t\t\tinternalParamsConfig,\r\n\t\t\tparameterData: initialParamsValue,\r\n\t\t\tprocessorOptions: {\r\n\t\t\t\tparamsConfig,\r\n\t\t\t\tparamsMapping,\r\n\t\t\t\tinternalParamsMinValues: Object.values(internalParamsConfig)\r\n\t\t\t\t\t.map((config) => Math.max(0, config?.minValue || 0)),\r\n\t\t\t\tinternalParams: Object.keys(internalParamsConfig),\r\n\t\t\t\tgroupId,\r\n\t\t\t\tinstanceId,\r\n\t\t\t\tmoduleId,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst node = new ParamMgrNode(module, options);\r\n\t\tawait node.initialize();\r\n\t\treturn node;\r\n\t}\r\n}\r\n","/**\r\n * Take a function, stringify it and inject to an AudioWorklet with parameters.\r\n *\r\n * @param {AudioWorklet} audioWorklet\r\n * @param {(...args: any[]) => any} processorFunction\r\n * @param {any[]} [injection]\r\n * @returns {Promise<void>}\r\n */\r\nconst addFunctionModule = (audioWorklet, processorFunction, ...injection) => {\r\n    const text = `(${processorFunction.toString()})(${injection.map((s) => JSON.stringify(s)).join(', ')});`\r\n    const url = URL.createObjectURL(new Blob([text], { type: 'text/javascript' }));\r\n    return audioWorklet.addModule(url);\r\n}\r\n\r\nexport default addFunctionModule;\r\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","/** @typedef {import('@webaudiomodules/api').WamProcessor} WamProcessor */\n/** @typedef {import('@webaudiomodules/api').WamParameterInfoMap} WamParameterInfoMap */\n/** @typedef {import('@webaudiomodules/api').WamParameterDataMap} WamParameterValueMap */\n/** @typedef {import('@webaudiomodules/api').WamEvent} WamEvent */\n/** @typedef {import('./types').ParamMgrOptions} ParamMgrProcessorOptions */\n/** @typedef {import('./TypedAudioWorklet').AudioWorkletGlobalScope} AudioWorkletGlobalScope */\n/** @typedef {import('./TypedAudioWorklet').TypedAudioWorkletProcessor} AudioWorkletProcessor */\n/** @template M @typedef {import('./types').MessagePortRequest<M>} MessagePortRequest */\n/** @template M @typedef {import('./types').MessagePortResponse<M>} MessagePortResponse */\n/** @typedef {import('./types').ParamMgrCallFromProcessor} ParamMgrCallFromProcessor */\n/** @typedef {import('./types').ParamMgrCallToProcessor} ParamMgrCallToProcessor */\n/** @typedef {import('./types').ParamMgrAudioWorkletOptions} ParamMgrAudioWorkletOptions */\n/** @typedef {import('./types').ParametersMapping} ParametersMapping */\n/** @typedef {import('./types').WamParamMgrSDKBaseModuleScope} WamParamMgrSDKBaseModuleScope */\n\n/**\n * Main function to stringify as a worklet.\n *\n * @param {string} moduleId processor identifier\n * @param {WamParameterInfoMap} paramsConfig parameterDescriptors\n */\nconst processor = (moduleId, paramsConfig) => {\n\t/** @type {AudioWorkletGlobalScope} */\n\t// @ts-ignore\n\tconst audioWorkletGlobalScope = globalThis;\n\tconst {\n\t\tAudioWorkletProcessor,\n\t\tregisterProcessor,\n\t\twebAudioModules,\n\t} = audioWorkletGlobalScope;\n\n\t/** @type {WamParamMgrSDKBaseModuleScope} */\n\tconst ModuleScope = audioWorkletGlobalScope.webAudioModules.getModuleScope(moduleId);\n\n\tconst supportSharedArrayBuffer = !!globalThis.SharedArrayBuffer;\n\tconst SharedArrayBuffer = globalThis.SharedArrayBuffer || globalThis.ArrayBuffer;\n\tconst normExp = (x, e) => (e === 0 ? x : x ** (1.5 ** -e));\n\tconst normalizeE = (x, min, max, e = 0) => (\n\t\tmin === 0 && max === 1\n\t\t\t? normExp(x, e)\n\t\t\t: normExp((x - min) / (max - min) || 0, e));\n\tconst normalize = (x, min, max) => (min === 0 && max === 1 ? x : (x - min) / (max - min) || 0);\n\tconst denormalize = (x, min, max) => (min === 0 && max === 1 ? x : x * (max - min) + min);\n\tconst mapValue = (x, eMin, eMax, sMin, sMax, tMin, tMax) => (\n\t\tdenormalize(\n\t\t\tnormalize(\n\t\t\t\tnormalize(\n\t\t\t\t\tMath.min(sMax, Math.max(sMin, x)),\n\t\t\t\t\teMin,\n\t\t\t\t\teMax,\n\t\t\t\t),\n\t\t\t\tnormalize(sMin, eMin, eMax),\n\t\t\t\tnormalize(sMax, eMin, eMax),\n\t\t\t),\n\t\t\ttMin,\n\t\t\ttMax,\n\t\t)\n\t);\n\n\t/**\n\t * @typedef {MessagePortRequest<ParamMgrCallToProcessor> & MessagePortResponse<ParamMgrCallFromProcessor>} MsgIn\n\t * @typedef {MessagePortResponse<ParamMgrCallToProcessor> & MessagePortRequest<ParamMgrCallFromProcessor>} MsgOut\n\t */\n\t/**\n\t * `ParamMgrNode`'s `AudioWorkletProcessor`\n\t *\n\t * @extends {AudioWorkletProcessor<MsgIn, MsgOut>}\n\t * @implements {WamProcessor}\n\t * @implements {ParamMgrCallToProcessor}\n\t */\n\tclass ParamMgrProcessor extends AudioWorkletProcessor {\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn Object.entries(paramsConfig).map(([name, { defaultValue, minValue, maxValue }]) => ({\n\t\t\t\tname,\n\t\t\t\tdefaultValue,\n\t\t\t\tminValue,\n\t\t\t\tmaxValue,\n\t\t\t}));\n\t\t}\n\n\t\t/**\n\t\t * @param {ParamMgrProcessorOptions} options\n\t\t */\n\t\tconstructor(options) {\n\t\t\tsuper();\n\t\t\tthis.destroyed = false;\n\t\t\tthis.supportSharedArrayBuffer = supportSharedArrayBuffer;\n\t\t\tconst {\n\t\t\t\tparamsMapping,\n\t\t\t\tinternalParamsMinValues,\n\t\t\t\tinternalParams,\n\t\t\t\tgroupId,\n\t\t\t\tinstanceId,\n\t\t\t} = options.processorOptions;\n\t\t\tthis.groupId = groupId;\n\t\t\tthis.moduleId = moduleId;\n\t\t\tthis.instanceId = instanceId;\n\t\t\tthis.internalParamsMinValues = internalParamsMinValues;\n\t\t\tthis.paramsConfig = paramsConfig;\n\t\t\tthis.paramsMapping = paramsMapping;\n\t\t\t/** @type {Record<string, number>} */\n\t\t\tthis.paramsValues = {};\n\t\t\tObject.entries(paramsConfig).forEach(([name, { defaultValue }]) => {\n\t\t\t\tthis.paramsValues[name] = defaultValue;\n\t\t\t});\n\t\t\tthis.internalParams = internalParams;\n\t\t\tthis.internalParamsCount = this.internalParams.length;\n\t\t\tthis.buffer = new SharedArrayBuffer((this.internalParamsCount + 1) * Float32Array.BYTES_PER_ELEMENT);\n\t\t\tthis.$lock = new Int32Array(this.buffer, 0, 1);\n\t\t\tthis.$internalParamsBuffer = new Float32Array(this.buffer, 4, this.internalParamsCount);\n\t\t\t/** @type {WamEvent[]} */\n\t\t\tthis.eventQueue = [];\n\n\t\t\t/** @type {(event: WamEvent) => any} */\n\t\t\tthis.handleEvent = null;\n\n\t\t\taudioWorkletGlobalScope.webAudioModules.addWam(this);\n\t\t\tif (!ModuleScope.paramMgrProcessors) ModuleScope.paramMgrProcessors = {};\n\t\t\tModuleScope.paramMgrProcessors[this.instanceId] = this;\n\n\t\t\tthis.messagePortRequestId = -1;\n\t\t\t/** @type {Record<number, ((...args: any[]) => any)>} */\n\t\t\tconst resolves = {};\n\t\t\t/** @type {Record<number, ((...args: any[]) => any)>} */\n\t\t\tconst rejects = {};\n\t\t\t/**\n\t\t\t * @param {keyof ParamMgrCallFromProcessor} call\n\t\t\t * @param {any} args\n\t\t\t */\n\t\t\tthis.call = (call, ...args) => new Promise((resolve, reject) => {\n\t\t\t\tconst id = this.messagePortRequestId--;\n\t\t\t\tresolves[id] = resolve;\n\t\t\t\trejects[id] = reject;\n\t\t\t\tthis.port.postMessage({ id, call, args });\n\t\t\t});\n\t\t\tthis.handleMessage = ({ data }) => {\n\t\t\t\tconst { id, call, args, value, error } = data;\n\t\t\t\tif (call) {\n\t\t\t\t\t/** @type {any} */\n\t\t\t\t\tconst r = { id };\n\t\t\t\t\ttry {\n\t\t\t\t\t\tr.value = this[call](...args);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tr.error = e;\n\t\t\t\t\t}\n\t\t\t\t\tthis.port.postMessage(r);\n\t\t\t\t} else {\n\t\t\t\t\tif (error) rejects[id]?.(error);\n\t\t\t\t\telse resolves[id]?.(value);\n\t\t\t\t\tdelete resolves[id];\n\t\t\t\t\tdelete rejects[id];\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.port.start();\n\t\t\tthis.port.addEventListener('message', this.handleMessage);\n\t\t}\n\n\t\t/**\n\t\t * @param {ParametersMapping} mapping\n\t\t */\n\t\tsetParamsMapping(mapping) {\n\t\t\tthis.paramsMapping = mapping;\n\t\t}\n\n\t\tgetBuffer() {\n\t\t\treturn { lock: this.$lock, paramsBuffer: this.$internalParamsBuffer };\n\t\t}\n\n\t\tgetCompensationDelay() {\n\t\t\treturn 128;\n\t\t}\n\n\t\t/**\n\t\t * @param {string[]} parameterIdQuery\n\t\t */\n\t\tgetParameterInfo(...parameterIdQuery) {\n\t\t\tif (parameterIdQuery.length === 0) parameterIdQuery = Object.keys(this.paramsConfig);\n\t\t\t/** @type {WamParameterInfoMap} */\n\t\t\tconst parameterInfo = {};\n\t\t\tparameterIdQuery.forEach((parameterId) => {\n\t\t\t\tparameterInfo[parameterId] = this.paramsConfig[parameterId];\n\t\t\t});\n\t\t\treturn parameterInfo;\n\t\t}\n\n\t\t/**\n\t\t * @param {boolean} [normalized]\n\t\t * @param {string[]} parameterIdQuery\n\t\t */\n\t\tgetParameterValues(normalized, ...parameterIdQuery) {\n\t\t\tif (parameterIdQuery.length === 0) parameterIdQuery = Object.keys(this.paramsConfig);\n\t\t\t/** @type {WamParameterValueMap} */\n\t\t\tconst parameterValues = {};\n\t\t\tparameterIdQuery.forEach((parameterId) => {\n\t\t\t\tif (!(parameterId in this.paramsValues)) return;\n\t\t\t\tconst { minValue, maxValue, exponent } = this.paramsConfig[parameterId];\n\t\t\t\tconst value = this.paramsValues[parameterId];\n\t\t\t\tparameterValues[parameterId] = {\n\t\t\t\t\tid: parameterId,\n\t\t\t\t\tvalue: normalized ? normalizeE(value, minValue, maxValue, exponent) : value,\n\t\t\t\t\tnormalized,\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn parameterValues;\n\t\t}\n\n\t\t/**\n\t\t * @param {WamEvent[]} events\n\t\t */\n\t\tscheduleEvents(...events) {\n\t\t\tthis.eventQueue.push(...events);\n\t\t\tconst { currentTime } = audioWorkletGlobalScope;\n\t\t\tthis.eventQueue.sort((a, b) => (a.time || currentTime) - (b.time || currentTime));\n\t\t}\n\n\t\t/**\n\t\t * @param {WamEvent[]} events\n\t\t */\n\t\temitEvents(...events) {\n\t\t\twebAudioModules.emitEvents(this, ...events);\n\t\t}\n\n\t\tclearEvents() {\n\t\t\tthis.eventQueue = [];\n\t\t}\n\n\t\tlock() {\n\t\t\tif (globalThis.Atomics) Atomics.store(this.$lock, 0, 1);\n\t\t}\n\n\t\tunlock() {\n\t\t\tif (globalThis.Atomics) Atomics.store(this.$lock, 0, 0);\n\t\t}\n\n\t\t/**\n\t\t * Main process\n\t\t *\n\t\t * @param {Float32Array[][]} inputs\n\t\t * @param {Float32Array[][]} outputs\n\t\t * @param {Record<string, Float32Array>} parameters\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tif (this.destroyed) return false;\n\t\t\tconst outputOffset = 1;\n\t\t\tthis.lock();\n\t\t\tObject.entries(this.paramsConfig).forEach(([name, { minValue, maxValue }]) => {\n\t\t\t\tconst raw = parameters[name];\n\t\t\t\tif (name in this.paramsValues) this.paramsValues[name] = raw[raw.length - 1]; // Store to local temporary\n\t\t\t\tif (!this.paramsMapping[name]) return; // No need to output\n\t\t\t\tObject.entries(this.paramsMapping[name]).forEach(([targetName, targetMapping]) => {\n\t\t\t\t\tconst j = this.internalParams.indexOf(targetName);\n\t\t\t\t\tif (j === -1) return;\n\t\t\t\t\tconst intrinsicValue = this.internalParamsMinValues[j]; // Output will be added to target intrinsicValue\n\t\t\t\t\tconst { sourceRange, targetRange } = targetMapping;\n\t\t\t\t\tconst [sMin, sMax] = sourceRange;\n\t\t\t\t\tconst [tMin, tMax] = targetRange;\n\t\t\t\t\tlet out;\n\t\t\t\t\tif (minValue !== tMin || maxValue !== tMax\n\t\t\t\t\t\t\t|| minValue !== sMin || maxValue !== sMax) { // need to calculate with mapping\n\t\t\t\t\t\tout = raw.map((v) => {\n\t\t\t\t\t\t\tconst mappedValue = mapValue(v, minValue, maxValue, sMin, sMax, tMin, tMax);\n\t\t\t\t\t\t\treturn mappedValue - intrinsicValue;\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (intrinsicValue) { // need to correct with intrinsicValue\n\t\t\t\t\t\tout = raw.map((v) => v - intrinsicValue);\n\t\t\t\t\t} else { // No need to modify\n\t\t\t\t\t\tout = raw;\n\t\t\t\t\t}\n\t\t\t\t\tif (out.length === 1) outputs[j + outputOffset][0].fill(out[0]);\n\t\t\t\t\telse outputs[j + outputOffset][0].set(out);\n\t\t\t\t\tthis.$internalParamsBuffer[j] = out[0];\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.unlock();\n\t\t\tif (!this.supportSharedArrayBuffer) {\n\t\t\t\tthis.call('setBuffer', { lock: this.$lock, paramsBuffer: this.$internalParamsBuffer });\n\t\t\t}\n\t\t\tconst { currentTime } = audioWorkletGlobalScope;\n\t\t\tlet $event;\n\t\t\tfor ($event = 0; $event < this.eventQueue.length; $event++) {\n\t\t\t\tconst event = this.eventQueue[$event];\n\t\t\t\tif (event.time && event.time > currentTime) break;\n\t\t\t\tif (typeof this.handleEvent === 'function') this.handleEvent(event);\n\t\t\t\tthis.call('dispatchWamEvent', event);\n\t\t\t}\n\t\t\tif ($event) this.eventQueue.splice(0, $event);\n\t\t\treturn true;\n\t\t}\n\n\t\t/**\n\t\t * @param {string} wamInstanceId\n\t\t * @param {number} [output]\n\t\t */\n\t\tconnectEvents(wamInstanceId, output) {\n\t\t\twebAudioModules.connectEvents(this.groupId, this.instanceId, wamInstanceId, output);\n\t\t}\n\n\t\t/**\n\t\t * @param {string} [wamInstanceId]\n\t\t * @param {number} [output]\n\t\t */\n\t\tdisconnectEvents(wamInstanceId, output) {\n\t\t\tif (typeof wamInstanceId === 'undefined') {\n\t\t\t\twebAudioModules.disconnectEvents(this.groupId, this.instanceId);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twebAudioModules.disconnectEvents(this.groupId, this.instanceId, wamInstanceId, output);\n\t\t}\n\n\t\tdestroy() {\n\t\t\taudioWorkletGlobalScope.webAudioModules.removeWam(this);\n\t\t\tif (ModuleScope.paramMgrProcessors) delete ModuleScope.paramMgrProcessors[this.instanceId];\n\t\t\tthis.destroyed = true;\n\t\t\tthis.port.close();\n\t\t}\n\t}\n\ttry {\n\t\tregisterProcessor(moduleId, ParamMgrProcessor);\n\t} catch (error) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.warn(error);\n\t}\n};\nexport default processor;\n","/** @typedef {import('@webaudiomodules/api').WamParameterConfiguration} WamParameterConfiguration */\n/** @typedef {import('@webaudiomodules/api').WamParameterInfoMap} WamParameterInfoMap */\n/** @typedef {import('./types').ParametersMapping} ParametersMapping */\n/** @typedef {import('./types').InternalParametersDescriptor} InternalParametersDescriptor */\n/** @typedef {import('./types').ParametersMappingConfiguratorOptions} ParametersMappingConfiguratorOptions */\n\nimport getWamParameterInfo from './sdk/src/WamParameterInfo.js';\n\nconst WamParameterInfo = getWamParameterInfo();\n\nexport default class ParamMappingConfigurator {\n\t/**\n\t * @param {ParametersMappingConfiguratorOptions} [options = {}]\n\t */\n\tconstructor(options = {}) {\n\t\tconst { paramsConfig, paramsMapping, internalParamsConfig } = options;\n\t\tthis._paramsConfig = paramsConfig;\n\t\tthis._paramsMapping = paramsMapping;\n\t\tthis._internalParamsConfig = internalParamsConfig;\n\t}\n\n\t/**\n\t * @private\n\t * @type {Record<string, WamParameterConfiguration>}\n\t */\n\t_paramsConfig = undefined;\n\n\t/**\n\t * Auto-completed `paramsConfig`:\n\t *\n\t * if no `paramsConfig` is defined while initializing, this will be be filled from the internalParamsConfig;\n\t *\n\t * if a parameter is not fully configured, the incompleted properties will have the same value as in the internalParamsConfig.\n\t *\n\t * @type {WamParameterInfoMap}\n\t */\n\tget paramsConfig() {\n\t\tconst { internalParamsConfig } = this;\n\t\treturn Object.entries(this._paramsConfig || internalParamsConfig)\n\t\t\t.reduce((configs, [id, config]) => {\n\t\t\t\tconst internalParam = internalParamsConfig[id];\n\t\t\t\tconfigs[id] = new WamParameterInfo(id, {\n\t\t\t\t\t...config,\n\t\t\t\t\tlabel: config.label ?? id,\n\t\t\t\t\tdefaultValue: config.defaultValue ?? internalParam?.defaultValue,\n\t\t\t\t\tminValue: config.minValue ?? internalParam?.minValue,\n\t\t\t\t\tmaxValue: config.maxValue ?? internalParam?.maxValue,\n\t\t\t\t});\n\t\t\t\treturn configs;\n\t\t\t}, {});\n\t}\n\n\t/**\n\t * @private\n\t * @type {InternalParametersDescriptor}\n\t */\n\t_internalParamsConfig = undefined;\n\n\t/**\n\t * Auto-completed configuration of the `internalParamsConfig`\n\t *\n\t * Internal Parameters Config contains all the automatable parameters' information.\n\t *\n\t * An automatable parameter could be a `WebAudio` `AudioParam`\n\t * or a config with an `onChange` callback that will be called while the value has been changed.\n\t *\n\t * @type {InternalParametersDescriptor}\n\t */\n\tget internalParamsConfig() {\n\t\treturn Object.entries(this._internalParamsConfig || {})\n\t\t\t.reduce((configs, [name, config]) => {\n\t\t\t\tif (config instanceof AudioParam) configs[name] = config;\n\t\t\t\telse {\n\t\t\t\t\tconst defaultConfig = {\n\t\t\t\t\t\tminValue: 0,\n\t\t\t\t\t\tmaxValue: 1,\n\t\t\t\t\t\tdefaultValue: 0,\n\t\t\t\t\t\tautomationRate: 30,\n\t\t\t\t\t};\n\t\t\t\t\tconfigs[name] = { ...defaultConfig, ...config };\n\t\t\t\t}\n\t\t\t\treturn configs;\n\t\t\t}, {});\n\t}\n\n\t/**\n\t * @private\n\t * @type {ParametersMapping}\n\t */\n\t_paramsMapping = {}\n\n\t/**\n\t * Auto-completed `paramsMapping`,\n\t * the mapping can be omitted while initialized,\n\t * but is useful when an exposed param (in the `paramsConfig`) should automate\n\t * several internal params (in the `internalParamsConfig`) or has a different range there.\n\t *\n\t * If a parameter is present in both `paramsConfig` and `internalParamsConfig` (or the `paramsConfig` is not configured),\n\t * a map of this parameter will be there automatically, if not declared explicitly.\n\t *\n\t * @type {ParametersMapping}\n\t */\n\tget paramsMapping() {\n\t\tconst declared = this._paramsMapping || {};\n\t\tconst externalParams = this.paramsConfig;\n\t\tconst internalParams = this.internalParamsConfig;\n\t\treturn Object.entries(externalParams)\n\t\t\t.reduce((mapping, [name, { minValue, maxValue }]) => {\n\t\t\t\tconst sourceRange = [minValue, maxValue];\n\t\t\t\tconst defaultMapping = { sourceRange, targetRange: [...sourceRange] };\n\t\t\t\tif (declared[name]) {\n\t\t\t\t\tconst declaredTargets = Object.entries(declared[name])\n\t\t\t\t\t\t.reduce((targets, [targetName, targetMapping]) => {\n\t\t\t\t\t\t\tif (internalParams[targetName]) {\n\t\t\t\t\t\t\t\ttargets[targetName] = { ...defaultMapping, ...targetMapping };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn targets;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\tmapping[name] = declaredTargets;\n\t\t\t\t} else if (internalParams[name]) {\n\t\t\t\t\tmapping[name] = { [name]: { ...defaultMapping } };\n\t\t\t\t}\n\t\t\t\treturn mapping;\n\t\t\t}, {});\n\t}\n}\n","/** @typedef {import('@webaudiomodules/api').WamParameterInfo} IWamParameterInfo */\n/** @typedef {typeof import('@webaudiomodules/api').WamParameterInfo} WamParameterInfoConstructor */\n/** @typedef {import('@webaudiomodules/api').WamParameterType} WamParameterType */\n/** @typedef {import('@webaudiomodules/api').WamParameterConfiguration} WamParameterConfiguration */\n/** @typedef {import('@webaudiomodules/api').AudioWorkletGlobalScope} AudioWorkletGlobalScope */\n/** @typedef {import('./types').WamSDKBaseModuleScope} WamSDKBaseModuleScope */\n\n/**\n * @param {string} [moduleId]\n * @returns {WamParameterInfoConstructor}\n */\nconst getWamParameterInfo = (moduleId) => {\n\t/** @type {AudioWorkletGlobalScope} */\n\t// @ts-ignore\n\tconst audioWorkletGlobalScope = globalThis;\n\n\t/**\n\t * @param {number} x\n\t * @param {number} e\n\t */\n\tconst normExp = (x, e) => (e === 0 ? x : x ** (1.5 ** -e));\n\t\n\t/**\n\t * @param {number} x\n\t * @param {number} e\n\t */\n\tconst denormExp = (x, e) => (e === 0 ? x : x ** (1.5 ** e));\n\t\n\t/**\n\t * @param {number} x\n\t * @param {number} min\n\t * @param {number} max\n\t */\n\tconst normalize = (x, min, max, e = 0) => (\n\t\tmin === 0 && max === 1\n\t\t\t? normExp(x, e)\n\t\t\t: normExp((x - min) / (max - min) || 0, e));\n\t\n\t/**\n\t * @param {any} x\n\t * @param {number} min\n\t * @param {number} max\n\t */\n\tconst denormalize = (x, min, max, e = 0) => (\n\t\tmin === 0 && max === 1\n\t\t\t? denormExp(x, e)\n\t\t\t: denormExp(x, e) * (max - min) + min\n\t);\n\t\n\t/**\n\t * @param {number} x\n\t * @param {number} min\n\t * @param {number} max\n\t */\n\tconst inRange = (x, min, max) => (x >= min && x <= max);\n\t\n\t/**\n\t * @implements {IWamParameterInfo}\n\t */\n\tclass WamParameterInfo {\n\t\t/**\n\t\t * @param {string} id\n\t\t * @param {WamParameterConfiguration} [config]\n\t\t */\n\t\tconstructor(id, config = {}) {\n\t\t\tlet {\n\t\t\t\ttype, label, defaultValue, minValue, maxValue, discreteStep, exponent, choices, units,\n\t\t\t} = config;\n\t\t\tif (type === undefined) type = 'float';\n\t\t\tif (label === undefined) label = '';\n\t\t\tif (defaultValue === undefined) defaultValue = 0;\n\t\t\tif (choices === undefined) choices = [];\n\t\t\tif (type === 'boolean' || type === 'choice') {\n\t\t\t\tdiscreteStep = 1;\n\t\t\t\tminValue = 0;\n\t\t\t\tif (choices.length) maxValue = choices.length - 1;\n\t\t\t\telse maxValue = 1;\n\t\t\t} else {\n\t\t\t\tif (minValue === undefined) minValue = 0;\n\t\t\t\tif (maxValue === undefined) maxValue = 1;\n\t\t\t\tif (discreteStep === undefined) discreteStep = 0;\n\t\t\t\tif (exponent === undefined) exponent = 0;\n\t\t\t\tif (units === undefined) units = '';\n\t\t\t}\n\t\n\t\t\tconst errBase = `Param config error | ${id}: `;\n\t\t\tif (minValue >= maxValue) throw Error(errBase.concat('minValue must be less than maxValue'));\n\t\t\tif (!inRange(defaultValue, minValue, maxValue)) throw Error(errBase.concat('defaultValue out of range'));\n\t\t\tif (discreteStep % 1 || discreteStep < 0) {\n\t\t\t\tthrow Error(errBase.concat('discreteStep must be a non-negative integer'));\n\t\t\t} else if (discreteStep > 0 && (minValue % 1 || maxValue % 1 || defaultValue % 1)) {\n\t\t\t\tthrow Error(errBase.concat('non-zero discreteStep requires integer minValue, maxValue, and defaultValue'));\n\t\t\t}\n\t\t\tif (type === 'choice' && !choices.length) {\n\t\t\t\tthrow Error(errBase.concat('choice type parameter requires list of strings in choices'));\n\t\t\t}\n\t\n\t\t\t/**\n\t\t\t * The parameter's unique identifier.\n\t\t\t * @readonly @type {string}\n\t\t\t */\n\t\t\tthis.id = id;\n\t\n\t\t\t/**\n\t\t\t * The parameter's human-readable name.\n\t\t\t * @readonly @type {string}\n\t\t\t */\n\t\t\tthis.label = label;\n\t\n\t\t\t/**\n\t\t\t * The parameter's data type.\n\t\t\t * @readonly @type {WamParameterType}\n\t\t\t */\n\t\t\tthis.type = type;\n\t\n\t\t\t/**\n\t\t\t * The parameter's default value. Must be\n\t\t\t * within range `[minValue, maxValue]`.\n\t\t\t * @readonly @type {number}\n\t\t\t */\n\t\t\tthis.defaultValue = defaultValue;\n\t\n\t\t\t/**\n\t\t\t * The minimum valid value of the parameter's range.\n\t\t\t * @readonly @type {number}\n\t\t\t */\n\t\t\tthis.minValue = minValue;\n\t\n\t\t\t/**\n\t\t\t * The maximum valid value of the parameter's range.\n\t\t\t * @readonly @type {number}\n\t\t\t */\n\t\t\tthis.maxValue = maxValue;\n\t\n\t\t\t/**\n\t\t\t * The distance between adjacent valid integer\n\t\t\t * values, if applicable.\n\t\t\t * @readonly @type {number}\n\t\t\t */\n\t\t\tthis.discreteStep = discreteStep;\n\t\n\t\t\t/**\n\t\t\t * The nonlinear (exponential) skew of the parameter's\n\t\t\t * range, if applicable.\n\t\t\t *  @readonly @type {number}\n\t\t\t */\n\t\t\tthis.exponent = exponent;\n\t\n\t\t\t/**\n\t\t\t * A list of human-readable choices corresponding to each\n\t\t\t * valid integer value in the parameter's range, if applicable.\n\t\t\t * @readonly @type {string[]}\n\t\t\t */\n\t\t\tthis.choices = choices;\n\t\n\t\t\t/**\n\t\t\t * A human-readable string representing the units of the\n\t\t\t * parameter's range, if applicable.\n\t\t\t * @readonly @type {string}\n\t\t\t */\n\t\t\tthis.units = units;\n\t\t}\n\t\n\t\t/**\n\t\t * Convert a value from the parameter's denormalized range\n\t\t * `[minValue, maxValue]` to normalized range `[0, 1]`.\n\t\t * @param {number} value\n\t\t */\n\t\tnormalize(value) {\n\t\t\treturn normalize(value, this.minValue, this.maxValue, this.exponent);\n\t\t}\n\t\n\t\t/**\n\t\t * Convert a value from normalized range `[0, 1]` to the\n\t\t * parameter's denormalized range `[minValue, maxValue]`.\n\t\t * @param {number} valueNorm\n\t\t */\n\t\tdenormalize(valueNorm) {\n\t\t\treturn denormalize(valueNorm, this.minValue, this.maxValue, this.exponent);\n\t\t}\n\t\n\t\t/**\n\t\t * Get a human-readable string representing the given value,\n\t\t * including units if applicable.\n\t\t * @param {number} value\n\t\t */\n\t\tvalueString(value) {\n\t\t\tif (this.choices) return this.choices[value];\n\t\t\tif (this.units !== '') return `${value} ${this.units}`;\n\t\t\treturn `${value}`;\n\t\t}\n\t}\n\n\tif (audioWorkletGlobalScope.AudioWorkletProcessor) {\n\t\t/** @type {WamSDKBaseModuleScope} */\n\t\tconst ModuleScope = audioWorkletGlobalScope.webAudioModules.getModuleScope(moduleId);\n\t\n\t\tif (!ModuleScope.WamParameterInfo) ModuleScope.WamParameterInfo = WamParameterInfo;\n\t}\n\n\treturn WamParameterInfo;\n};\n\nexport default getWamParameterInfo;\n","import MgrAudioParam from './MgrAudioParam.js';\n\n/** @typedef {import('@webaudiomodules/api').WebAudioModule} WebAudioModule */\n/** @typedef {import('@webaudiomodules/api').WamNode} WamNode */\n/** @typedef {import('@webaudiomodules/api').WamParameterDataMap} WamParameterValueMap */\n/** @typedef {import('@webaudiomodules/api').WamEvent} WamEvent */\n/** @typedef {import('@webaudiomodules/api').WamAutomationEvent} WamAutomationEvent */\n/** @typedef {import('./types').ParamMgrOptions} ParamMgrOptions */\n/** @typedef {import('./types').ParamMgrCallFromProcessor} ParamMgrCallFromProcessor */\n/** @typedef {import('./types').ParamMgrCallToProcessor} ParamMgrCallToProcessor */\n/** @typedef {import('./types').ParamMgrNodeMsgIn} ParamMgrNodeMsgIn */\n/** @typedef {import('./types').ParamMgrNodeMsgOut} ParamMgrNodeMsgOut */\n/** @typedef {import('./types').ParamMgrNode} IParamMgrNode */\n\n/** @type {typeof import('./TypedAudioWorklet').TypedAudioWorkletNode} */\n// @ts-ignore\nconst AudioWorkletNode = globalThis.AudioWorkletNode;\n\n/**\n * @extends {AudioWorkletNode<ParamMgrNodeMsgIn, ParamMgrNodeMsgOut>}\n * @implements {IParamMgrNode}\n */\nexport default class ParamMgrNode extends AudioWorkletNode {\n\t/**\n     * @param {WebAudioModule} module\n     * @param {ParamMgrOptions} options\n     */\n\tconstructor(module, options) {\n\t\tsuper(module.audioContext, module.moduleId, {\n\t\t\tnumberOfInputs: 0,\n\t\t\tnumberOfOutputs: 1 + options.processorOptions.internalParams.length,\n\t\t\tparameterData: options.parameterData,\n\t\t\tprocessorOptions: options.processorOptions,\n\t\t});\n\t\tconst { processorOptions, internalParamsConfig } = options;\n\t\tthis.initialized = false;\n\t\tthis.module = module;\n\t\tthis.instanceId = options.processorOptions.instanceId;\n\t\tthis.groupId = options.processorOptions.groupId;\n\t\tthis.paramsConfig = processorOptions.paramsConfig;\n\t\tthis.internalParams = processorOptions.internalParams;\n\t\tthis.internalParamsConfig = internalParamsConfig;\n\t\tthis.$prevParamsBuffer = new Float32Array(this.internalParams.length);\n\t\tthis.paramsUpdateCheckFn = [];\n\t\tthis.paramsUpdateCheckFnRef = [];\n\t\tthis.messageRequestId = 0;\n\n\t\tObject.entries(this.getParams()).forEach(([name, param]) => {\n\t\t\tObject.setPrototypeOf(param, MgrAudioParam.prototype);\n\t\t\tparam._info = this.paramsConfig[name];\n\t\t});\n\n\t\t/** @type {Record<number, ((...args: any[]) => any)>} */\n\t\tconst resolves = {};\n\t\t/** @type {Record<number, ((...args: any[]) => any)>} */\n\t\tconst rejects = {};\n\t\t/**\n\t\t * @param {keyof ParamMgrCallToProcessor} call\n\t\t * @param {any} args\n\t\t */\n\t\tthis.call = (call, ...args) => {\n\t\t\tconst id = this.messageRequestId;\n\t\t\tthis.messageRequestId += 1;\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tresolves[id] = resolve;\n\t\t\t\trejects[id] = reject;\n\t\t\t\tthis.port.postMessage({ id, call, args });\n\t\t\t});\n\t\t};\n\t\tthis.handleMessage = ({ data }) => {\n\t\t\tconst { id, call, args, value, error } = data;\n\t\t\tif (call) {\n\t\t\t\t/** @type {any} */\n\t\t\t\tconst r = { id };\n\t\t\t\ttry {\n\t\t\t\t\tr.value = this[call](...args);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tr.error = e;\n\t\t\t\t}\n\t\t\t\tthis.port.postMessage(r);\n\t\t\t} else {\n                if (error) rejects[id]?.(error);\n                else resolves[id]?.(value);\n                delete resolves[id];\n                delete rejects[id];\n\t\t\t}\n\t\t};\n\t\tthis.port.start();\n\t\tthis.port.addEventListener('message', this.handleMessage);\n\t}\n\n\t/**\n\t * @returns {ReadonlyMap<string, MgrAudioParam>}\n\t */\n\tget parameters() {\n\t\t// @ts-ignore\n\t\treturn super.parameters;\n\t}\n\n\tget moduleId() {\n\t\treturn this.module.moduleId;\n\t}\n\n\tasync initialize() {\n\t\t/** @type {ReturnType<ParamMgrCallToProcessor['getBuffer']>} */\n\t\tconst response = await this.call('getBuffer');\n\t\tconst { lock, paramsBuffer } = response;\n\t\tthis.$lock = lock;\n\t\tthis.$paramsBuffer = paramsBuffer;\n\t\tconst offset = 1;\n\t\tObject.entries(this.internalParamsConfig).forEach(([name, config], i) => {\n\t\t\tif (this.context.state === 'suspended') this.$paramsBuffer[i] = config.defaultValue;\n\t\t\tif (config instanceof AudioParam) {\n\t\t\t\ttry {\n\t\t\t\t\tconfig.automationRate = 'a-rate';\n\t\t\t\t// eslint-disable-next-line no-empty\n\t\t\t\t} catch {\n\t\t\t\t} finally {\n\t\t\t\t\tconfig.value = Math.max(0, config.minValue);\n\t\t\t\t\tthis.connect(config, offset + i);\n\t\t\t\t}\n\t\t\t} else if (config instanceof AudioNode) {\n\t\t\t\tthis.connect(config, offset + i);\n\t\t\t} else {\n\t\t\t\tthis.requestDispatchIParamChange(name);\n\t\t\t}\n\t\t});\n\t\tthis.connect(this.module.audioContext.destination, 0, 0);\n\t\tthis.initialized = true;\n\t\treturn this;\n\t}\n\n\t/**\n\t * @param {ReturnType<ParamMgrCallToProcessor['getBuffer']>} buffer\n\t */\n\tsetBuffer({ lock, paramsBuffer }) {\n\t\tthis.$lock = lock;\n\t\tthis.$paramsBuffer = paramsBuffer;\n\t}\n\n\tsetParamsMapping(paramsMapping) {\n\t\treturn this.call('setParamsMapping', paramsMapping);\n\t}\n\n\tgetCompensationDelay() {\n\t\treturn this.call('getCompensationDelay');\n\t}\n\n\tgetParameterInfo(...parameterIdQuery) {\n\t\treturn this.call('getParameterInfo', ...parameterIdQuery);\n\t}\n\n\tgetParameterValues(normalized, ...parameterIdQuery) {\n\t\treturn this.call('getParameterValues', normalized, ...parameterIdQuery);\n\t}\n\n\t/**\n\t * @param {WamAutomationEvent} event\n\t */\n\tscheduleAutomation(event) {\n\t\tconst time = event.time || this.context.currentTime;\n\t\tconst { id, normalized, value } = event.data;\n\t\tconst audioParam = this.getParam(id);\n\t\tif (!audioParam) return;\n\t\tif (audioParam.info.type === 'float') {\n\t\t\tif (normalized) audioParam.linearRampToNormalizedValueAtTime(value, time);\n\t\t\telse audioParam.linearRampToValueAtTime(value, time);\n\t\t} else {\n\t\t\t// eslint-disable-next-line no-lonely-if\n\t\t\tif (normalized) audioParam.setNormalizedValueAtTime(value, time);\n\t\t\telse audioParam.setValueAtTime(value, time);\n\t\t}\n\t}\n\n\t/**\n\t * @param {WamEvent[]} events\n\t */\n\tscheduleEvents(...events) {\n\t\tevents.forEach((event) => {\n\t\t\tif (event.type === 'wam-automation') {\n\t\t\t\tthis.scheduleAutomation(event);\n\t\t\t}\n\t\t});\n\t\tthis.call('scheduleEvents', ...events);\n\t}\n\n\t/**\n\t * @param {WamEvent[]} events\n\t */\n\temitEvents(...events) {\n\t\tthis.call('emitEvents', ...events);\n\t}\n\n\tclearEvents() {\n\t\tthis.call('clearEvents');\n\t}\n\n\t/**\n\t * @param {WamEvent} event\n\t */\n\tdispatchWamEvent(event) {\n\t\tif (event.type === 'wam-automation') {\n\t\t\tthis.scheduleAutomation(event);\n\t\t} else {\n\t\t\tthis.dispatchEvent(new CustomEvent(event.type, { detail: event }));\n\t\t}\n\t}\n\n\t/**\n\t * @param {WamParameterValueMap} parameterValues\n\t */\n\tasync setParameterValues(parameterValues) {\n\t\tObject.keys(parameterValues).forEach((parameterId) => {\n\t\t\tconst parameterUpdate = parameterValues[parameterId];\n\t\t\tconst parameter = this.parameters.get(parameterId);\n\t\t\tif (!parameter) return;\n\t\t\tif (!parameterUpdate.normalized) parameter.value = parameterUpdate.value;\n\t\t\telse parameter.normalizedValue = parameterUpdate.value;\n\t\t});\n\t}\n\n\tasync getState() {\n\t\treturn this.getParamsValues();\n\t}\n\n\tasync setState(state) {\n\t\tthis.setParamsValues(state);\n\t}\n\n\tconvertTimeToFrame(time) {\n\t\treturn Math.round(time * this.context.sampleRate);\n\t}\n\n\tconvertFrameToTime(frame) {\n\t\treturn frame / this.context.sampleRate;\n\t}\n\n\t/**\n\t * @param {string} name\n\t */\n\trequestDispatchIParamChange = (name) => {\n\t\tconst config = this.internalParamsConfig[name];\n\t\tif (!('onChange' in config)) return;\n\t\tconst { automationRate, onChange } = config;\n\t\tif (typeof automationRate !== 'number' || !automationRate) return;\n\t\tconst interval = 1000 / automationRate;\n\t\tconst i = this.internalParams.indexOf(name);\n\t\tif (i === -1) return;\n\t\tif (i >= this.internalParams.length) return;\n\t\tif (typeof this.paramsUpdateCheckFnRef[i] === 'number') {\n\t\t\twindow.clearTimeout(this.paramsUpdateCheckFnRef[i]);\n\t\t}\n\n\t\tthis.paramsUpdateCheckFn[i] = () => {\n\t\t\tconst prev = this.$prevParamsBuffer[i];\n\t\t\tconst cur = this.$paramsBuffer[i];\n\t\t\tif (cur !== prev) {\n\t\t\t\tonChange(cur, prev);\n\t\t\t\tthis.$prevParamsBuffer[i] = cur;\n\t\t\t}\n\t\t\tthis.paramsUpdateCheckFnRef[i] = window.setTimeout(this.paramsUpdateCheckFn[i], interval);\n\t\t};\n\t\tthis.paramsUpdateCheckFn[i]();\n\t}\n\n\t/**\n\t * @param {string} name\n\t */\n\tgetIParamIndex(name) {\n\t\tconst i = this.internalParams.indexOf(name);\n\t\treturn i === -1 ? null : i;\n\t}\n\n\t/**\n\t * @param {string} name\n\t * @param {AudioParam | AudioNode} dest\n\t * @param {number} index\n\t */\n\tconnectIParam(name, dest, index) {\n\t\tconst offset = 1;\n\t\tconst i = this.getIParamIndex(name);\n\t\tif (i !== null) {\n\t\t\tif (dest instanceof AudioNode) {\n\t\t\t\tif (typeof index === 'number') this.connect(dest, offset + i, index);\n\t\t\t\telse this.connect(dest, offset + i);\n\t\t\t} else {\n\t\t\t\tthis.connect(dest, offset + i);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} name\n\t * @param {AudioParam | AudioNode} dest\n\t * @param {number} index\n\t */\n\tdisconnectIParam(name, dest, index) {\n\t\tconst offset = 1;\n\t\tconst i = this.getIParamIndex(name);\n\t\tif (i !== null) {\n\t\t\tif (dest instanceof AudioNode) {\n\t\t\t\tif (typeof index === 'number') this.disconnect(dest, offset + i, index);\n\t\t\t\telse this.disconnect(dest, offset + i);\n\t\t\t} else {\n\t\t\t\tthis.disconnect(dest, offset + i);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetIParamValue(name) {\n\t\tconst i = this.getIParamIndex(name);\n\t\treturn i !== null ? this.$paramsBuffer[i] : null;\n\t}\n\n\tgetIParamsValues() {\n\t\t/** @type {Record<string, number>} */\n\t\tconst values = {};\n\t\tthis.internalParams.forEach((name, i) => {\n\t\t\tvalues[name] = this.$paramsBuffer[i];\n\t\t});\n\t\treturn values;\n\t}\n\n\tgetParam(name) {\n\t\treturn this.parameters.get(name) || null;\n\t}\n\n\tgetParams() {\n\t\t// @ts-ignore\n\t\treturn Object.fromEntries(this.parameters);\n\t}\n\n\tgetParamValue(name) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.value;\n\t}\n\n\tsetParamValue(name, value) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return;\n\t\tparam.value = value;\n\t}\n\n\tgetParamsValues() {\n\t\t/** @type {Record<string, number>} */\n\t\tconst values = {};\n\t\tthis.parameters.forEach((v, k) => {\n\t\t\tvalues[k] = v.value;\n\t\t});\n\t\treturn values;\n\t}\n\n\t/**\n\t * @param {Record<string, number>} values\n\t */\n\tsetParamsValues(values) {\n\t\tif (!values) return;\n\t\tObject.entries(values).forEach(([k, v]) => {\n\t\t\tthis.setParamValue(k, v);\n\t\t});\n\t}\n\n\tgetNormalizedParamValue(name) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.normalizedValue;\n\t}\n\n\tsetNormalizedParamValue(name, value) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return;\n\t\tparam.normalizedValue = value;\n\t}\n\n\tgetNormalizedParamsValues() {\n\t\tconst values = {};\n\t\tthis.parameters.forEach((v, k) => {\n\t\t\tvalues[k] = this.getNormalizedParamValue(k);\n\t\t});\n\t\treturn values;\n\t}\n\n\tsetNormalizedParamsValues(values) {\n\t\tif (!values) return;\n\t\tObject.entries(values).forEach(([k, v]) => {\n\t\t\tthis.setNormalizedParamValue(k, v);\n\t\t});\n\t}\n\n\tsetParamValueAtTime(name, value, startTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setValueAtTime(value, startTime);\n\t}\n\n\tsetNormalizedParamValueAtTime(name, value, startTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setNormalizedValueAtTime(value, startTime);\n\t}\n\n\tlinearRampToParamValueAtTime(name, value, endTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.linearRampToValueAtTime(value, endTime);\n\t}\n\n\tlinearRampToNormalizedParamValueAtTime(name, value, endTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.linearRampToNormalizedValueAtTime(value, endTime);\n\t}\n\n\texponentialRampToParamValueAtTime(name, value, endTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.exponentialRampToValueAtTime(value, endTime);\n\t}\n\n\texponentialRampToNormalizedParamValueAtTime(name, value, endTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.exponentialRampToNormalizedValueAtTime(value, endTime);\n\t}\n\n\tsetParamTargetAtTime(name, target, startTime, timeConstant) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setTargetAtTime(target, startTime, timeConstant);\n\t}\n\n\tsetNormalizedParamTargetAtTime(name, target, startTime, timeConstant) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setNormalizedTargetAtTime(target, startTime, timeConstant);\n\t}\n\n\tsetParamValueCurveAtTime(name, values, startTime, duration) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setValueCurveAtTime(values, startTime, duration);\n\t}\n\n\tsetNormalizedParamValueCurveAtTime(name, values, startTime, duration) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setNormalizedValueCurveAtTime(values, startTime, duration);\n\t}\n\n\tcancelScheduledParamValues(name, cancelTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.cancelScheduledValues(cancelTime);\n\t}\n\n\tcancelAndHoldParamAtTime(name, cancelTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.cancelAndHoldAtTime(cancelTime);\n\t}\n\n\t/**\n\t * @param {string} toId\n\t * @param {number} [output]\n\t */\n\tconnectEvents(toId, output) {\n\t\tthis.call('connectEvents', toId, output);\n\t}\n\n\t/**\n\t * @param {string} [toId]\n\t * @param {number} [output]\n\t */\n\tdisconnectEvents(toId, output) {\n\t\tthis.call('disconnectEvents', toId, output);\n\t}\n\n\tasync destroy() {\n\t\tthis.disconnect();\n\t\tthis.paramsUpdateCheckFnRef.forEach((ref) => {\n\t\t\tif (typeof ref === 'number') window.clearTimeout(ref);\n\t\t});\n\t\tawait this.call('destroy');\n\t\tthis.port.close();\n\t}\n}\n","/** @typedef {import('@webaudiomodules/api').WamParameter} WamParameter */\n/** @typedef {import('@webaudiomodules/api').WamParameterInfo} WamParameterInfo */\n\n/**\n * @extends {AudioParam}\n * @implements {WamParameter}\n */\nexport default class MgrAudioParam extends AudioParam {\n\tget exponent() {\n\t\treturn this.info.exponent;\n\t}\n\n\t/**\n\t * @type {WamParameterInfo}\n\t */\n\t_info = undefined;\n\n\tget info() {\n\t\treturn this._info;\n\t}\n\n\tset info(info) {\n\t\tthis._info = info;\n\t}\n\n\tset normalizedValue(valueIn) {\n\t\tthis.value = this.info.denormalize(valueIn);\n\t}\n\n\tget normalizedValue() {\n\t\treturn this.info.normalize(this.value);\n\t}\n\n\tsetValueAtTime(value, startTime) {\n\t\treturn super.setValueAtTime(value, startTime);\n\t}\n\n\tsetNormalizedValueAtTime(valueIn, startTime) {\n\t\tconst value = this.info.denormalize(valueIn);\n\t\treturn this.setValueAtTime(value, startTime);\n\t}\n\n\tlinearRampToValueAtTime(value, endTime) {\n\t\treturn super.linearRampToValueAtTime(value, endTime);\n\t}\n\n\tlinearRampToNormalizedValueAtTime(valueIn, endTime) {\n\t\tconst value = this.info.denormalize(valueIn);\n\t\treturn this.linearRampToValueAtTime(value, endTime);\n\t}\n\n\texponentialRampToValueAtTime(value, endTime) {\n\t\treturn super.exponentialRampToValueAtTime(value, endTime);\n\t}\n\n\texponentialRampToNormalizedValueAtTime(valueIn, endTime) {\n\t\tconst value = this.info.denormalize(valueIn);\n\t\treturn this.exponentialRampToValueAtTime(value, endTime);\n\t}\n\n\tsetTargetAtTime(target, startTime, timeConstant) {\n\t\treturn super.setTargetAtTime(target, startTime, timeConstant);\n\t}\n\n\tsetNormalizedTargetAtTime(targetIn, startTime, timeConstant) {\n\t\tconst target = this.info.denormalize(targetIn);\n\t\treturn this.setTargetAtTime(target, startTime, timeConstant);\n\t}\n\n\tsetValueCurveAtTime(values, startTime, duration) {\n\t\treturn super.setValueCurveAtTime(values, startTime, duration);\n\t}\n\n\tsetNormalizedValueCurveAtTime(valuesIn, startTime, duration) {\n\t\tconst values = Array.from(valuesIn).map((v) => this.info.denormalize(v));\n\t\treturn this.setValueCurveAtTime(values, startTime, duration);\n\t}\n\n\tcancelScheduledParamValues(cancelTime) {\n\t\treturn super.cancelScheduledValues(cancelTime);\n\t}\n\n\tcancelAndHoldParamAtTime(cancelTime) {\n\t\treturn super.cancelAndHoldAtTime(cancelTime);\n\t}\n}\n","// import CompositeAudioNode from '@webaudiomodules/sdk/'\r\nimport { CompositeAudioNode, ParamMgrNode } from '@webaudiomodules/sdk-parammgr'\r\n\r\nexport default class SimpleExample extends CompositeAudioNode {\r\n\t\r\n\t/**\r\n\t * @type {ParamMgrNode}\r\n\t */\r\n\t_wamNode = undefined\r\n\r\n\tisEnabled = true\r\n\r\n\r\n\tget paramMgr() {\r\n\t\treturn this._wamNode\r\n\t}\r\n\r\n\tconstructor(context, options) {\r\n\t\tsuper(context, options)\r\n\t\tthis.createNodes()\r\n\t}\r\n\r\n\tnoteOn(){\r\n\t\tconsole.error(\"NOTE ON\", arguments )\r\n\r\n\t}\r\n\r\n\tnoteOff(){\r\n\t\tconsole.error(\"NOTE OFF\", arguments )\r\n\r\n\t}\r\n\r\n\t// // The plugin redefines the async method createAudionode()\r\n\t// // that must return an <Audionode>\r\n\t// async createAudioNode(options) {\r\n\t// \treturn this.wetGainNode\r\n\t// }\r\n\r\n\t/**\r\n\t * Mandatory\r\n\t * @param {ParamMgrNode} wamNode\r\n\t */\r\n\tsetup(wamNode) {\r\n\r\n\t\t// FIXME:\r\n\t\twamNode.addEventListener('wam-midi', (e) => this.processMIDIEvents([{event: e.detail.data.bytes, time: 0}]))\r\n\r\n\t\tthis._wamNode = wamNode\r\n\t\tthis.connectNodes()\r\n\t\tthis._output = this.outputNode\r\n\t\t\r\n\t\tconsole.log('simple.wam CONSTRUCTOR SETUP', {wamNode, thiswamNode:this._wamNode })\r\n\t}\r\n\r\n\t/**\r\n\t * mandatory, will create default input and output\r\n\t */\r\n\tcreateNodes() {\r\n\t\tthis.outputNode = this.context.createGain()\r\n\t\tthis.dryGainNode = this.context.createGain()\r\n\t\tthis.wetGainNode = this.context.createGain()\r\n\t\tthis.delayNode = this.context.createDelay( 0.05 )\r\n\t\tthis.feedbackGainNode = this.context.createGain()\r\n\t\tthis.channelMerger = this.context.createChannelMerger(2)\r\n\t}\r\n\r\n\tconnectNodes() {\r\n\r\n\t\tsuper.connect(this.wetGainNode)\r\n\t\tsuper.connect(this.dryGainNode)\r\n\r\n\t\tthis.wetGainNode.gain.value = 0.5\r\n\t\tthis.wetGainNode.connect(this.delayNode)\r\n\t\tthis.delayNode.delayTime.value = 0.05\r\n\t\tthis.delayNode.connect(this.feedbackGainNode)\r\n\t\tthis.feedbackGainNode.gain.value = 0.6\r\n\t\tthis.feedbackGainNode.connect(this.delayNode)\r\n\t\t\r\n\t\t//this.wetGainNode.connect(this.delayNode)\r\n\t\tthis.feedbackGainNode.connect(this.wetGainNode)\r\n\t\tthis.wetGainNode.connect(this.outputNode)\r\n\t\t// this.dryGainNode.connect(this.outputNode)\r\n\r\n\t\t// this.audioNode.connect(audioContext.destination)\r\n\t}\r\n\r\n\tset status(value) {\r\n\r\n\t\t// nothing to update\r\n\t\tif (this.isEnabled === value)\r\n\t\t{ \r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.isEnabled = value\r\n\r\n\t\tif (this.isEnabled) {\r\n\t\t\tconsole.log('BYPASS MODE OFF FX RUNNING');\r\n\t\t\tthis.wetGainNode.gain.linearRampToValueAtTime(1, this.context.currentTime + 0.5)\r\n\t\t\tthis.dryGainNode.gain.linearRampToValueAtTime(0, this.context.currentTime + 0.5)\r\n\t\t\t// this.delayNode.gain.linearRampToValueAtTime(1200, this.context.currentTime + 0.5)\r\n\t\t} else {\r\n\t\t\tconsole.log('BYPASS MODE ON');\r\n\t\t\tthis.wetGainNode.gain.linearRampToValueAtTime(0, this.context.currentTime + 0.5)\r\n\t\t\tthis.dryGainNode.gain.linearRampToValueAtTime(1, this.context.currentTime + 0.5)\r\n\t\t\t// this.delayNode.gain.linearRampToValueAtTime(0, this.context.currentTime + 0.5)\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param {ScheduledMIDIEvent[]} midiEvents - ScheduledMIDIEvents\r\n\t */\r\n\tprocessMIDIEvents(midiEvents) {\r\n\t\tmidiEvents.forEach (message => {\r\n\t\t\tif (message.event[0] == MIDI.NOTE_ON) \r\n\t\t\t{\r\n\t\t\t\tconst midiNote = message.event[1]\r\n\t\t\t\tconst velocity = message.event[2]\r\n\t\t\t\tif (velocity)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.noteOn(midiNote, message.time)\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.noteOff(midiNote, message.time)\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (message.event[0] == MIDI.NOTE_OFF) {\r\n\r\n\t\t\t\tconst midiNote = message.event[1]\r\n\t\t\t\tthis.noteOff(midiNote, message.time)\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n/*\r\n\t// MANDATORY : redefine these methods\r\n\t// eslint-disable-next-line class-methods-use-this\r\n\tgetParamValue(name) {\r\n\t\treturn this._wamNode.getParamValue(name)\r\n\t}\r\n\r\n\tsetParamValue(name, value) {\r\n\t\treturn this._wamNode.setParamValue(name, value)\r\n\t}\r\n\r\n\tgetParamsValues() {\r\n\t\treturn this._wamNode.getParamsValues()\r\n\t}\r\n\r\n\tsetParamsValues(values) {\r\n\t\treturn this._wamNode.setParamsValues(values)\r\n\t}\r\n\t*/\r\n} \r\n\r\nexport const createSimpleEngine = (audioContext, descriptor, options) => new SimpleExample(audioContext, options)","module.exports = require('./helpers/bundle-url').getBundleURL('bFZPn') + \"descriptor.3e2761d9.js\" + \"?\" + Date.now();","\"use strict\";\n\nvar bundleURL = {};\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n  return value;\n}\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n  return '/';\n}\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n  return matches[0];\n}\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","{\r\n    \"name\": \"WamExample\",\r\n    \"identifier\": \"com.designerzen.simple\",\r\n    \"vendor\": \"designerzen\",\r\n    \"description\": \"Michel told me I should try this out\",\r\n    \"version\": \"1.0.0\",\r\n    \"apiVersion\": \"2.0.0\",\r\n    \"thumbnail\": \"screenshot.png\",\r\n    \"keywords\": [ \"ai\", \"motion-capture\", \"xr\" ],\r\n    \"website\": \"https://interface.place\",\r\n    \"isInstrument\": true,\r\n\t\"hasMidiInput\": true,\r\n    \"hasAudioInput\": true,\r\n\t\"hasAudioOutput\": true\r\n}","module.exports = require('./helpers/bundle-url').getBundleURL('bFZPn') + \"C3.66914d12.mp3\" + \"?\" + Date.now();","module.exports = require('./helpers/bundle-url').getBundleURL('bFZPn') + \"sampler.worklet.b4739056.js\" + \"?\" + Date.now();","module.exports = Promise.resolve(module.bundle.root(\"jM1kG\"))","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('bFZPn') + \"pingpongdelay.aef003e8.js\" + \"?\" + Date.now()).catch(err => {delete module.bundle.cache[module.id]; throw err;})).then(() => module.bundle.root('IfR0e'));","\"use strict\";\n\nvar cacheLoader = require('../cacheLoader');\nmodule.exports = cacheLoader(function (bundle) {\n  return new Promise(function (resolve, reject) {\n    // Don't insert the same script twice (e.g. if it was already in the HTML)\n    var existingScripts = document.getElementsByTagName('script');\n    if ([].concat(existingScripts).some(function isCurrentBundle(script) {\n      return script.src === bundle;\n    })) {\n      resolve();\n      return;\n    }\n    var preloadLink = document.createElement('link');\n    preloadLink.href = bundle;\n    preloadLink.rel = 'preload';\n    preloadLink.as = 'script';\n    document.head.appendChild(preloadLink);\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.src = bundle;\n    script.onerror = function (e) {\n      var error = new TypeError(\"Failed to fetch dynamically imported module: \".concat(bundle, \". Error: \").concat(e.message));\n      script.onerror = script.onload = null;\n      script.remove();\n      reject(error);\n    };\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n});","\"use strict\";\n\nvar cachedBundles = {};\nvar cachedPreloads = {};\nvar cachedPrefetches = {};\nfunction getCache(type) {\n  switch (type) {\n    case 'preload':\n      return cachedPreloads;\n    case 'prefetch':\n      return cachedPrefetches;\n    default:\n      return cachedBundles;\n  }\n}\nmodule.exports = function (loader, type) {\n  return function (bundle) {\n    var cache = getCache(type);\n    if (cache[bundle]) {\n      return cache[bundle];\n    }\n    return cache[bundle] = loader.apply(null, arguments).catch(function (e) {\n      delete cache[bundle];\n      throw e;\n    });\n  };\n};","module.exports = Promise.all([require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('bFZPn') + \"sampler.e81f0e84.js\" + \"?\" + Date.now()).catch(err => {delete module.bundle.cache[module.id]; throw err;}), require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('bFZPn') + \"sampler.2b3f2914.js\" + \"?\" + Date.now()).catch(err => {delete module.bundle.cache[module.id]; throw err;})]).then(() => module.bundle.root('iWRYu'));","module.exports = (__parcel__import__(\"./\" + \"simple.fc873626.js\" + \"?\" + Date.now())).then(() => module.bundle.root('9gsHW'));"],"names":[],"version":3,"file":"wam.399edeb0.js.map","sourceRoot":"/__parcel_source_root/"}