import{$7cf2dcf8517a78c88ada33c2cbce759f$init as e,$9bc1d6e15ed5cfc2bb3548a625288aa9$init as t}from"./index.ddf1f818.js";(async()=>{const n=window.hasOwnProperty("BeforeInstallPromptEvent");let a,o,s=!1,i=!1,l=!1,r="./manifest.webmanifest",c=[];const d=navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")||navigator.userAgent.includes("Macintosh")&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,p=()=>new Promise(((e,t)=>{l=!1,e()}));document.addEventListener("keyup",(e=>{"Escape"===e.key&&p()}));const m=()=>navigator.standalone?navigator.standalone:!!matchMedia("(display-mode: standalone)").matches,u=async()=>{try{const t=await fetch(r),n=await t.json();if(o=n,n)return(e=n).icons&&e.icons[0]?e.name?e.description||console.error("Your web manifest must have a description listed"):console.error("Your web manifest must have a name listed"):console.error("Your web manifest must have atleast one icon listed"),n}catch(e){return null}var e},h=async()=>{const l=n&&c.length<1&&(i||d);if("standalone"in navigator&&!1===navigator.standalone||l&&!1===s){const n=await(async()=>{try{await u()}catch(e){console.error("Error getting manifest, check that you have a valid web manifest")}"getInstalledRelatedApps"in navigator&&(c=await navigator.getInstalledRelatedApps())})();console.log("Application is currently ",m()?"installed":"not installed"),console.log({manifestdata:o,test:n});const i=document.createElement("button");i.classList.add("install-app"),i.innerHTML=`Click to install ${o.short_name} Version ${e().VERSION}`,i.addEventListener("click",(async()=>{t().setFeedback("Installing",0);try{const e=await(async()=>new Promise((async(e,t)=>{a?(a.prompt(),await p(),"accepted"===(await a.userChoice).outcome?(console.log("Your PWA has been installed"),s=!0,e(!0)):(console.log("User chose to not install"),s=!1,e(!1))):t("no prompt cached")})))();t().setToast(e?"The App was installed":"Maybe some other time"),e?document.querySelector(".install-app").style.display="none":i.classList.add("later")}catch(e){t().setToast("The App was not installed")}}),{once:!0}),document.documentElement.appendChild(i)}else console.log("Application not installable",{showInstaller:l,installed:s},m()?"installed":"not installed"),console.error("isSupportingBrowser && relatedApps.length < 1 && (hasPrompt || isIOS)"),console.error({isSupportingBrowser:n,relatedApps:c,hasPrompt:i,isIOS:d})};window.addEventListener("beforeinstallprompt",(e=>{a=e,i=!0,e.preventDefault(),console.log("Prompt to install hijacked"),d||h()}),{once:!0}),d&&window.addEventListener("load",(async e=>{h()}),{once:!0})})();
//# sourceMappingURL=index.56e12e26.js.map
