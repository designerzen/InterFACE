!function(e,t,n,a){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof o.parcelRequire&&o.parcelRequire,r="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function s(n,a){if(!t[n]){if(!e[n]){var o="function"==typeof parcelRequire&&parcelRequire;if(!a&&o)return o(n,!0);if(i)return i(n,!0);if(r&&"string"==typeof n)return r(n);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}d.resolve=function(t){return e[n][1][t]||t},d.cache={};var c=t[n]=new s.Module(n);e[n][0].call(c.exports,d,c,c.exports,this)}return t[n].exports;function d(e){return s(d.resolve(e))}}s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.exports={}},s.modules=e,s.cache=t,s.parent=i,s.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},o.parcelRequire=s;for(var l=0;l<n.length;l++)s(n[l]);if(n.length){var c=s(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define((function(){return c}))}}({f86476b6dfe525fe3e35c3b4270bbe11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.installer=n.isSupportingBrowser=void 0;var a=e("./ui"),o=e("./version");const i=document.documentElement,r=window.hasOwnProperty("BeforeInstallPromptEvent");let s;n.isSupportingBrowser=r;let l=!1,c=!1;n.installer=async(e=!1)=>{let t,n=!1,d=[];const u=navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")||navigator.userAgent.includes("Macintosh")&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,p=()=>new Promise((e,t)=>{n=!1,e()});document.addEventListener("keyup",e=>{"Escape"===e.key&&p()});const f=async()=>{try{const n=await fetch("./manifest.webmanifest"),a=await n.json();if(t=a,a)return(e=a).icons&&e.icons[0]?e.name?e.description||console.error("Your web manifest must have a description listed"):console.error("Your web manifest must have a name listed"):console.error("Your web manifest must have atleast one icon listed"),a}catch(e){return null}var e},m=async e=>{const n=r&&d.length<1&&(c||u);if(c&&"standalone"in navigator&&!1===navigator.standalone||n&&!1===l){await(async()=>{try{await f()}catch(e){console.error("Error getting manifest, check that you have a valid web manifest")}"getInstalledRelatedApps"in navigator&&(d=await navigator.getInstalledRelatedApps())})();i.classList.add((navigator.standalone?navigator.standalone:matchMedia("(display-mode: standalone)").matches)?"installed":"not-installed");const n=document.createElement("button");return n.classList.add("install-app"),n.setAttribute("aria-label",`Click to install ${t.short_name} V:${o.VERSION.replaceAll(".","-")} Date:${o.DATE}`),n.style.setProperty("--logo",`url(${t.icons[0].src})`),n.innerHTML="Install App",(0,a.addTooltip)(n),(0,a.setToast)("This App can be installed!<br> Click the orange button on the left"),n.addEventListener("click",async()=>{(0,a.setFeedback)("Installing",0);try{const e=await(async()=>new Promise(async(e,t)=>{if(s){s.prompt(),await p();"accepted"===(await s.userChoice).outcome?(console.log("Your PWA has been installed"),l=!0,e(!0)):(console.log("User chose to not install"),l=!1,e(!1))}else t("no prompt cached")}))();(0,a.setToast)(e?"The App was installed":"Maybe some other time"),e?document.querySelector(".install-app").style.display="none":n.classList.add("later")}catch(e){(0,a.setToast)("The App was not installed")}}),(e=e||i).appendChild(n),!0}return i.classList.add(l?"installed":"not-installed"),!1};return s||c||window.addEventListener("beforeinstallprompt",t=>{s=t,c=!0,t.preventDefault(),e||u||m()},{once:!0}),!e&&u&&window.addEventListener("load",async e=>{m()},{once:!0}),m},window.addEventListener("beforeinstallprompt",e=>{s=e,c=!0,e.preventDefault()},{once:!0})},{"./ui":"cc509f6dc4e34d6bd3c8d4b98935925a","./version":"25488683cc04bb43faf629e105172bc8"}]},{},[]);
//# sourceMappingURL=install.e4b35c4e.js.map
