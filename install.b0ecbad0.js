!function(e,t,n,a){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof o.parcelRequire&&o.parcelRequire,r="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function s(n,a){if(!t[n]){if(!e[n]){var o="function"==typeof parcelRequire&&parcelRequire;if(!a&&o)return o(n,!0);if(i)return i(n,!0);if(r&&"string"==typeof n)return r(n);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}c.resolve=function(t){return e[n][1][t]||t},c.cache={};var d=t[n]=new s.Module(n);e[n][0].call(d.exports,c,d,d.exports,this)}return t[n].exports;function c(e){return s(c.resolve(e))}}s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.exports={}},s.modules=e,s.cache=t,s.parent=i,s.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},o.parcelRequire=s;for(var l=0;l<n.length;l++)s(n[l]);if(n.length){var d=s(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof define&&define.amd&&define((function(){return d}))}}({f86476b6dfe525fe3e35c3b4270bbe11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.installer=n.isSupportingBrowser=void 0;var a,o=e("./ui"),i=e("./version"),r=(a=e("url:./manifest.webmanifest"))&&a.__esModule?a:{default:a};const s=document.documentElement,l=window.hasOwnProperty("BeforeInstallPromptEvent");let d;n.isSupportingBrowser=l;let c=!1,u=!1;n.installer=async(e=!1)=>{let t,n=[];const a=navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")||navigator.userAgent.includes("Macintosh")&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,f=()=>new Promise((e,t)=>{openModal=!1,e()});document.addEventListener("keyup",e=>{"Escape"===e.key&&f()});const p=async()=>{try{const n=await fetch(r.default),a=await n.json();if(t=a,a)return(e=a).icons&&e.icons[0]?e.name?e.description||console.error("Your web manifest must have a description listed"):console.error("Your web manifest must have a name listed"):console.error("Your web manifest must have atleast one icon listed"),a}catch(e){return console.error("Manifest could not be loaded",e),null}var e},b=async e=>{const b=l&&n.length<1&&(u||a);if(u&&"standalone"in navigator&&!1===navigator.standalone||b&&!1===c){await(async()=>{if(r.default)try{await p()}catch(e){console.error("Error getting manifest, check that you have a valid web manifest")}"getInstalledRelatedApps"in navigator&&(n=await navigator.getInstalledRelatedApps())})();s.classList.add((navigator.standalone?navigator.standalone:matchMedia("(display-mode: standalone)").matches)?"installed":"not-installed");const a=document.createElement("button");return a.classList.add("install-app"),a.setAttribute("aria-label",`Click to install ${t.short_name} V:${i.VERSION.replaceAll(".","-")} Date:${i.DATE}`),a.style.setProperty("--logo",`url(${t.icons[0].src})`),a.innerHTML="Install App",(0,o.addTooltip)(a),(0,o.setToast)("This App can be installed!<br> Click the orange button on the left"),a.addEventListener("click",async()=>{(0,o.setFeedback)("Installing",0);try{const e=await(async()=>new Promise(async(e,t)=>{if(d){d.prompt(),await f();"accepted"===(await d.userChoice).outcome?(console.log("Your PWA has been installed"),c=!0,e(!0)):(console.log("User chose to not install"),c=!1,e(!1))}else t("no prompt cached")}))();(0,o.setToast)(e?"The App was installed":"Maybe some other time"),e?document.querySelector(".install-app").style.display="none":a.classList.add("later")}catch(e){(0,o.setToast)("The App was not installed")}}),(e=e||s).appendChild(a),!0}return s.classList.add(c?"installed":"not-installed"),!1};return d||u||window.addEventListener("beforeinstallprompt",t=>{d=t,u=!0,t.preventDefault(),e||a||b()},{once:!0}),!e&&a&&window.addEventListener("load",async e=>{b()},{once:!0}),b},window.addEventListener("beforeinstallprompt",e=>{d=e,u=!0,e.preventDefault()},{once:!0})},{"./ui":"cc509f6dc4e34d6bd3c8d4b98935925a","./version":"25488683cc04bb43faf629e105172bc8","url:./manifest.webmanifest":"dfdee53f2bfc74b2a3502e6553ba04d0"}],dfdee53f2bfc74b2a3502e6553ba04d0:[function(e,t,n){t.exports=e("./bundle-url").getBundleURL()+e("./relative-path")("4dfcad53a98965d0","de0c4bbb21341183")},{"./bundle-url":"a079551cb6dc35425204fc0bb93fe7bb","./relative-path":"3d690079c6611245df705566cbbc1942"}]},{},[]);
//# sourceMappingURL=install.b0ecbad0.js.map
