{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-c6fe12998a275e3c.js","node_modules/@webaudiomodules/sdk-parammgr/dist/index.js","node_modules/@webaudiomodules/sdk-parammgr/src/CompositeAudioNode.js","node_modules/@webaudiomodules/sdk-parammgr/src/sdk/src/addFunctionModule.js","node_modules/@webaudiomodules/sdk-parammgr/src/ParamMgrProcessor.js","node_modules/@webaudiomodules/sdk-parammgr/src/sdk/src/WamParameterInfo.js","node_modules/@webaudiomodules/sdk-parammgr/src/ParamConfigurator.js","node_modules/@webaudiomodules/sdk-parammgr/src/MgrAudioParam.js","node_modules/@webaudiomodules/sdk-parammgr/src/ParamMgrNode.js","node_modules/@webaudiomodules/sdk-parammgr/src/ParamMgrFactory.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"71dd47dae81f0e84\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n\n  // Web extension context\n  var extCtx = typeof chrome === 'undefined' ? typeof browser === 'undefined' ? null : browser : chrome;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  ws.onerror = function (e) {\n    console.error(e.message);\n  };\n  ws.onclose = function () {\n    console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n  };\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          🚨 ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>💡 ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>📝 <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 ? void 0 : _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension bugfix for Chromium\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1255412#c12\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3) {\n            if (typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n              extCtx.runtime.reload();\n              return;\n            }\n            asset.url = extCtx.runtime.getURL('/__parcel_hmr_proxy__?url=' + encodeURIComponent(asset.url + '?t=' + Date.now()));\n            return hmrDownload(asset);\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 ? void 0 : _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}",null,"/** @typedef {import('@webaudiomodules/api').WamNode} WamNode */\n/** @typedef {import('@webaudiomodules/api').WebAudioModule} WebAudioModule */\n\n/**\n * @implements {WamNode}\n */\nexport default class CompositeAudioNode extends GainNode {\n\tget groupId() {\n\t\treturn this.module.groupId;\n\t}\n\n\tget moduleId() {\n\t\treturn this.module.moduleId;\n\t}\n\n\tget instanceId() {\n\t\treturn this.module.instanceId;\n\t}\n\n\tget module() {\n\t\treturn this._wamNode.module;\n\t}\n\n\t/**\n\t * @param {Parameters<WamNode['addEventListener']>} args\n\t */\n\taddEventListener(...args) {\n\t\treturn this._wamNode.addEventListener(...args);\n\t}\n\n\t/**\n\t * @param {Parameters<WamNode['removeEventListener']>} args\n\t */\n\tremoveEventListener(...args) {\n\t\treturn this._wamNode.removeEventListener(...args);\n\t}\n\n\t/**\n\t * @param {Parameters<WamNode['dispatchEvent']>} args\n\t */\n    dispatchEvent(...args) {\n\t\treturn this._wamNode.dispatchEvent(...args);\n\t}\n\n\t/**\n\t * @param {Parameters<WamNode['getParameterInfo']>} args\n\t */\n\tgetParameterInfo(...args) {\n\t\treturn this._wamNode.getParameterInfo(...args);\n\t}\n\n\t/**\n\t * @param {Parameters<WamNode['getParameterValues']>} args\n\t */\n\tgetParameterValues(...args) {\n\t\treturn this._wamNode.getParameterValues(...args);\n\t}\n\n\t/**\n\t * @param {Parameters<WamNode['setParameterValues']>} args\n\t */\n\tsetParameterValues(...args) {\n\t\treturn this._wamNode.setParameterValues(...args);\n\t}\n\n\tgetState() {\n\t\treturn this._wamNode.getState();\n\t}\n\n\t/**\n\t * @param {Parameters<WamNode['setState']>} args\n\t */\n\tsetState(...args) {\n\t\treturn this._wamNode.setState(...args);\n\t}\n\n\tgetCompensationDelay() {\n\t\treturn this._wamNode.getCompensationDelay();\n\t}\n\n\t/**\n\t * @param {Parameters<WamNode['scheduleEvents']>} args\n\t */\n\tscheduleEvents(...args) {\n\t\treturn this._wamNode.scheduleEvents(...args);\n\t}\n\n\tclearEvents() {\n\t\treturn this._wamNode.clearEvents();\n\t}\n\n\t/**\n\t * @param {Parameters<WamNode['connectEvents']>} args\n\t */\n\tconnectEvents(...args) {\n\t\treturn this._wamNode.connectEvents(...args);\n\t}\n\n\t/**\n\t * @param {Parameters<WamNode['disconnectEvents']>} args\n\t */\n\tdisconnectEvents(...args) {\n\t\treturn this._wamNode.disconnectEvents(...args);\n\t}\n\n\tdestroy() {\n\t\treturn this._wamNode.destroy();\n\t}\n\n\t/**\n\t * @type {AudioNode}\n\t */\n\t_output = undefined;\n\n\t/**\n\t * @type {WamNode}\n\t */\n\t_wamNode = undefined;\n\n\tset channelCount(count) {\n\t\tif (this._output) this._output.channelCount = count;\n\t\telse super.channelCount = count;\n\t}\n\n\tget channelCount() {\n\t\tif (this._output) return this._output.channelCount;\n\t\treturn super.channelCount;\n\t}\n\n\tset channelCountMode(mode) {\n\t\tif (this._output) this._output.channelCountMode = mode;\n\t\telse super.channelCountMode = mode;\n\t}\n\n\tget channelCountMode() {\n\t\tif (this._output) return this._output.channelCountMode;\n\t\treturn super.channelCountMode;\n\t}\n\n\tset channelInterpretation(interpretation) {\n\t\tif (this._output) this._output.channelInterpretation = interpretation;\n\t\telse super.channelInterpretation = interpretation;\n\t}\n\n\tget channelInterpretation() {\n\t\tif (this._output) return this._output.channelInterpretation;\n\t\treturn super.channelInterpretation;\n\t}\n\n\tget numberOfInputs() {\n\t\treturn super.numberOfInputs;\n\t}\n\n\tget numberOfOutputs() {\n\t\tif (this._output) return this._output.numberOfOutputs;\n\t\treturn super.numberOfOutputs;\n\t}\n\n\tget gain() {\n\t\treturn undefined;\n\t}\n\n\tconnect(...args) {\n\t\t// @ts-ignore\n\t\tif (this._output && this._output !== this) return this._output.connect(...args);\n\t\t// @ts-ignore\n\t\treturn super.connect(...args);\n\t}\n\n\tdisconnect(...args) {\n\t\t// @ts-ignore\n\t\tif (this._output && this._output !== this) return this._output.disconnect(...args);\n\t\t// @ts-ignore\n\t\treturn super.disconnect(...args);\n\t}\n}\n","/**\r\n * Take a function, stringify it and inject to an AudioWorklet with parameters.\r\n *\r\n * @param {AudioWorklet} audioWorklet\r\n * @param {(...args: any[]) => any} processorFunction\r\n * @param {any[]} [injection]\r\n * @returns {Promise<void>}\r\n */\r\nconst addFunctionModule = (audioWorklet, processorFunction, ...injection) => {\r\n    const text = `(${processorFunction.toString()})(${injection.map((s) => JSON.stringify(s)).join(', ')});`\r\n    const url = URL.createObjectURL(new Blob([text], { type: 'text/javascript' }));\r\n    return audioWorklet.addModule(url);\r\n}\r\n\r\nexport default addFunctionModule;\r\n","/** @typedef {import('@webaudiomodules/api').WamProcessor} WamProcessor */\n/** @typedef {import('@webaudiomodules/api').WamParameterInfoMap} WamParameterInfoMap */\n/** @typedef {import('@webaudiomodules/api').WamParameterDataMap} WamParameterValueMap */\n/** @typedef {import('@webaudiomodules/api').WamEvent} WamEvent */\n/** @typedef {import('./types').ParamMgrOptions} ParamMgrProcessorOptions */\n/** @typedef {import('./TypedAudioWorklet').AudioWorkletGlobalScope} AudioWorkletGlobalScope */\n/** @typedef {import('./TypedAudioWorklet').TypedAudioWorkletProcessor} AudioWorkletProcessor */\n/** @template M @typedef {import('./types').MessagePortRequest<M>} MessagePortRequest */\n/** @template M @typedef {import('./types').MessagePortResponse<M>} MessagePortResponse */\n/** @typedef {import('./types').ParamMgrCallFromProcessor} ParamMgrCallFromProcessor */\n/** @typedef {import('./types').ParamMgrCallToProcessor} ParamMgrCallToProcessor */\n/** @typedef {import('./types').ParamMgrAudioWorkletOptions} ParamMgrAudioWorkletOptions */\n/** @typedef {import('./types').ParametersMapping} ParametersMapping */\n/** @typedef {import('./types').WamParamMgrSDKBaseModuleScope} WamParamMgrSDKBaseModuleScope */\n\n/**\n * Main function to stringify as a worklet.\n *\n * @param {string} moduleId processor identifier\n * @param {WamParameterInfoMap} paramsConfig parameterDescriptors\n */\nconst processor = (moduleId, paramsConfig) => {\n\t/** @type {AudioWorkletGlobalScope} */\n\t// @ts-ignore\n\tconst audioWorkletGlobalScope = globalThis;\n\tconst {\n\t\tAudioWorkletProcessor,\n\t\tregisterProcessor,\n\t\twebAudioModules,\n\t} = audioWorkletGlobalScope;\n\n\t/** @type {WamParamMgrSDKBaseModuleScope} */\n\tconst ModuleScope = audioWorkletGlobalScope.webAudioModules.getModuleScope(moduleId);\n\n\tconst supportSharedArrayBuffer = !!globalThis.SharedArrayBuffer;\n\tconst SharedArrayBuffer = globalThis.SharedArrayBuffer || globalThis.ArrayBuffer;\n\tconst normExp = (x, e) => (e === 0 ? x : x ** (1.5 ** -e));\n\tconst normalizeE = (x, min, max, e = 0) => (\n\t\tmin === 0 && max === 1\n\t\t\t? normExp(x, e)\n\t\t\t: normExp((x - min) / (max - min) || 0, e));\n\tconst normalize = (x, min, max) => (min === 0 && max === 1 ? x : (x - min) / (max - min) || 0);\n\tconst denormalize = (x, min, max) => (min === 0 && max === 1 ? x : x * (max - min) + min);\n\tconst mapValue = (x, eMin, eMax, sMin, sMax, tMin, tMax) => (\n\t\tdenormalize(\n\t\t\tnormalize(\n\t\t\t\tnormalize(\n\t\t\t\t\tMath.min(sMax, Math.max(sMin, x)),\n\t\t\t\t\teMin,\n\t\t\t\t\teMax,\n\t\t\t\t),\n\t\t\t\tnormalize(sMin, eMin, eMax),\n\t\t\t\tnormalize(sMax, eMin, eMax),\n\t\t\t),\n\t\t\ttMin,\n\t\t\ttMax,\n\t\t)\n\t);\n\n\t/**\n\t * @typedef {MessagePortRequest<ParamMgrCallToProcessor> & MessagePortResponse<ParamMgrCallFromProcessor>} MsgIn\n\t * @typedef {MessagePortResponse<ParamMgrCallToProcessor> & MessagePortRequest<ParamMgrCallFromProcessor>} MsgOut\n\t */\n\t/**\n\t * `ParamMgrNode`'s `AudioWorkletProcessor`\n\t *\n\t * @extends {AudioWorkletProcessor<MsgIn, MsgOut>}\n\t * @implements {WamProcessor}\n\t * @implements {ParamMgrCallToProcessor}\n\t */\n\tclass ParamMgrProcessor extends AudioWorkletProcessor {\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn Object.entries(paramsConfig).map(([name, { defaultValue, minValue, maxValue }]) => ({\n\t\t\t\tname,\n\t\t\t\tdefaultValue,\n\t\t\t\tminValue,\n\t\t\t\tmaxValue,\n\t\t\t}));\n\t\t}\n\n\t\t/**\n\t\t * @param {ParamMgrProcessorOptions} options\n\t\t */\n\t\tconstructor(options) {\n\t\t\tsuper();\n\t\t\tthis.destroyed = false;\n\t\t\tthis.supportSharedArrayBuffer = supportSharedArrayBuffer;\n\t\t\tconst {\n\t\t\t\tparamsMapping,\n\t\t\t\tinternalParamsMinValues,\n\t\t\t\tinternalParams,\n\t\t\t\tgroupId,\n\t\t\t\tinstanceId,\n\t\t\t} = options.processorOptions;\n\t\t\tthis.groupId = groupId;\n\t\t\tthis.moduleId = moduleId;\n\t\t\tthis.instanceId = instanceId;\n\t\t\tthis.internalParamsMinValues = internalParamsMinValues;\n\t\t\tthis.paramsConfig = paramsConfig;\n\t\t\tthis.paramsMapping = paramsMapping;\n\t\t\t/** @type {Record<string, number>} */\n\t\t\tthis.paramsValues = {};\n\t\t\tObject.entries(paramsConfig).forEach(([name, { defaultValue }]) => {\n\t\t\t\tthis.paramsValues[name] = defaultValue;\n\t\t\t});\n\t\t\tthis.internalParams = internalParams;\n\t\t\tthis.internalParamsCount = this.internalParams.length;\n\t\t\tthis.buffer = new SharedArrayBuffer((this.internalParamsCount + 1) * Float32Array.BYTES_PER_ELEMENT);\n\t\t\tthis.$lock = new Int32Array(this.buffer, 0, 1);\n\t\t\tthis.$internalParamsBuffer = new Float32Array(this.buffer, 4, this.internalParamsCount);\n\t\t\t/** @type {WamEvent[]} */\n\t\t\tthis.eventQueue = [];\n\n\t\t\t/** @type {(event: WamEvent) => any} */\n\t\t\tthis.handleEvent = null;\n\n\t\t\taudioWorkletGlobalScope.webAudioModules.addWam(this);\n\t\t\tif (!ModuleScope.paramMgrProcessors) ModuleScope.paramMgrProcessors = {};\n\t\t\tModuleScope.paramMgrProcessors[this.instanceId] = this;\n\n\t\t\tthis.messagePortRequestId = -1;\n\t\t\t/** @type {Record<number, ((...args: any[]) => any)>} */\n\t\t\tconst resolves = {};\n\t\t\t/** @type {Record<number, ((...args: any[]) => any)>} */\n\t\t\tconst rejects = {};\n\t\t\t/**\n\t\t\t * @param {keyof ParamMgrCallFromProcessor} call\n\t\t\t * @param {any} args\n\t\t\t */\n\t\t\tthis.call = (call, ...args) => new Promise((resolve, reject) => {\n\t\t\t\tconst id = this.messagePortRequestId--;\n\t\t\t\tresolves[id] = resolve;\n\t\t\t\trejects[id] = reject;\n\t\t\t\tthis.port.postMessage({ id, call, args });\n\t\t\t});\n\t\t\tthis.handleMessage = ({ data }) => {\n\t\t\t\tconst { id, call, args, value, error } = data;\n\t\t\t\tif (call) {\n\t\t\t\t\t/** @type {any} */\n\t\t\t\t\tconst r = { id };\n\t\t\t\t\ttry {\n\t\t\t\t\t\tr.value = this[call](...args);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tr.error = e;\n\t\t\t\t\t}\n\t\t\t\t\tthis.port.postMessage(r);\n\t\t\t\t} else {\n\t\t\t\t\tif (error) rejects[id]?.(error);\n\t\t\t\t\telse resolves[id]?.(value);\n\t\t\t\t\tdelete resolves[id];\n\t\t\t\t\tdelete rejects[id];\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.port.start();\n\t\t\tthis.port.addEventListener('message', this.handleMessage);\n\t\t}\n\n\t\t/**\n\t\t * @param {ParametersMapping} mapping\n\t\t */\n\t\tsetParamsMapping(mapping) {\n\t\t\tthis.paramsMapping = mapping;\n\t\t}\n\n\t\tgetBuffer() {\n\t\t\treturn { lock: this.$lock, paramsBuffer: this.$internalParamsBuffer };\n\t\t}\n\n\t\tgetCompensationDelay() {\n\t\t\treturn 128;\n\t\t}\n\n\t\t/**\n\t\t * @param {string[]} parameterIdQuery\n\t\t */\n\t\tgetParameterInfo(...parameterIdQuery) {\n\t\t\tif (parameterIdQuery.length === 0) parameterIdQuery = Object.keys(this.paramsConfig);\n\t\t\t/** @type {WamParameterInfoMap} */\n\t\t\tconst parameterInfo = {};\n\t\t\tparameterIdQuery.forEach((parameterId) => {\n\t\t\t\tparameterInfo[parameterId] = this.paramsConfig[parameterId];\n\t\t\t});\n\t\t\treturn parameterInfo;\n\t\t}\n\n\t\t/**\n\t\t * @param {boolean} [normalized]\n\t\t * @param {string[]} parameterIdQuery\n\t\t */\n\t\tgetParameterValues(normalized, ...parameterIdQuery) {\n\t\t\tif (parameterIdQuery.length === 0) parameterIdQuery = Object.keys(this.paramsConfig);\n\t\t\t/** @type {WamParameterValueMap} */\n\t\t\tconst parameterValues = {};\n\t\t\tparameterIdQuery.forEach((parameterId) => {\n\t\t\t\tif (!(parameterId in this.paramsValues)) return;\n\t\t\t\tconst { minValue, maxValue, exponent } = this.paramsConfig[parameterId];\n\t\t\t\tconst value = this.paramsValues[parameterId];\n\t\t\t\tparameterValues[parameterId] = {\n\t\t\t\t\tid: parameterId,\n\t\t\t\t\tvalue: normalized ? normalizeE(value, minValue, maxValue, exponent) : value,\n\t\t\t\t\tnormalized,\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn parameterValues;\n\t\t}\n\n\t\t/**\n\t\t * @param {WamEvent[]} events\n\t\t */\n\t\tscheduleEvents(...events) {\n\t\t\tthis.eventQueue.push(...events);\n\t\t\tconst { currentTime } = audioWorkletGlobalScope;\n\t\t\tthis.eventQueue.sort((a, b) => (a.time || currentTime) - (b.time || currentTime));\n\t\t}\n\n\t\t/**\n\t\t * @param {WamEvent[]} events\n\t\t */\n\t\temitEvents(...events) {\n\t\t\twebAudioModules.emitEvents(this, ...events);\n\t\t}\n\n\t\tclearEvents() {\n\t\t\tthis.eventQueue = [];\n\t\t}\n\n\t\tlock() {\n\t\t\tif (globalThis.Atomics) Atomics.store(this.$lock, 0, 1);\n\t\t}\n\n\t\tunlock() {\n\t\t\tif (globalThis.Atomics) Atomics.store(this.$lock, 0, 0);\n\t\t}\n\n\t\t/**\n\t\t * Main process\n\t\t *\n\t\t * @param {Float32Array[][]} inputs\n\t\t * @param {Float32Array[][]} outputs\n\t\t * @param {Record<string, Float32Array>} parameters\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tif (this.destroyed) return false;\n\t\t\tconst outputOffset = 1;\n\t\t\tthis.lock();\n\t\t\tObject.entries(this.paramsConfig).forEach(([name, { minValue, maxValue }]) => {\n\t\t\t\tconst raw = parameters[name];\n\t\t\t\tif (name in this.paramsValues) this.paramsValues[name] = raw[raw.length - 1]; // Store to local temporary\n\t\t\t\tif (!this.paramsMapping[name]) return; // No need to output\n\t\t\t\tObject.entries(this.paramsMapping[name]).forEach(([targetName, targetMapping]) => {\n\t\t\t\t\tconst j = this.internalParams.indexOf(targetName);\n\t\t\t\t\tif (j === -1) return;\n\t\t\t\t\tconst intrinsicValue = this.internalParamsMinValues[j]; // Output will be added to target intrinsicValue\n\t\t\t\t\tconst { sourceRange, targetRange } = targetMapping;\n\t\t\t\t\tconst [sMin, sMax] = sourceRange;\n\t\t\t\t\tconst [tMin, tMax] = targetRange;\n\t\t\t\t\tlet out;\n\t\t\t\t\tif (minValue !== tMin || maxValue !== tMax\n\t\t\t\t\t\t\t|| minValue !== sMin || maxValue !== sMax) { // need to calculate with mapping\n\t\t\t\t\t\tout = raw.map((v) => {\n\t\t\t\t\t\t\tconst mappedValue = mapValue(v, minValue, maxValue, sMin, sMax, tMin, tMax);\n\t\t\t\t\t\t\treturn mappedValue - intrinsicValue;\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (intrinsicValue) { // need to correct with intrinsicValue\n\t\t\t\t\t\tout = raw.map((v) => v - intrinsicValue);\n\t\t\t\t\t} else { // No need to modify\n\t\t\t\t\t\tout = raw;\n\t\t\t\t\t}\n\t\t\t\t\tif (out.length === 1) outputs[j + outputOffset][0].fill(out[0]);\n\t\t\t\t\telse outputs[j + outputOffset][0].set(out);\n\t\t\t\t\tthis.$internalParamsBuffer[j] = out[0];\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.unlock();\n\t\t\tif (!this.supportSharedArrayBuffer) {\n\t\t\t\tthis.call('setBuffer', { lock: this.$lock, paramsBuffer: this.$internalParamsBuffer });\n\t\t\t}\n\t\t\tconst { currentTime } = audioWorkletGlobalScope;\n\t\t\tlet $event;\n\t\t\tfor ($event = 0; $event < this.eventQueue.length; $event++) {\n\t\t\t\tconst event = this.eventQueue[$event];\n\t\t\t\tif (event.time && event.time > currentTime) break;\n\t\t\t\tif (typeof this.handleEvent === 'function') this.handleEvent(event);\n\t\t\t\tthis.call('dispatchWamEvent', event);\n\t\t\t}\n\t\t\tif ($event) this.eventQueue.splice(0, $event);\n\t\t\treturn true;\n\t\t}\n\n\t\t/**\n\t\t * @param {string} wamInstanceId\n\t\t * @param {number} [output]\n\t\t */\n\t\tconnectEvents(wamInstanceId, output) {\n\t\t\twebAudioModules.connectEvents(this.groupId, this.instanceId, wamInstanceId, output);\n\t\t}\n\n\t\t/**\n\t\t * @param {string} [wamInstanceId]\n\t\t * @param {number} [output]\n\t\t */\n\t\tdisconnectEvents(wamInstanceId, output) {\n\t\t\tif (typeof wamInstanceId === 'undefined') {\n\t\t\t\twebAudioModules.disconnectEvents(this.groupId, this.instanceId);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twebAudioModules.disconnectEvents(this.groupId, this.instanceId, wamInstanceId, output);\n\t\t}\n\n\t\tdestroy() {\n\t\t\taudioWorkletGlobalScope.webAudioModules.removeWam(this);\n\t\t\tif (ModuleScope.paramMgrProcessors) delete ModuleScope.paramMgrProcessors[this.instanceId];\n\t\t\tthis.destroyed = true;\n\t\t\tthis.port.close();\n\t\t}\n\t}\n\ttry {\n\t\tregisterProcessor(moduleId, ParamMgrProcessor);\n\t} catch (error) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.warn(error);\n\t}\n};\nexport default processor;\n","/** @typedef {import('@webaudiomodules/api').WamParameterInfo} IWamParameterInfo */\n/** @typedef {typeof import('@webaudiomodules/api').WamParameterInfo} WamParameterInfoConstructor */\n/** @typedef {import('@webaudiomodules/api').WamParameterType} WamParameterType */\n/** @typedef {import('@webaudiomodules/api').WamParameterConfiguration} WamParameterConfiguration */\n/** @typedef {import('@webaudiomodules/api').AudioWorkletGlobalScope} AudioWorkletGlobalScope */\n/** @typedef {import('./types').WamSDKBaseModuleScope} WamSDKBaseModuleScope */\n\n/**\n * @param {string} [moduleId]\n * @returns {WamParameterInfoConstructor}\n */\nconst getWamParameterInfo = (moduleId) => {\n\t/** @type {AudioWorkletGlobalScope} */\n\t// @ts-ignore\n\tconst audioWorkletGlobalScope = globalThis;\n\n\t/**\n\t * @param {number} x\n\t * @param {number} e\n\t */\n\tconst normExp = (x, e) => (e === 0 ? x : x ** (1.5 ** -e));\n\t\n\t/**\n\t * @param {number} x\n\t * @param {number} e\n\t */\n\tconst denormExp = (x, e) => (e === 0 ? x : x ** (1.5 ** e));\n\t\n\t/**\n\t * @param {number} x\n\t * @param {number} min\n\t * @param {number} max\n\t */\n\tconst normalize = (x, min, max, e = 0) => (\n\t\tmin === 0 && max === 1\n\t\t\t? normExp(x, e)\n\t\t\t: normExp((x - min) / (max - min) || 0, e));\n\t\n\t/**\n\t * @param {any} x\n\t * @param {number} min\n\t * @param {number} max\n\t */\n\tconst denormalize = (x, min, max, e = 0) => (\n\t\tmin === 0 && max === 1\n\t\t\t? denormExp(x, e)\n\t\t\t: denormExp(x, e) * (max - min) + min\n\t);\n\t\n\t/**\n\t * @param {number} x\n\t * @param {number} min\n\t * @param {number} max\n\t */\n\tconst inRange = (x, min, max) => (x >= min && x <= max);\n\t\n\t/**\n\t * @implements {IWamParameterInfo}\n\t */\n\tclass WamParameterInfo {\n\t\t/**\n\t\t * @param {string} id\n\t\t * @param {WamParameterConfiguration} [config]\n\t\t */\n\t\tconstructor(id, config = {}) {\n\t\t\tlet {\n\t\t\t\ttype, label, defaultValue, minValue, maxValue, discreteStep, exponent, choices, units,\n\t\t\t} = config;\n\t\t\tif (type === undefined) type = 'float';\n\t\t\tif (label === undefined) label = '';\n\t\t\tif (defaultValue === undefined) defaultValue = 0;\n\t\t\tif (choices === undefined) choices = [];\n\t\t\tif (type === 'boolean' || type === 'choice') {\n\t\t\t\tdiscreteStep = 1;\n\t\t\t\tminValue = 0;\n\t\t\t\tif (choices.length) maxValue = choices.length - 1;\n\t\t\t\telse maxValue = 1;\n\t\t\t} else {\n\t\t\t\tif (minValue === undefined) minValue = 0;\n\t\t\t\tif (maxValue === undefined) maxValue = 1;\n\t\t\t\tif (discreteStep === undefined) discreteStep = 0;\n\t\t\t\tif (exponent === undefined) exponent = 0;\n\t\t\t\tif (units === undefined) units = '';\n\t\t\t}\n\t\n\t\t\tconst errBase = `Param config error | ${id}: `;\n\t\t\tif (minValue >= maxValue) throw Error(errBase.concat('minValue must be less than maxValue'));\n\t\t\tif (!inRange(defaultValue, minValue, maxValue)) throw Error(errBase.concat('defaultValue out of range'));\n\t\t\tif (discreteStep % 1 || discreteStep < 0) {\n\t\t\t\tthrow Error(errBase.concat('discreteStep must be a non-negative integer'));\n\t\t\t} else if (discreteStep > 0 && (minValue % 1 || maxValue % 1 || defaultValue % 1)) {\n\t\t\t\tthrow Error(errBase.concat('non-zero discreteStep requires integer minValue, maxValue, and defaultValue'));\n\t\t\t}\n\t\t\tif (type === 'choice' && !choices.length) {\n\t\t\t\tthrow Error(errBase.concat('choice type parameter requires list of strings in choices'));\n\t\t\t}\n\t\n\t\t\t/**\n\t\t\t * The parameter's unique identifier.\n\t\t\t * @readonly @type {string}\n\t\t\t */\n\t\t\tthis.id = id;\n\t\n\t\t\t/**\n\t\t\t * The parameter's human-readable name.\n\t\t\t * @readonly @type {string}\n\t\t\t */\n\t\t\tthis.label = label;\n\t\n\t\t\t/**\n\t\t\t * The parameter's data type.\n\t\t\t * @readonly @type {WamParameterType}\n\t\t\t */\n\t\t\tthis.type = type;\n\t\n\t\t\t/**\n\t\t\t * The parameter's default value. Must be\n\t\t\t * within range `[minValue, maxValue]`.\n\t\t\t * @readonly @type {number}\n\t\t\t */\n\t\t\tthis.defaultValue = defaultValue;\n\t\n\t\t\t/**\n\t\t\t * The minimum valid value of the parameter's range.\n\t\t\t * @readonly @type {number}\n\t\t\t */\n\t\t\tthis.minValue = minValue;\n\t\n\t\t\t/**\n\t\t\t * The maximum valid value of the parameter's range.\n\t\t\t * @readonly @type {number}\n\t\t\t */\n\t\t\tthis.maxValue = maxValue;\n\t\n\t\t\t/**\n\t\t\t * The distance between adjacent valid integer\n\t\t\t * values, if applicable.\n\t\t\t * @readonly @type {number}\n\t\t\t */\n\t\t\tthis.discreteStep = discreteStep;\n\t\n\t\t\t/**\n\t\t\t * The nonlinear (exponential) skew of the parameter's\n\t\t\t * range, if applicable.\n\t\t\t *  @readonly @type {number}\n\t\t\t */\n\t\t\tthis.exponent = exponent;\n\t\n\t\t\t/**\n\t\t\t * A list of human-readable choices corresponding to each\n\t\t\t * valid integer value in the parameter's range, if applicable.\n\t\t\t * @readonly @type {string[]}\n\t\t\t */\n\t\t\tthis.choices = choices;\n\t\n\t\t\t/**\n\t\t\t * A human-readable string representing the units of the\n\t\t\t * parameter's range, if applicable.\n\t\t\t * @readonly @type {string}\n\t\t\t */\n\t\t\tthis.units = units;\n\t\t}\n\t\n\t\t/**\n\t\t * Convert a value from the parameter's denormalized range\n\t\t * `[minValue, maxValue]` to normalized range `[0, 1]`.\n\t\t * @param {number} value\n\t\t */\n\t\tnormalize(value) {\n\t\t\treturn normalize(value, this.minValue, this.maxValue, this.exponent);\n\t\t}\n\t\n\t\t/**\n\t\t * Convert a value from normalized range `[0, 1]` to the\n\t\t * parameter's denormalized range `[minValue, maxValue]`.\n\t\t * @param {number} valueNorm\n\t\t */\n\t\tdenormalize(valueNorm) {\n\t\t\treturn denormalize(valueNorm, this.minValue, this.maxValue, this.exponent);\n\t\t}\n\t\n\t\t/**\n\t\t * Get a human-readable string representing the given value,\n\t\t * including units if applicable.\n\t\t * @param {number} value\n\t\t */\n\t\tvalueString(value) {\n\t\t\tif (this.choices) return this.choices[value];\n\t\t\tif (this.units !== '') return `${value} ${this.units}`;\n\t\t\treturn `${value}`;\n\t\t}\n\t}\n\n\tif (audioWorkletGlobalScope.AudioWorkletProcessor) {\n\t\t/** @type {WamSDKBaseModuleScope} */\n\t\tconst ModuleScope = audioWorkletGlobalScope.webAudioModules.getModuleScope(moduleId);\n\t\n\t\tif (!ModuleScope.WamParameterInfo) ModuleScope.WamParameterInfo = WamParameterInfo;\n\t}\n\n\treturn WamParameterInfo;\n};\n\nexport default getWamParameterInfo;\n","/** @typedef {import('@webaudiomodules/api').WamParameterConfiguration} WamParameterConfiguration */\n/** @typedef {import('@webaudiomodules/api').WamParameterInfoMap} WamParameterInfoMap */\n/** @typedef {import('./types').ParametersMapping} ParametersMapping */\n/** @typedef {import('./types').InternalParametersDescriptor} InternalParametersDescriptor */\n/** @typedef {import('./types').ParametersMappingConfiguratorOptions} ParametersMappingConfiguratorOptions */\n\nimport getWamParameterInfo from './sdk/src/WamParameterInfo.js';\n\nconst WamParameterInfo = getWamParameterInfo();\n\nexport default class ParamMappingConfigurator {\n\t/**\n\t * @param {ParametersMappingConfiguratorOptions} [options = {}]\n\t */\n\tconstructor(options = {}) {\n\t\tconst { paramsConfig, paramsMapping, internalParamsConfig } = options;\n\t\tthis._paramsConfig = paramsConfig;\n\t\tthis._paramsMapping = paramsMapping;\n\t\tthis._internalParamsConfig = internalParamsConfig;\n\t}\n\n\t/**\n\t * @private\n\t * @type {Record<string, WamParameterConfiguration>}\n\t */\n\t_paramsConfig = undefined;\n\n\t/**\n\t * Auto-completed `paramsConfig`:\n\t *\n\t * if no `paramsConfig` is defined while initializing, this will be be filled from the internalParamsConfig;\n\t *\n\t * if a parameter is not fully configured, the incompleted properties will have the same value as in the internalParamsConfig.\n\t *\n\t * @type {WamParameterInfoMap}\n\t */\n\tget paramsConfig() {\n\t\tconst { internalParamsConfig } = this;\n\t\treturn Object.entries(this._paramsConfig || internalParamsConfig)\n\t\t\t.reduce((configs, [id, config]) => {\n\t\t\t\tconst internalParam = internalParamsConfig[id];\n\t\t\t\tconfigs[id] = new WamParameterInfo(id, {\n\t\t\t\t\t...config,\n\t\t\t\t\tlabel: config.label ?? id,\n\t\t\t\t\tdefaultValue: config.defaultValue ?? internalParam?.defaultValue,\n\t\t\t\t\tminValue: config.minValue ?? internalParam?.minValue,\n\t\t\t\t\tmaxValue: config.maxValue ?? internalParam?.maxValue,\n\t\t\t\t});\n\t\t\t\treturn configs;\n\t\t\t}, {});\n\t}\n\n\t/**\n\t * @private\n\t * @type {InternalParametersDescriptor}\n\t */\n\t_internalParamsConfig = undefined;\n\n\t/**\n\t * Auto-completed configuration of the `internalParamsConfig`\n\t *\n\t * Internal Parameters Config contains all the automatable parameters' information.\n\t *\n\t * An automatable parameter could be a `WebAudio` `AudioParam`\n\t * or a config with an `onChange` callback that will be called while the value has been changed.\n\t *\n\t * @type {InternalParametersDescriptor}\n\t */\n\tget internalParamsConfig() {\n\t\treturn Object.entries(this._internalParamsConfig || {})\n\t\t\t.reduce((configs, [name, config]) => {\n\t\t\t\tif (config instanceof AudioParam) configs[name] = config;\n\t\t\t\telse {\n\t\t\t\t\tconst defaultConfig = {\n\t\t\t\t\t\tminValue: 0,\n\t\t\t\t\t\tmaxValue: 1,\n\t\t\t\t\t\tdefaultValue: 0,\n\t\t\t\t\t\tautomationRate: 30,\n\t\t\t\t\t};\n\t\t\t\t\tconfigs[name] = { ...defaultConfig, ...config };\n\t\t\t\t}\n\t\t\t\treturn configs;\n\t\t\t}, {});\n\t}\n\n\t/**\n\t * @private\n\t * @type {ParametersMapping}\n\t */\n\t_paramsMapping = {}\n\n\t/**\n\t * Auto-completed `paramsMapping`,\n\t * the mapping can be omitted while initialized,\n\t * but is useful when an exposed param (in the `paramsConfig`) should automate\n\t * several internal params (in the `internalParamsConfig`) or has a different range there.\n\t *\n\t * If a parameter is present in both `paramsConfig` and `internalParamsConfig` (or the `paramsConfig` is not configured),\n\t * a map of this parameter will be there automatically, if not declared explicitly.\n\t *\n\t * @type {ParametersMapping}\n\t */\n\tget paramsMapping() {\n\t\tconst declared = this._paramsMapping || {};\n\t\tconst externalParams = this.paramsConfig;\n\t\tconst internalParams = this.internalParamsConfig;\n\t\treturn Object.entries(externalParams)\n\t\t\t.reduce((mapping, [name, { minValue, maxValue }]) => {\n\t\t\t\tconst sourceRange = [minValue, maxValue];\n\t\t\t\tconst defaultMapping = { sourceRange, targetRange: [...sourceRange] };\n\t\t\t\tif (declared[name]) {\n\t\t\t\t\tconst declaredTargets = Object.entries(declared[name])\n\t\t\t\t\t\t.reduce((targets, [targetName, targetMapping]) => {\n\t\t\t\t\t\t\tif (internalParams[targetName]) {\n\t\t\t\t\t\t\t\ttargets[targetName] = { ...defaultMapping, ...targetMapping };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn targets;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\tmapping[name] = declaredTargets;\n\t\t\t\t} else if (internalParams[name]) {\n\t\t\t\t\tmapping[name] = { [name]: { ...defaultMapping } };\n\t\t\t\t}\n\t\t\t\treturn mapping;\n\t\t\t}, {});\n\t}\n}\n","/** @typedef {import('@webaudiomodules/api').WamParameter} WamParameter */\n/** @typedef {import('@webaudiomodules/api').WamParameterInfo} WamParameterInfo */\n\n/**\n * @extends {AudioParam}\n * @implements {WamParameter}\n */\nexport default class MgrAudioParam extends AudioParam {\n\tget exponent() {\n\t\treturn this.info.exponent;\n\t}\n\n\t/**\n\t * @type {WamParameterInfo}\n\t */\n\t_info = undefined;\n\n\tget info() {\n\t\treturn this._info;\n\t}\n\n\tset info(info) {\n\t\tthis._info = info;\n\t}\n\n\tset normalizedValue(valueIn) {\n\t\tthis.value = this.info.denormalize(valueIn);\n\t}\n\n\tget normalizedValue() {\n\t\treturn this.info.normalize(this.value);\n\t}\n\n\tsetValueAtTime(value, startTime) {\n\t\treturn super.setValueAtTime(value, startTime);\n\t}\n\n\tsetNormalizedValueAtTime(valueIn, startTime) {\n\t\tconst value = this.info.denormalize(valueIn);\n\t\treturn this.setValueAtTime(value, startTime);\n\t}\n\n\tlinearRampToValueAtTime(value, endTime) {\n\t\treturn super.linearRampToValueAtTime(value, endTime);\n\t}\n\n\tlinearRampToNormalizedValueAtTime(valueIn, endTime) {\n\t\tconst value = this.info.denormalize(valueIn);\n\t\treturn this.linearRampToValueAtTime(value, endTime);\n\t}\n\n\texponentialRampToValueAtTime(value, endTime) {\n\t\treturn super.exponentialRampToValueAtTime(value, endTime);\n\t}\n\n\texponentialRampToNormalizedValueAtTime(valueIn, endTime) {\n\t\tconst value = this.info.denormalize(valueIn);\n\t\treturn this.exponentialRampToValueAtTime(value, endTime);\n\t}\n\n\tsetTargetAtTime(target, startTime, timeConstant) {\n\t\treturn super.setTargetAtTime(target, startTime, timeConstant);\n\t}\n\n\tsetNormalizedTargetAtTime(targetIn, startTime, timeConstant) {\n\t\tconst target = this.info.denormalize(targetIn);\n\t\treturn this.setTargetAtTime(target, startTime, timeConstant);\n\t}\n\n\tsetValueCurveAtTime(values, startTime, duration) {\n\t\treturn super.setValueCurveAtTime(values, startTime, duration);\n\t}\n\n\tsetNormalizedValueCurveAtTime(valuesIn, startTime, duration) {\n\t\tconst values = Array.from(valuesIn).map((v) => this.info.denormalize(v));\n\t\treturn this.setValueCurveAtTime(values, startTime, duration);\n\t}\n\n\tcancelScheduledParamValues(cancelTime) {\n\t\treturn super.cancelScheduledValues(cancelTime);\n\t}\n\n\tcancelAndHoldParamAtTime(cancelTime) {\n\t\treturn super.cancelAndHoldAtTime(cancelTime);\n\t}\n}\n","import MgrAudioParam from './MgrAudioParam.js';\n\n/** @typedef {import('@webaudiomodules/api').WebAudioModule} WebAudioModule */\n/** @typedef {import('@webaudiomodules/api').WamNode} WamNode */\n/** @typedef {import('@webaudiomodules/api').WamParameterDataMap} WamParameterValueMap */\n/** @typedef {import('@webaudiomodules/api').WamEvent} WamEvent */\n/** @typedef {import('@webaudiomodules/api').WamAutomationEvent} WamAutomationEvent */\n/** @typedef {import('./types').ParamMgrOptions} ParamMgrOptions */\n/** @typedef {import('./types').ParamMgrCallFromProcessor} ParamMgrCallFromProcessor */\n/** @typedef {import('./types').ParamMgrCallToProcessor} ParamMgrCallToProcessor */\n/** @typedef {import('./types').ParamMgrNodeMsgIn} ParamMgrNodeMsgIn */\n/** @typedef {import('./types').ParamMgrNodeMsgOut} ParamMgrNodeMsgOut */\n/** @typedef {import('./types').ParamMgrNode} IParamMgrNode */\n\n/** @type {typeof import('./TypedAudioWorklet').TypedAudioWorkletNode} */\n// @ts-ignore\nconst AudioWorkletNode = globalThis.AudioWorkletNode;\n\n/**\n * @extends {AudioWorkletNode<ParamMgrNodeMsgIn, ParamMgrNodeMsgOut>}\n * @implements {IParamMgrNode}\n */\nexport default class ParamMgrNode extends AudioWorkletNode {\n\t/**\n     * @param {WebAudioModule} module\n     * @param {ParamMgrOptions} options\n     */\n\tconstructor(module, options) {\n\t\tsuper(module.audioContext, module.moduleId, {\n\t\t\tnumberOfInputs: 0,\n\t\t\tnumberOfOutputs: 1 + options.processorOptions.internalParams.length,\n\t\t\tparameterData: options.parameterData,\n\t\t\tprocessorOptions: options.processorOptions,\n\t\t});\n\t\tconst { processorOptions, internalParamsConfig } = options;\n\t\tthis.initialized = false;\n\t\tthis.module = module;\n\t\tthis.instanceId = options.processorOptions.instanceId;\n\t\tthis.groupId = options.processorOptions.groupId;\n\t\tthis.paramsConfig = processorOptions.paramsConfig;\n\t\tthis.internalParams = processorOptions.internalParams;\n\t\tthis.internalParamsConfig = internalParamsConfig;\n\t\tthis.$prevParamsBuffer = new Float32Array(this.internalParams.length);\n\t\tthis.paramsUpdateCheckFn = [];\n\t\tthis.paramsUpdateCheckFnRef = [];\n\t\tthis.messageRequestId = 0;\n\n\t\tObject.entries(this.getParams()).forEach(([name, param]) => {\n\t\t\tObject.setPrototypeOf(param, MgrAudioParam.prototype);\n\t\t\tparam._info = this.paramsConfig[name];\n\t\t});\n\n\t\t/** @type {Record<number, ((...args: any[]) => any)>} */\n\t\tconst resolves = {};\n\t\t/** @type {Record<number, ((...args: any[]) => any)>} */\n\t\tconst rejects = {};\n\t\t/**\n\t\t * @param {keyof ParamMgrCallToProcessor} call\n\t\t * @param {any} args\n\t\t */\n\t\tthis.call = (call, ...args) => {\n\t\t\tconst id = this.messageRequestId;\n\t\t\tthis.messageRequestId += 1;\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tresolves[id] = resolve;\n\t\t\t\trejects[id] = reject;\n\t\t\t\tthis.port.postMessage({ id, call, args });\n\t\t\t});\n\t\t};\n\t\tthis.handleMessage = ({ data }) => {\n\t\t\tconst { id, call, args, value, error } = data;\n\t\t\tif (call) {\n\t\t\t\t/** @type {any} */\n\t\t\t\tconst r = { id };\n\t\t\t\ttry {\n\t\t\t\t\tr.value = this[call](...args);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tr.error = e;\n\t\t\t\t}\n\t\t\t\tthis.port.postMessage(r);\n\t\t\t} else {\n                if (error) rejects[id]?.(error);\n                else resolves[id]?.(value);\n                delete resolves[id];\n                delete rejects[id];\n\t\t\t}\n\t\t};\n\t\tthis.port.start();\n\t\tthis.port.addEventListener('message', this.handleMessage);\n\t}\n\n\t/**\n\t * @returns {ReadonlyMap<string, MgrAudioParam>}\n\t */\n\tget parameters() {\n\t\t// @ts-ignore\n\t\treturn super.parameters;\n\t}\n\n\tget moduleId() {\n\t\treturn this.module.moduleId;\n\t}\n\n\tasync initialize() {\n\t\t/** @type {ReturnType<ParamMgrCallToProcessor['getBuffer']>} */\n\t\tconst response = await this.call('getBuffer');\n\t\tconst { lock, paramsBuffer } = response;\n\t\tthis.$lock = lock;\n\t\tthis.$paramsBuffer = paramsBuffer;\n\t\tconst offset = 1;\n\t\tObject.entries(this.internalParamsConfig).forEach(([name, config], i) => {\n\t\t\tif (this.context.state === 'suspended') this.$paramsBuffer[i] = config.defaultValue;\n\t\t\tif (config instanceof AudioParam) {\n\t\t\t\ttry {\n\t\t\t\t\tconfig.automationRate = 'a-rate';\n\t\t\t\t// eslint-disable-next-line no-empty\n\t\t\t\t} catch {\n\t\t\t\t} finally {\n\t\t\t\t\tconfig.value = Math.max(0, config.minValue);\n\t\t\t\t\tthis.connect(config, offset + i);\n\t\t\t\t}\n\t\t\t} else if (config instanceof AudioNode) {\n\t\t\t\tthis.connect(config, offset + i);\n\t\t\t} else {\n\t\t\t\tthis.requestDispatchIParamChange(name);\n\t\t\t}\n\t\t});\n\t\tthis.connect(this.module.audioContext.destination, 0, 0);\n\t\tthis.initialized = true;\n\t\treturn this;\n\t}\n\n\t/**\n\t * @param {ReturnType<ParamMgrCallToProcessor['getBuffer']>} buffer\n\t */\n\tsetBuffer({ lock, paramsBuffer }) {\n\t\tthis.$lock = lock;\n\t\tthis.$paramsBuffer = paramsBuffer;\n\t}\n\n\tsetParamsMapping(paramsMapping) {\n\t\treturn this.call('setParamsMapping', paramsMapping);\n\t}\n\n\tgetCompensationDelay() {\n\t\treturn this.call('getCompensationDelay');\n\t}\n\n\tgetParameterInfo(...parameterIdQuery) {\n\t\treturn this.call('getParameterInfo', ...parameterIdQuery);\n\t}\n\n\tgetParameterValues(normalized, ...parameterIdQuery) {\n\t\treturn this.call('getParameterValues', normalized, ...parameterIdQuery);\n\t}\n\n\t/**\n\t * @param {WamAutomationEvent} event\n\t */\n\tscheduleAutomation(event) {\n\t\tconst time = event.time || this.context.currentTime;\n\t\tconst { id, normalized, value } = event.data;\n\t\tconst audioParam = this.getParam(id);\n\t\tif (!audioParam) return;\n\t\tif (audioParam.info.type === 'float') {\n\t\t\tif (normalized) audioParam.linearRampToNormalizedValueAtTime(value, time);\n\t\t\telse audioParam.linearRampToValueAtTime(value, time);\n\t\t} else {\n\t\t\t// eslint-disable-next-line no-lonely-if\n\t\t\tif (normalized) audioParam.setNormalizedValueAtTime(value, time);\n\t\t\telse audioParam.setValueAtTime(value, time);\n\t\t}\n\t}\n\n\t/**\n\t * @param {WamEvent[]} events\n\t */\n\tscheduleEvents(...events) {\n\t\tevents.forEach((event) => {\n\t\t\tif (event.type === 'wam-automation') {\n\t\t\t\tthis.scheduleAutomation(event);\n\t\t\t}\n\t\t});\n\t\tthis.call('scheduleEvents', ...events);\n\t}\n\n\t/**\n\t * @param {WamEvent[]} events\n\t */\n\temitEvents(...events) {\n\t\tthis.call('emitEvents', ...events);\n\t}\n\n\tclearEvents() {\n\t\tthis.call('clearEvents');\n\t}\n\n\t/**\n\t * @param {WamEvent} event\n\t */\n\tdispatchWamEvent(event) {\n\t\tif (event.type === 'wam-automation') {\n\t\t\tthis.scheduleAutomation(event);\n\t\t} else {\n\t\t\tthis.dispatchEvent(new CustomEvent(event.type, { detail: event }));\n\t\t}\n\t}\n\n\t/**\n\t * @param {WamParameterValueMap} parameterValues\n\t */\n\tasync setParameterValues(parameterValues) {\n\t\tObject.keys(parameterValues).forEach((parameterId) => {\n\t\t\tconst parameterUpdate = parameterValues[parameterId];\n\t\t\tconst parameter = this.parameters.get(parameterId);\n\t\t\tif (!parameter) return;\n\t\t\tif (!parameterUpdate.normalized) parameter.value = parameterUpdate.value;\n\t\t\telse parameter.normalizedValue = parameterUpdate.value;\n\t\t});\n\t}\n\n\tasync getState() {\n\t\treturn this.getParamsValues();\n\t}\n\n\tasync setState(state) {\n\t\tthis.setParamsValues(state);\n\t}\n\n\tconvertTimeToFrame(time) {\n\t\treturn Math.round(time * this.context.sampleRate);\n\t}\n\n\tconvertFrameToTime(frame) {\n\t\treturn frame / this.context.sampleRate;\n\t}\n\n\t/**\n\t * @param {string} name\n\t */\n\trequestDispatchIParamChange = (name) => {\n\t\tconst config = this.internalParamsConfig[name];\n\t\tif (!('onChange' in config)) return;\n\t\tconst { automationRate, onChange } = config;\n\t\tif (typeof automationRate !== 'number' || !automationRate) return;\n\t\tconst interval = 1000 / automationRate;\n\t\tconst i = this.internalParams.indexOf(name);\n\t\tif (i === -1) return;\n\t\tif (i >= this.internalParams.length) return;\n\t\tif (typeof this.paramsUpdateCheckFnRef[i] === 'number') {\n\t\t\twindow.clearTimeout(this.paramsUpdateCheckFnRef[i]);\n\t\t}\n\n\t\tthis.paramsUpdateCheckFn[i] = () => {\n\t\t\tconst prev = this.$prevParamsBuffer[i];\n\t\t\tconst cur = this.$paramsBuffer[i];\n\t\t\tif (cur !== prev) {\n\t\t\t\tonChange(cur, prev);\n\t\t\t\tthis.$prevParamsBuffer[i] = cur;\n\t\t\t}\n\t\t\tthis.paramsUpdateCheckFnRef[i] = window.setTimeout(this.paramsUpdateCheckFn[i], interval);\n\t\t};\n\t\tthis.paramsUpdateCheckFn[i]();\n\t}\n\n\t/**\n\t * @param {string} name\n\t */\n\tgetIParamIndex(name) {\n\t\tconst i = this.internalParams.indexOf(name);\n\t\treturn i === -1 ? null : i;\n\t}\n\n\t/**\n\t * @param {string} name\n\t * @param {AudioParam | AudioNode} dest\n\t * @param {number} index\n\t */\n\tconnectIParam(name, dest, index) {\n\t\tconst offset = 1;\n\t\tconst i = this.getIParamIndex(name);\n\t\tif (i !== null) {\n\t\t\tif (dest instanceof AudioNode) {\n\t\t\t\tif (typeof index === 'number') this.connect(dest, offset + i, index);\n\t\t\t\telse this.connect(dest, offset + i);\n\t\t\t} else {\n\t\t\t\tthis.connect(dest, offset + i);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} name\n\t * @param {AudioParam | AudioNode} dest\n\t * @param {number} index\n\t */\n\tdisconnectIParam(name, dest, index) {\n\t\tconst offset = 1;\n\t\tconst i = this.getIParamIndex(name);\n\t\tif (i !== null) {\n\t\t\tif (dest instanceof AudioNode) {\n\t\t\t\tif (typeof index === 'number') this.disconnect(dest, offset + i, index);\n\t\t\t\telse this.disconnect(dest, offset + i);\n\t\t\t} else {\n\t\t\t\tthis.disconnect(dest, offset + i);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetIParamValue(name) {\n\t\tconst i = this.getIParamIndex(name);\n\t\treturn i !== null ? this.$paramsBuffer[i] : null;\n\t}\n\n\tgetIParamsValues() {\n\t\t/** @type {Record<string, number>} */\n\t\tconst values = {};\n\t\tthis.internalParams.forEach((name, i) => {\n\t\t\tvalues[name] = this.$paramsBuffer[i];\n\t\t});\n\t\treturn values;\n\t}\n\n\tgetParam(name) {\n\t\treturn this.parameters.get(name) || null;\n\t}\n\n\tgetParams() {\n\t\t// @ts-ignore\n\t\treturn Object.fromEntries(this.parameters);\n\t}\n\n\tgetParamValue(name) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.value;\n\t}\n\n\tsetParamValue(name, value) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return;\n\t\tparam.value = value;\n\t}\n\n\tgetParamsValues() {\n\t\t/** @type {Record<string, number>} */\n\t\tconst values = {};\n\t\tthis.parameters.forEach((v, k) => {\n\t\t\tvalues[k] = v.value;\n\t\t});\n\t\treturn values;\n\t}\n\n\t/**\n\t * @param {Record<string, number>} values\n\t */\n\tsetParamsValues(values) {\n\t\tif (!values) return;\n\t\tObject.entries(values).forEach(([k, v]) => {\n\t\t\tthis.setParamValue(k, v);\n\t\t});\n\t}\n\n\tgetNormalizedParamValue(name) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.normalizedValue;\n\t}\n\n\tsetNormalizedParamValue(name, value) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return;\n\t\tparam.normalizedValue = value;\n\t}\n\n\tgetNormalizedParamsValues() {\n\t\tconst values = {};\n\t\tthis.parameters.forEach((v, k) => {\n\t\t\tvalues[k] = this.getNormalizedParamValue(k);\n\t\t});\n\t\treturn values;\n\t}\n\n\tsetNormalizedParamsValues(values) {\n\t\tif (!values) return;\n\t\tObject.entries(values).forEach(([k, v]) => {\n\t\t\tthis.setNormalizedParamValue(k, v);\n\t\t});\n\t}\n\n\tsetParamValueAtTime(name, value, startTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setValueAtTime(value, startTime);\n\t}\n\n\tsetNormalizedParamValueAtTime(name, value, startTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setNormalizedValueAtTime(value, startTime);\n\t}\n\n\tlinearRampToParamValueAtTime(name, value, endTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.linearRampToValueAtTime(value, endTime);\n\t}\n\n\tlinearRampToNormalizedParamValueAtTime(name, value, endTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.linearRampToNormalizedValueAtTime(value, endTime);\n\t}\n\n\texponentialRampToParamValueAtTime(name, value, endTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.exponentialRampToValueAtTime(value, endTime);\n\t}\n\n\texponentialRampToNormalizedParamValueAtTime(name, value, endTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.exponentialRampToNormalizedValueAtTime(value, endTime);\n\t}\n\n\tsetParamTargetAtTime(name, target, startTime, timeConstant) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setTargetAtTime(target, startTime, timeConstant);\n\t}\n\n\tsetNormalizedParamTargetAtTime(name, target, startTime, timeConstant) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setNormalizedTargetAtTime(target, startTime, timeConstant);\n\t}\n\n\tsetParamValueCurveAtTime(name, values, startTime, duration) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setValueCurveAtTime(values, startTime, duration);\n\t}\n\n\tsetNormalizedParamValueCurveAtTime(name, values, startTime, duration) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.setNormalizedValueCurveAtTime(values, startTime, duration);\n\t}\n\n\tcancelScheduledParamValues(name, cancelTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.cancelScheduledValues(cancelTime);\n\t}\n\n\tcancelAndHoldParamAtTime(name, cancelTime) {\n\t\tconst param = this.parameters.get(name);\n\t\tif (!param) return null;\n\t\treturn param.cancelAndHoldAtTime(cancelTime);\n\t}\n\n\t/**\n\t * @param {string} toId\n\t * @param {number} [output]\n\t */\n\tconnectEvents(toId, output) {\n\t\tthis.call('connectEvents', toId, output);\n\t}\n\n\t/**\n\t * @param {string} [toId]\n\t * @param {number} [output]\n\t */\n\tdisconnectEvents(toId, output) {\n\t\tthis.call('disconnectEvents', toId, output);\n\t}\n\n\tasync destroy() {\n\t\tthis.disconnect();\n\t\tthis.paramsUpdateCheckFnRef.forEach((ref) => {\n\t\t\tif (typeof ref === 'number') window.clearTimeout(ref);\n\t\t});\n\t\tawait this.call('destroy');\n\t\tthis.port.close();\n\t}\n}\n","import addFunctionModule from './sdk/src/addFunctionModule.js';\nimport processor from './ParamMgrProcessor.js';\nimport ParamMappingConfigurator from './ParamConfigurator.js';\nimport ParamMgrNode from './ParamMgrNode.js';\n/** @typedef {import('@webaudiomodules/api').WebAudioModule} WebAudioModule */\n/** @typedef {import('./types').ParametersMappingConfiguratorOptions} ParametersMappingConfiguratorOptions */\n/** @typedef {import('./types').ParamMgrOptions} ParamMgrOptions */\n/** @typedef {import('./types').AudioWorkletRegister} AudioWorkletRegister */\n\nexport default class ParamMgrFactory {\n\t/**\n\t * @param {WebAudioModule} module\n\t * @param {ParametersMappingConfiguratorOptions} [optionsIn = {}]\n\t */\n\tstatic async create(module, optionsIn = {}) {\n\t\tconst { audioContext, moduleId } = module;\n\t\tconst instanceId = optionsIn.instanceId || module.instanceId;\n\t\tconst groupId = optionsIn.groupId || module.groupId;\n\t\tconst { paramsConfig, paramsMapping, internalParamsConfig } = new ParamMappingConfigurator(optionsIn);\n\t\tconst initialParamsValue = Object.entries(paramsConfig)\n\t\t\t.reduce((currentParams, [name, { defaultValue }]) => {\n\t\t\t\tcurrentParams[name] = defaultValue;\n\t\t\t\treturn currentParams;\n\t\t\t}, {});\n\t\tconst serializableParamsConfig = Object.entries(paramsConfig)\n\t\t\t.reduce((currentParams, [name, { id, label, type, defaultValue, minValue, maxValue, discreteStep, exponent, choices, units }]) => {\n\t\t\t\tcurrentParams[name] = { id, label, type, defaultValue, minValue, maxValue, discreteStep, exponent, choices, units };\n\t\t\t\treturn currentParams;\n\t\t\t}, {});\n\t\tawait addFunctionModule(audioContext.audioWorklet, processor, moduleId, serializableParamsConfig);\n\t\t/** @type {ParamMgrOptions} */\n\t\tconst options = {\n\t\t\tinternalParamsConfig,\n\t\t\tparameterData: initialParamsValue,\n\t\t\tprocessorOptions: {\n\t\t\t\tparamsConfig,\n\t\t\t\tparamsMapping,\n\t\t\t\tinternalParamsMinValues: Object.values(internalParamsConfig)\n\t\t\t\t\t.map((config) => Math.max(0, config?.minValue || 0)),\n\t\t\t\tinternalParams: Object.keys(internalParamsConfig),\n\t\t\t\tgroupId,\n\t\t\t\tinstanceId,\n\t\t\t\tmoduleId,\n\t\t\t},\n\t\t};\n\t\tconst node = new ParamMgrNode(module, options);\n\t\tawait node.initialize();\n\t\treturn node;\n\t}\n}\n"],"names":["WamParameterInfo"],"version":3,"file":"sampler.e81f0e84.js.map","sourceRoot":"/__parcel_source_root/"}