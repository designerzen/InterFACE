{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-797dd462b50d91c7.js","source/reporting.js","node_modules/analytics/lib/analytics.browser.es.js","node_modules/@analytics/core/dist/client/analytics-core.module.js","node_modules/@analytics/src/vendor/redux/utils/defs.js","node_modules/@analytics/src/vendor/redux/createStore.js","node_modules/@analytics/src/vendor/redux/combineReducers.js","node_modules/@analytics/src/vendor/redux/compose.js","node_modules/@analytics/src/vendor/redux/applyMiddleware.js","node_modules/@analytics/src/constants.js","node_modules/@analytics/src/utils/internalConstants.js","node_modules/@analytics/src/events.js","node_modules/@analytics/src/middleware/initialize.js","node_modules/@analytics/src/modules/user.js","node_modules/@analytics/src/middleware/identify.js","node_modules/@analytics/src/utils/callback-stack.js","node_modules/@analytics/src/utils/waitForReady.js","node_modules/@analytics/src/utils/heartbeat.js","node_modules/@analytics/src/middleware/plugins/engine.js","node_modules/@analytics/src/middleware/plugins/index.js","node_modules/@analytics/src/utils/filterDisabled.js","node_modules/@analytics/src/middleware/storage.js","node_modules/@analytics/src/middleware/dynamic.js","node_modules/@analytics/src/modules/plugins.js","node_modules/@analytics/src/utils/serialize.js","node_modules/@analytics/src/modules/track.js","node_modules/@analytics/src/modules/queue.js","node_modules/@analytics/src/modules/page.js","node_modules/@analytics/src/modules/context.js","node_modules/@analytics/src/utils/getOSName/browser.js","node_modules/@analytics/src/utils/handleNetworkEvents.js","node_modules/@analytics/src/utils/debug.js","node_modules/@analytics/src/utils/ensureArray.js","node_modules/@analytics/src/utils/enrichMeta.js","node_modules/@analytics/src/utils/getCallback.js","node_modules/@analytics/src/utils/timestamp.js","node_modules/@analytics/src/index.js","node_modules/analytics-utils/dist/analytics-utils.module.js","node_modules/analytics-utils/src/decodeUri.js","node_modules/analytics-utils/src/getBrowserLocale.js","node_modules/analytics-utils/src/getTimeZone.js","node_modules/analytics-utils/src/isExternalReferrer.js","node_modules/analytics-utils/src/isScriptLoaded.js","node_modules/analytics-utils/src/paramsClean.js","node_modules/analytics-utils/src/paramsGet.js","node_modules/analytics-utils/src/paramsParse.js","node_modules/analytics-utils/src/paramsRemove.js","node_modules/analytics-utils/src/url.js","node_modules/analytics-utils/src/parseReferrer.js","node_modules/analytics-utils/src/uuid.js","node_modules/analytics-utils/src/throttle.js","node_modules/@analytics/type-utils/dist/analytics-util-types.module.js","node_modules/@analytics/type-utils/src/index.js","node_modules/dlv/dist/dlv.umd.js","node_modules/dlv/index.js","node_modules/@analytics/global-storage-utils/dist/analytics-util-global-storage.module.js","node_modules/@analytics/global-storage-utils/src/index.js","node_modules/@analytics/storage-utils/dist/analytics-util-storage.module.js","node_modules/@analytics/storage-utils/src/utils/parse.js","node_modules/@analytics/storage-utils/src/index.js","node_modules/@analytics/cookie-utils/dist/analytics-util-cookie.module.js","node_modules/@analytics/cookie-utils/src/index.js","node_modules/@analytics/localstorage-utils/dist/analytics-util-localstorage.module.js","node_modules/@analytics/localstorage-utils/src/index.js","node_modules/@analytics/session-storage-utils/dist/analytics-util-session-storage.module.js","node_modules/@analytics/session-storage-utils/src/index.js","node_modules/@analytics/google-analytics/lib/analytics-plugin-ga.browser.es.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"7cd9f9bb87270bcb\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, globalThis, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: mixed;\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData = undefined;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets\n/*: {|[string]: boolean|} */\n, acceptedAssets\n/*: {|[string]: boolean|} */\n, assetsToAccept\n/*: Array<[ParcelRequire, string]> */\n;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\n\nfunction getPort() {\n  return HMR_PORT || location.port;\n} // eslint-disable-next-line no-redeclare\n\n\nvar parent = module.bundle.parent;\n\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/'); // Web extension context\n\n  var extCtx = typeof chrome === 'undefined' ? typeof browser === 'undefined' ? null : browser : chrome; // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n\n  var supportsSourceURL = false;\n\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  } // $FlowFixMe\n\n\n  ws.onmessage = async function (event\n  /*: {data: string, ...} */\n  ) {\n    checkedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    acceptedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    assetsToAccept = [];\n    var data\n    /*: HMRMessage */\n    = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH); // Handle HMR Update\n\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n\n      if (handled) {\n        console.clear(); // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n\n        await hmrApplyUpdates(assets);\n\n        for (var i = 0; i < assetsToAccept.length; i++) {\n          var id = assetsToAccept[i][1];\n\n          if (!acceptedAssets[id]) {\n            hmrAcceptRun(assetsToAccept[i][0], id);\n          }\n        }\n      } else fullReload();\n    }\n\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error(' [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html); // $FlowFixMe\n\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n\n  ws.onerror = function (e) {\n    console.error(e.message);\n  };\n\n  ws.onclose = function () {\n    console.warn('[parcel]  Connection to the HMR server was lost');\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel]  Error resolved');\n  }\n}\n\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n           ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div> ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div> <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\n\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\n\nfunction getParents(bundle, id)\n/*: Array<[ParcelRequire, string]> */\n{\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n\n  newLink.setAttribute('href', // $FlowFixMe\n  link.getAttribute('href').split('?')[0] + '?' + Date.now()); // $FlowFixMe\n\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\n\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href\n      /*: string */\n      = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n\n      return new Promise((resolve, reject) => {\n        var _document$head;\n\n        script.onload = () => resolve(script);\n\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 ? void 0 : _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\n\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension bugfix for Chromium\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1255412#c12\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3) {\n            if (typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n              extCtx.runtime.reload();\n              return;\n            }\n\n            asset.url = extCtx.runtime.getURL('/__parcel_hmr_proxy__?url=' + encodeURIComponent(asset.url + '?t=' + Date.now()));\n            return hmrDownload(asset);\n          }\n\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n\n          (_document$head2 = document.head) === null || _document$head2 === void 0 ? void 0 : _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\n\nfunction hmrApply(bundle\n/*: ParcelRequire */\n, asset\n/*:  HMRAsset */\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      } // $FlowFixMe\n\n\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\n\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    } // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n\n\n    delete modules[id];\n    delete bundle.cache[id]; // Now delete the orphans.\n\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\n\nfunction hmrAcceptCheck(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  } // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n\n\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n\n      parents.push(...p);\n    }\n  }\n\n  return accepted;\n}\n\nfunction hmrAcceptCheckOne(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n\n  if (checkedAssets[id]) {\n    return true;\n  }\n\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToAccept.push([bundle, id]);\n\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n}\n\nfunction hmrAcceptRun(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n  cached = bundle.cache[id];\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n\n  acceptedAssets[id] = true;\n}","import Analytics from 'analytics'\r\nimport googleAnalytics from '@analytics/google-analytics'\r\n \r\nlet analytics\r\n\r\n/**\r\n * Create a new analytics instance for sending events\r\n * @param {String} name Unique name for the store cache\r\n * @param {id} id Unique Google ID\r\n */\r\nexport const setupReporting = (name=\"Interface\", id=\"G-1XT0GV0L6J\") => {\r\n\tanalytics = Analytics({\r\n\t\tapp: name,\r\n\t\tplugins: [\r\n\t\t\tgoogleAnalytics({\r\n\t\t\t\ttrackingId:id\r\n\t\t\t})\r\n\t\t]\r\n\t})\r\n\t\r\n\t// Track a page view \r\n\tanalytics.page()\r\n\t\r\n\treturn analytics\r\n\t\r\n\r\n\t// // Track a custom event \r\n\t// analytics.track('playedVideo', {\r\n\t// \tcategory: 'Videos',\r\n\t// \tlabel: 'Fall Campaign',\r\n\t// \tvalue: 42\r\n\t// })\r\n\t\r\n\t// // Identify a visitor\r\n\t// analytics.identify('user-id-xyz', {\r\n\t// \tfirstName: 'bill',\r\n\t// \tlastName: 'murray'\r\n\t// })\t\r\n}\r\n\r\n/**\r\n * Send a generic tracking event to Google Analytics\r\n * @param {String} name Tracking Name\r\n * @param {String} data Data to send\r\n */\r\nexport const track = (name, data) => {\r\n\tif (analytics)\r\n\t{\r\n\t\tanalytics.track(name, data)\t\t\r\n\t}\r\n}\r\n\r\n/**\r\n * Send a tracking event to Google Analytics to\r\n * signify that a user is laeving the site\r\n */\r\nexport const trackExit = () => {\r\n\t// // Track a custom event \r\n\t// analytics.track('playedVideo', {\r\n\t// \tcategory: 'Videos',\r\n\t// \tlabel: 'Fall Campaign',\r\n\t// \tvalue: 42\r\n\t// })\r\n}\r\n\r\n/**\r\n * Send a tracking event to Google Analytics of ERROR type\r\n * @param {String} error Short Error message\r\n * @param {Number} code Error Code\r\n * @param {String} category Error Category\r\n */\r\nexport const trackError = (error, code=42, category=\"Fails\") =>{ \r\n\tif (analytics)\r\n\t{\r\n\t\tanalytics.track('Error', {\r\n\t\t\tcategory:category,\r\n\t\t\tlabel:error,\r\n\t\t\tvalue:code\r\n\t\t})\t\t\r\n\t}\r\n}","import { Analytics } from '@analytics/core';\nexport { CONSTANTS, EVENTS } from '@analytics/core';\nimport storage from '@analytics/storage-utils';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction analyticsLib() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaultSettings = {\n    storage: storage\n  };\n  return Analytics(_objectSpread2(_objectSpread2({}, defaultSettings), opts));\n}\n\nexport { analyticsLib as Analytics, analyticsLib as default, analyticsLib as init };\n",null,"export const FUNC = 'function'\nexport const UNDEF = 'undefined'\nexport const REDUCER = 'reducer'\n\nconst base = '@@redux/'\nexport const ACTION_INIT = base + 'INIT'\nexport const ACTION_TEST = base + Math.random().toString(36)\n","import { isObject } from '@analytics/type-utils'\nimport { FUNC, UNDEF, ACTION_INIT, REDUCER } from './utils/defs'\n\n// eslint-disable-next-line\nconst $$observable = /* #__PURE__ */ (() => (typeof Symbol === FUNC && Symbol.observable) || '@@observable')();\n\n/*\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nconst msg = ' != ' + FUNC\nexport default function createStore(reducer, preloadedState, enhancer) {\n  if (typeof preloadedState === FUNC && typeof enhancer === UNDEF) {\n    enhancer = preloadedState\n    preloadedState = undefined\n  }\n\n  if (typeof enhancer !== UNDEF) {\n    if (typeof enhancer !== FUNC) {\n      throw new Error('enhancer' + msg)\n    }\n\n    return enhancer(createStore)(reducer, preloadedState)\n  }\n\n  if (typeof reducer !== FUNC) {\n    throw new Error(REDUCER + msg)\n  }\n\n  let currentReducer = reducer\n  let currentState = preloadedState\n  let currentListeners = []\n  let nextListeners = currentListeners\n  let isDispatching = false\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice()\n    }\n  }\n\n  /*\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState\n  }\n\n  /*\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== FUNC) {\n      throw new Error('Listener' + msg)\n    }\n\n    let isSubscribed = true\n\n    ensureCanMutateNextListeners()\n    nextListeners.push(listener)\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return\n      }\n\n      isSubscribed = false\n\n      ensureCanMutateNextListeners()\n      const index = nextListeners.indexOf(listener)\n      nextListeners.splice(index, 1)\n    }\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    /* // add default info to actions... \n    console.log('dispatch before', _action)\n    const action = {\n      ..._action,\n      ...{\n        action: {\n          ..._action.action,\n          ...{ customInfo: 'yoooo'} \n        }\n      }\n    }\n    console.log('dispatch after', action)\n    /** */\n\n    if (!isObject(action)) {\n      throw new Error('Act != obj')\n    }\n\n    if (typeof action.type === UNDEF) {\n      throw new Error('ActType ' + UNDEF)\n    }\n\n    if (isDispatching) {\n      throw new Error('Dispatch in ' + REDUCER)\n    }\n\n    try {\n      isDispatching = true\n      currentState = currentReducer(currentState, action)\n    } finally {\n      isDispatching = false\n    }\n\n    const listeners = currentListeners = nextListeners\n    for (let i = 0; i < listeners.length; i++) {\n      const listener = listeners[i]\n      listener()\n    }\n\n    return action\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== FUNC) {\n      throw new Error('next ' + REDUCER + msg)\n    }\n\n    currentReducer = nextReducer\n    dispatch({ type: ACTION_INIT })\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    const outerSubscribe = subscribe\n    return {\n      /*\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Observer != obj')\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState())\n          }\n        }\n\n        observeState()\n        const unsubscribe = outerSubscribe(observeState)\n        return { unsubscribe }\n      },\n\n      [$$observable]() {\n        return this\n      }\n    }\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ACTION_INIT })\n\n  return {\n    dispatch,\n    subscribe,\n    getState,\n    replaceReducer,\n    [$$observable]: observable\n  }\n}\n","import { isObject } from '@analytics/type-utils'\nimport warning from './utils/warning'\nimport { FUNC, UNDEF, REDUCER, ACTION_INIT, ACTION_TEST } from './utils/defs'\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  const actionType = action && action.type\n  const actionName = (actionType && actionType.toString()) || '?'\n\n  return ('action ' + actionName + REDUCER + ' ' + key + ' returns ' + UNDEF)\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  const reducerKeys = Object.keys(reducers)\n  const argumentName = action && action.type === ACTION_INIT ? 'preloadedState arg passed to createStore' : 'previous state received by ' + REDUCER\n\n  if (reducerKeys.length === 0) {\n    return ('Store has no valid reducers')\n  }\n\n  if (!isObject(inputState)) {\n    return (\n      `The ${argumentName} has unexpected type of \"` +\n      ({}).toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] +\n      `\". Expected argument to be an object with the following ` +\n      `keys: \"${reducerKeys.join('\", \"')}\"`\n    )\n  }\n\n  const unexpectedKeys = Object.keys(inputState).filter(key =>\n    !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key]\n  )\n\n  unexpectedKeys.forEach(key => {\n    unexpectedKeyCache[key] = true\n  })\n\n  if (unexpectedKeys.length > 0) {\n    return (\n      `Unexpected keys ${unexpectedKeys.join('\", \"')} in ${argumentName}. ` +\n      `Expected to find 1 of the known reducer keys instead: ${reducerKeys.join('\", \"')}`\n    )\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(key => {\n    const reducer = reducers[key]\n    const initialState = reducer(undefined, { type: ACTION_INIT })\n    if (\n      typeof initialState === UNDEF ||\n      typeof reducer(undefined, { type: ACTION_TEST }) === UNDEF\n    ) {\n      throw new Error(REDUCER + ' ' + key + ' ' + UNDEF)\n    }\n  })\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nexport default function combineReducers(reducers) {\n  const reducerKeys = Object.keys(reducers)\n  const finalReducers = {}\n  for (let i = 0; i < reducerKeys.length; i++) {\n    const key = reducerKeys[i]\n\n    if (NODE_ENV !== 'production') {\n      if (typeof reducers[key] === UNDEF) {\n        warning(`No reducer > ${key}`)\n      }\n    }\n\n    if (typeof reducers[key] === FUNC) {\n      finalReducers[key] = reducers[key]\n    }\n  }\n  const finalReducerKeys = Object.keys(finalReducers)\n\n  let unexpectedKeyCache\n  if (NODE_ENV !== 'production') {\n    unexpectedKeyCache = {}\n  }\n\n  let shapeAssertionError\n  try {\n    assertReducerShape(finalReducers)\n  } catch (e) {\n    shapeAssertionError = e\n  }\n\n  return function combination(state = {}, action) {\n    if (shapeAssertionError) {\n      throw shapeAssertionError\n    }\n\n    if (NODE_ENV !== 'production') {\n      const warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache)\n      if (warningMessage) {\n        warning(warningMessage)\n      }\n    }\n\n    let hasChanged = false\n    const nextState = {}\n    for (let i = 0; i < finalReducerKeys.length; i++) {\n      const key = finalReducerKeys[i]\n      const reducer = finalReducers[key]\n      const previousStateForKey = state[key]\n      const nextStateForKey = reducer(previousStateForKey, action)\n      if (typeof nextStateForKey === UNDEF) {\n        const errorMessage = getUndefinedStateErrorMessage(key, action)\n        throw new Error(errorMessage)\n      }\n      nextState[key] = nextStateForKey\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey\n    }\n    return hasChanged ? nextState : state\n  }\n}\n","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose(...funcs) {\n  if (funcs.length === 0) {\n    return arg => arg\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0]\n  }\n\n  return funcs.reduce((a, b) => (...args) => a(b(...args)))\n}\n","import compose from './compose'\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nexport default function applyMiddleware(...middlewares) {\n  return (createStore) => (reducer, preloadedState, enhancer) => {\n    const store = createStore(reducer, preloadedState, enhancer)\n    let dispatch = store.dispatch\n    let chain = []\n\n    const middlewareAPI = {\n      getState: store.getState,\n      dispatch: (action) => dispatch(action)\n    }\n    chain = middlewares.map(middleware => middleware(middlewareAPI))\n    dispatch = compose(...chain)(store.dispatch)\n\n    return {\n      ...store,\n      dispatch\n    }\n  }\n}\n","/**\n * Core Analytic constants. These are exposed for third party plugins & listeners\n * @typedef {Object} constants\n * @property {ANON_ID} ANON_ID - Anonymous visitor Id localstorage key\n * @property {USER_ID} USER_ID - Visitor Id localstorage key\n * @property {USER_TRAITS} USER_TRAITS - Visitor traits localstorage key\n */\nimport { PREFIX } from '@analytics/type-utils'\n\n/**\n * Anonymous visitor Id localstorage key\n * @typedef {String} ANON_ID\n */\nexport const ANON_ID = PREFIX + 'anon_id' // __anon_id\n/**\n * Visitor Id localstorage key\n * @typedef {String} USER_ID\n */\nexport const USER_ID = PREFIX + 'user_id' // __user_id\n/**\n * Visitor traits localstorage key\n * @typedef {String} USER_TRAITS\n */\nexport const USER_TRAITS = PREFIX + 'user_traits' // __user_traits\n","\nexport const LIB_NAME = 'analytics'\n\nexport const ID = 'userId'\n\nexport const ANONID = 'anonymousId'\n\nexport const ERROR_URL = 'https://lytics.dev/errors/'","/* Core Analytic Events */\n\nexport const coreEvents = [\n  /**\n   * `bootstrap` - Fires when analytics library starts up.\n   * This is the first event fired. '.on/once' listeners are not allowed on bootstrap\n   * Plugins can attach logic to this event\n   */\n  'bootstrap',\n  /**\n   * `params` - Fires when analytics parses URL parameters\n   */\n  'params',\n  /**\n   * `campaign` - Fires if params contain \"utm\" parameters\n   */\n  'campaign',\n  /**\n   * `initializeStart` - Fires before 'initialize', allows for plugins to cancel loading of other plugins\n   */\n  'initializeStart',\n  /**\n   * `initialize` - Fires when analytics loads plugins\n   */\n  'initialize',\n  /**\n   * `initializeEnd` - Fires after initialize, allows for plugins to run logic after initialization methods run\n   */\n  'initializeEnd',\n  /**\n   * `ready` - Fires when all analytic providers are fully loaded. This waits for 'initialize' and 'loaded' to return true\n   */\n  'ready',\n  /**\n   * `resetStart` - Fires if analytic.reset() is called.\n   * Use this event to cancel reset based on a specific condition\n   */\n  'resetStart',\n  /**\n   * `reset` - Fires if analytic.reset() is called.\n   * Use this event to run custom cleanup logic (if needed)\n   */\n  'reset',\n  /**\n   * `resetEnd` - Fires after analytic.reset() is called.\n   * Use this event to run a callback after user data is reset\n   */\n  'resetEnd',\n  /******************\n   * Page Events\n   ******************/\n  /**\n   * `pageStart` - Fires before 'page' events fire.\n   *  This allows for dynamic page view cancellation based on current state of user or options passed in.\n   */\n  'pageStart',\n  /**\n   * `page` - Core analytics hook for page views.\n   *  If your plugin or integration tracks page views, this is the event to fire on.\n   */\n  'page',\n  /**\n   * `pageEnd` - Fires after all registered 'page' methods fire.\n   */\n  'pageEnd',\n  /**\n   * `pageAborted` - Fires if 'page' call is cancelled by a plugin\n   */\n  'pageAborted',\n  /****************\n   * Track Events\n   ***************/\n  /**\n   * `trackStart` - Called before the 'track' events fires.\n   *  This allows for dynamic page view cancellation based on current state of user or options passed in.\n   */\n  'trackStart',\n  /**\n   * `track` - Core analytics hook for event tracking.\n   *  If your plugin or integration tracks custom events, this is the event to fire on.\n   */\n  'track',\n  /**\n   * `trackEnd` - Fires after all registered 'track' events fire from plugins.\n   */\n  'trackEnd',\n  /**\n   * `trackAborted` - Fires if 'track' call is cancelled by a plugin\n   */\n  'trackAborted',\n  /******************\n   * Identify Events\n   ******************/\n  /**\n   * `identifyStart` - Called before the 'identify' events fires.\n   * This allows for dynamic page view cancellation based on current state of user or options passed in.\n   */\n  'identifyStart',\n  /**\n   * `identify` - Core analytics hook for user identification.\n   *  If your plugin or integration identifies users or user traits, this is the event to fire on.\n   */\n  'identify',\n  /**\n   * `identifyEnd` - Fires after all registered 'identify' events fire from plugins.\n   */\n  'identifyEnd',\n  /**\n   * `identifyAborted` - Fires if 'track' call is cancelled by a plugin\n   */\n  'identifyAborted',\n  /**\n   * `userIdChanged` - Fires when a user id is updated\n   */\n  'userIdChanged',\n  /******************\n   * Plugin Events\n   ******************/\n  /**\n   * `registerPlugins` - Fires when analytics is registering plugins\n   */\n  'registerPlugins',\n  /**\n   * `enablePlugin` - Fires when 'analytics.plugins.enable()' is called\n   */\n  'enablePlugin',\n  /**\n   * `disablePlugin` - Fires when 'analytics.plugins.disable()' is called\n   */\n  'disablePlugin',\n  /*\n   * `loadPlugin` - Fires when 'analytics.loadPlugin()' is called\n   */\n  // 'loadPlugin',\n  /******************\n   * Browser activity events\n   ******************/\n  /**\n   * `online` - Fires when browser network goes online.\n   * This fires only when coming back online from an offline state.\n   */\n  'online',\n  /**\n   * `offline` - Fires when browser network goes offline.\n   */\n  'offline',\n  /******************\n   * Storage events\n   ******************/\n  /**\n   * `setItemStart` - Fires when analytics.storage.setItem is initialized.\n   * This event gives plugins the ability to intercept keys & values and alter them before they are persisted.\n   */\n  'setItemStart',\n  /**\n   * `setItem` - Fires when analytics.storage.setItem is called.\n   * This event gives plugins the ability to intercept keys & values and alter them before they are persisted.\n   */\n  'setItem',\n  /**\n   * `setItemEnd` - Fires when setItem storage is complete.\n   */\n  'setItemEnd',\n  /**\n   * `setItemAborted` - Fires when setItem storage is cancelled by a plugin.\n   */\n  'setItemAborted',\n  /**\n   * `removeItemStart` - Fires when analytics.storage.removeItem is initialized.\n   * This event gives plugins the ability to intercept removeItem calls and abort / alter them.\n   */\n  'removeItemStart',\n  /**\n   * `removeItem` - Fires when analytics.storage.removeItem is called.\n   * This event gives plugins the ability to intercept removeItem calls and abort / alter them.\n   */\n  'removeItem',\n  /**\n   * `removeItemEnd` - Fires when removeItem storage is complete.\n   */\n  'removeItemEnd',\n  /**\n   * `removeItemAborted` - Fires when removeItem storage is cancelled by a plugin.\n   */\n  'removeItemAborted',\n]\n\n/* Keys on a plugin that are not considered events */\nexport const nonEvents = ['name', 'EVENTS', 'config', 'loaded']\n\nconst pluginEvents = {\n  registerPluginType: (name) => `registerPlugin:${name}`,\n  pluginReadyType: (name) => `ready:${name}`,\n}\n\nconst EVENTS = coreEvents.reduce((acc, curr) => {\n  acc[curr] = curr\n  return acc\n}, pluginEvents)\n\nexport default EVENTS\n\nexport function isReservedAction(type) {\n  return coreEvents.includes(type)\n}\n","/* eslint-disable camelcase */\nimport EVENTS from '../events'\nimport { ANON_ID, USER_ID, USER_TRAITS } from '../constants'\n\nconst utmRegex = /^utm_/\nconst propRegex = /^an_prop_/\nconst traitRegex = /^an_trait_/\n\n// Middleware runs during EVENTS.initialize\nexport default function initializeMiddleware(instance) {\n  const { setItem } = instance.storage\n  return store => next => action => {\n    /* Handle bootstrap event */\n    if (action.type === EVENTS.bootstrap) {\n      const { params, user, persistedUser, initialUser } = action\n      const isKnownId = persistedUser.userId === user.userId\n      /* 1. Set anonymous ID */\n      if (persistedUser.anonymousId !== user.anonymousId) {\n        setItem(ANON_ID, user.anonymousId)\n      }\n      /* 2. Set userId */\n      if (!isKnownId) {\n        setItem(USER_ID, user.userId)\n      }\n      /* 3. Set traits if they are different */\n      if (initialUser.traits) {\n         setItem(USER_TRAITS, {\n          ...(isKnownId && persistedUser.traits) ? persistedUser.traits : {},\n          ...initialUser.traits\n        })\n        /* TODO multi user setup\n        setItem(`${USER_TRAITS}.${user.userId}`, {\n          ...(isKnownId) ? existingTraits : {},\n          ...initialUser.traits\n        })\n        */\n      }\n      /* 4. Parse url params */\n      const paramsArray = Object.keys(action.params)\n      if (paramsArray.length) {\n        const { an_uid, an_event } = params\n        const groupedParams = paramsArray.reduce((acc, key) => {\n          // match utm params & dclid (display) & gclid (cpc)\n          if (key.match(utmRegex) || key.match(/^(d|g)clid/)) {\n            const cleanName = key.replace(utmRegex, '')\n            const keyName = (cleanName === 'campaign') ? 'name' : cleanName\n            acc.campaign[keyName] = params[key]\n          }\n          if (key.match(propRegex)) {\n            acc.props[key.replace(propRegex, '')] = params[key]\n          }\n          if (key.match(traitRegex)) {\n            acc.traits[key.replace(traitRegex, '')] = params[key]\n          }\n          return acc\n        }, {\n          campaign: {},\n          props: {},\n          traits: {}\n        })\n\n        store.dispatch({\n          type: EVENTS.params,\n          raw: params,\n          ...groupedParams,\n          ...(an_uid ? { userId: an_uid } : {}),\n        })\n\n        /* If userId set, call identify */\n        if (an_uid) {\n          // timeout to debounce and make sure integration is registered. Todo refactor\n          setTimeout(() => instance.identify(an_uid, groupedParams.traits), 0)\n        }\n\n        /* If tracking event set, call track */\n        if (an_event) {\n          // timeout to debounce and make sure integration is registered. Todo refactor\n          setTimeout(() => instance.track(an_event, groupedParams.props), 0)\n        }\n\n        // if url has utm params\n        if (Object.keys(groupedParams.campaign).length) {\n          store.dispatch({\n            type: EVENTS.campaign,\n            campaign: groupedParams.campaign\n          })\n        }\n      }\n    }\n    return next(action)\n  }\n}\n","import { get } from '@analytics/global-storage-utils'\nimport { isObject, PREFIX } from '@analytics/type-utils'\nimport { ANON_ID, USER_ID, USER_TRAITS } from '../constants'\nimport EVENTS from '../events'\n\n/* user reducer */\nexport default function userReducer(storage) {\n  return function user(state = {}, action = {}) {\n\n    if (action.type === EVENTS.setItemEnd) {\n      // Set anonymousId if changed by storage.setItem\n      if (action.key === ANON_ID) {\n        return { ...state, ...{ anonymousId: action.value }}\n      }\n      // Set userId if changed by storage.setItem\n      if (action.key === USER_ID) {\n        return { ...state, ...{ userId: action.value }}\n      }\n    }\n\n    switch (action.type) {\n      case EVENTS.identify:\n        return Object.assign({}, state, {\n          userId: action.userId,\n          traits: {\n            ...state.traits,\n            ...action.traits\n          }\n        })\n      case EVENTS.reset:\n        // Side effect to fix race condition in Node. TODO refactor\n        // This is from default storage.removeItem: (key) => globalContext[key] = undefined\n        [ USER_ID, ANON_ID, USER_TRAITS ].forEach((key) => {\n          // sync storage, not instance.storage\n          storage.removeItem(key)\n        })\n        return Object.assign({}, state, {\n          userId: null,\n          // TODO reset anon id automatically?\n          anonymousId: null,\n          traits: {},\n        })\n      default:\n        return state\n    }\n  }\n}\n\nexport function getPersistedUserData(storage) {\n  return {\n    userId: storage.getItem(USER_ID),\n    anonymousId: storage.getItem(ANON_ID),\n    traits: storage.getItem(USER_TRAITS)\n  }\n}\n\nexport const tempKey = (key) => PREFIX + 'TEMP' + PREFIX + key\n\nexport function getUserPropFunc(storage) {\n  return function getUserProp(key, instance, payload) {\n    /* 1. Try current state */\n    const currentId = instance.getState('user')[key]\n    if (currentId) {\n      /*\n      console.log(`from state ${key}`, currentId)\n      /** */\n      return currentId\n    }\n\n    /* 2. Try event payload */\n    if (payload && isObject(payload) && payload[key]) {\n      /*\n      console.log(`from payload ${key}`, payload[key])\n      /** */\n      return payload[key]\n    }\n\n    /* 3. Try persisted data */\n    const persistedInfo = getPersistedUserData(storage)[key]\n    if (persistedInfo) {\n      /*\n      console.log(`from persistedInfo ${key}`, persistedInfo)\n      /** */\n      return persistedInfo\n    }\n\n    /* 4. Else, try to get in memory placeholder. TODO watch this for future issues */\n    return get(tempKey(key)) || null\n  }\n}\n","import { uuid } from 'analytics-utils'\nimport { remove } from '@analytics/global-storage-utils'\nimport { tempKey } from '../modules/user'\nimport { USER_ID, USER_TRAITS, ANON_ID } from '../constants'\nimport { ID, ANONID } from '../utils/internalConstants'\nimport EVENTS from '../events'\n\nexport default function identifyMiddleware(instance) {\n  const { setItem, removeItem, getItem } = instance.storage\n  return store => next => action => {\n    const { userId, traits, options } = action\n    /* Reset user id and traits */\n    if (action.type === EVENTS.reset) {\n      // Remove stored data\n      [ USER_ID, USER_TRAITS, ANON_ID ].forEach((key) => {\n        // Fires async removeItem dispatch\n        removeItem(key)\n      });\n      [ ID, ANONID, 'traits' ].forEach((key) => {\n        // Remove from global context\n        remove(tempKey(key))\n      })\n    }\n\n    if (action.type === EVENTS.identify) {\n      /* If no anon id. Set it! */\n      if (!getItem(ANON_ID)) {\n        setItem(ANON_ID, uuid())\n      }\n\n      const currentId = getItem(USER_ID)\n      const currentTraits = getItem(USER_TRAITS) || {}\n\n      if (currentId && (currentId !== userId)) {\n        store.dispatch({\n          type: EVENTS.userIdChanged,\n          old: {\n            userId: currentId,\n            traits: currentTraits,\n          },\n          new: {\n            userId,\n            traits\n          },\n          options: options,\n        })\n      }\n\n      /* Save user id */\n      if (userId) {\n        setItem(USER_ID, userId)\n      }\n\n      /* Save user traits */\n      if (traits) {\n        setItem(USER_TRAITS, {\n          ...currentTraits,\n          ...traits\n        })\n      }\n    }\n    return next(action)\n  }\n}\n","import { isFunction } from '@analytics/type-utils'\n\n// Stack to temporarily hold deferred promises/callbacks\nconst stack = {}\n\nfunction runCallback(id, payload) {\n  if (stack[id] && isFunction(stack[id])) {\n    // console.log(`run ${id}`)\n    stack[id](payload)\n    delete stack[id]\n  }\n}\n\nexport { stack, runCallback }","/**\n * Wait until a given analytics provider is ready.\n * @param  {Object} data - passthrough resolve data\n * @param  {Function} predicate - function that resolves true\n * @param  {Number} timeout - max wait time\n * @return {Promise}\n */\nexport default function waitForReady(data, predicate, timeout) {\n  return new Promise((resolve, reject) => {\n    if (predicate()) {\n      return resolve(data)\n    }\n    // Timeout. Add to queue\n    if (timeout < 1) {\n      return reject({ ...data, queue: true }) // eslint-disable-line\n    }\n    // Else recursive retry\n    return pause(10).then(_ => {\n      return waitForReady(data, predicate, timeout - 10).then(resolve, reject)\n    })\n  })\n}\n\nfunction pause(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms))\n}\n","import { isFunction } from '@analytics/type-utils'\nimport { ID, ANONID } from './internalConstants'\n\nexport function processQueue(store, getPlugins, instance) {\n  const pluginMethods = getPlugins()\n  const { plugins, context, queue, user } = store.getState()\n  const isOnline = !context.offline\n  /* If network connection found and there is items in queue, process them all */\n  if (isOnline && queue && queue.actions && queue.actions.length) {\n    const pipeline = queue.actions.reduce((acc, item, index) => {\n      const isLoaded = plugins[item.plugin].loaded\n      if (isLoaded) {\n        acc.process.push(item)\n        acc.processIndex.push(index)\n      } else {\n        acc.requeue.push(item)\n        acc.requeueIndex.push(index)\n      }\n      return acc\n    }, {\n      processIndex: [],\n      process: [],\n      requeue: [],\n      requeueIndex: []\n    })\n\n    if (pipeline.processIndex && pipeline.processIndex.length) {\n      pipeline.processIndex.forEach((i) => {\n        const processAction = queue.actions[i]\n        // console.log('RePROCESS THIS>', processAction)\n        // Call methods directly right now\n        const currentPlugin = processAction.plugin\n        const currentMethod = processAction.payload.type\n        const method = pluginMethods[currentPlugin][currentMethod]\n        if (method && isFunction(method)) {\n          /* enrich queued payload with userId / anon id if missing */\n          /* TODO hoist enrich into where action queued? */\n          // console.log('before', processAction.payload)\n          const enrichedPayload = enrich(processAction.payload, user)\n          // console.log('user.userId', user.userId)\n          // console.log('user.anonymousId', user.anonymousId)\n          // console.log('after enrich', enrichedPayload)\n          method({\n            payload: enrichedPayload,\n            config: plugins[currentPlugin].config,\n            instance,\n          })\n\n          /* Then redispatch for .on listeners / other middleware */\n          const pluginEvent = `${currentMethod}:${currentPlugin}`\n          store.dispatch({\n            ...enrichedPayload,\n            type: pluginEvent,\n            /* Internal data for analytics engine */\n            _: {\n              called: pluginEvent,\n              from: 'queueDrain'\n            }\n          })\n        }\n      })\n\n      /* Removed processed actions */\n      const reQueueActions = queue.actions.filter((value, index) => {\n        // note !~ === return pipeline.processIndex.indexOf(index) === -1\n        return !~pipeline.processIndex.indexOf(index)\n      })\n\n      /* Set queue actions. TODO refactor to non mutatable or move out of redux */\n      queue.actions = reQueueActions\n    }\n  }\n}\n\n/* Heartbeat retries queued events */\nexport default function heartBeat(store, getPlugins, instance) {\n  // 3e3 === 3000 ms\n  return setInterval(() => processQueue(store, getPlugins, instance), 3e3)\n}\n\n// Assign userId && anonymousId values if present in payload but null\nfunction enrich(payload = {}, user = {}) {\n  return [ ID, ANONID ].reduce((acc, key) => {\n    if (payload.hasOwnProperty(key) && user[key] && (user[key] !== payload[key])) {\n      // console.log(`${key} stale update with ${user[key]}`)\n      acc[key] = user[key]\n    }\n    return acc\n  }, payload)\n}\n","import EVENTS from '../../events'\nimport fitlerDisabledPlugins from '../../utils/filterDisabled'\nimport { isFunction, isObject, isString } from '@analytics/type-utils'\nimport { runCallback } from '../../utils/callback-stack'\n\nconst endsWithStartRegex = /Start$/\nconst bootstrapRegex = /^bootstrap/\nconst readyRegex = /^ready/\n\nexport default async function (action, getPlugins, instance, store, eventsInfo) {\n  const pluginObject = isFunction(getPlugins) ? getPlugins() : getPlugins\n  const originalType = action.type\n  const updatedType = originalType.replace(endsWithStartRegex, '')\n\n  /* If action already dispatched exit early. This makes it so plugin methods are not fired twice. */\n  if (action._ && action._.called) {\n    // console.log('Already called', action._.called)\n    return action\n  }\n\n  const state = instance.getState()\n  /* Remove plugins that are disabled by options or by settings */\n  let activePlugins = fitlerDisabledPlugins(pluginObject, state.plugins, action.options)\n\n  /* If analytics.plugin.enable calls do special behavior */\n  if (originalType === EVENTS.initializeStart && action.fromEnable) {\n    // Return list of all enabled plugins that have NOT been initialized yet\n    activePlugins = Object.keys(state.plugins).filter((name) => {\n      const info = state.plugins[name]\n      return action.plugins.includes(name) && !info.initialized\n    }).map((name) => pluginObject[name])\n  }\n  // console.log(`engine activePlugins ${action.type}`, activePlugins)\n\n  const allActivePluginKeys = activePlugins.map((p) => p.name)\n  // console.log('allActivePluginKeys', allActivePluginKeys)\n  const allMatches = getAllMatchingCalls(originalType, activePlugins, pluginObject)\n  // console.log('allMatches', allMatches)\n\n  /* @TODO cache matches and purge on enable/disable/add plugin */\n\n  /**\n   * Process all 'actionBefore' hooks\n   * Example:\n   *  This is processes 'pageStart' methods from plugins and update the event to send through the chain\n   */\n  const actionBefore = await processEvent({\n    action: action,\n    data: {\n      exact: allMatches.before,\n      namespaced: allMatches.beforeNS\n    },\n    state: state,\n    allPlugins: pluginObject,\n    allMatches,\n    instance,\n    store,\n    EVENTS: eventsInfo\n  })\n  // console.log('____ actionBefore out', actionBefore)\n\n  /* Abort if eventBefore returns abort data */\n  if (shouldAbortAll(actionBefore, allActivePluginKeys.length)) {\n    return actionBefore\n  }\n\n  /* Filter over the plugin method calls and remove aborted plugin by name */\n  // const activeAndNonAbortedCalls = activePlugins.filter((plugin) => {\n  //   if (shouldAbort(actionBefore, plugin.name)) return false\n  //   return true\n  // })\n  // console.log(`activeAndNonAbortedCalls ${action.type}`, activeAndNonAbortedCalls)\n\n  let actionDuring\n  if (originalType === updatedType) {\n    /* If type the same don't double process */\n    actionDuring = actionBefore\n  } else {\n    /**\n     * Process all 'action' hooks\n     * Example: This is process 'page' methods from plugins and update the event to send through\n     */\n    actionDuring = await processEvent({\n      action: {\n        ...actionBefore,\n        type: updatedType\n      },\n      data: {\n        exact: allMatches.during,\n        namespaced: allMatches.duringNS\n      },\n      state: state,\n      allPlugins: pluginObject,\n      allMatches,\n      instance,\n      store,\n      EVENTS: eventsInfo\n    })\n  }\n  // console.log('____ actionDuring', actionDuring)\n\n  /**\n   * Process all 'actionEnd' hooks\n   * Example:\n   *  This is process 'pageEnd' methods from plugins and update the event to send through\n   */\n  // Only trigger `eventTypeEnd` if originalAction has Start ending.\n  if (originalType.match(endsWithStartRegex)) {\n    const afterName = `${updatedType}End`\n    const actionAfter = await processEvent({\n      action: {\n        ...actionDuring,\n        type: afterName\n      },\n      data: {\n        exact: allMatches.after,\n        namespaced: allMatches.afterNS\n      },\n      state: state,\n      allPlugins: pluginObject,\n      allMatches,\n      instance,\n      store,\n      EVENTS: eventsInfo\n    })\n    // console.log('____ actionAfter', actionAfter)\n\n    /* Fire callback if supplied */\n    if (actionAfter.meta && actionAfter.meta.hasCallback) {\n      /*\n      console.log('End of engine action has callback')\n      console.log(actionAfter.meta)\n      console.log('stack', stack)\n      /** */\n\n      // @TODO figure out exact args calls and .on will get\n      runCallback(actionAfter.meta.rid, { payload: actionAfter })\n    }\n  }\n\n  return actionBefore\n}\n\n/**\n * Async reduce over matched plugin methods\n * Fires plugin functions\n */\nasync function processEvent({\n  data,\n  action,\n  instance,\n  state,\n  allPlugins,\n  allMatches,\n  store,\n  EVENTS\n}) {\n  const { plugins, context } = state\n  const method = action.type\n  const isStartEvent = method.match(endsWithStartRegex)\n  // console.log(`data ${method}`, data)\n  // console.log(`data allMatches ${method}`, allMatches)\n  let abortable = data.exact.map((x) => {\n    return x.pluginName\n  })\n\n  /* If abort is called from xyzStart */\n  if (isStartEvent) {\n    abortable = allMatches.during.map((x) => {\n      return x.pluginName\n    })\n  }\n\n  /* make args for functions to concume */\n  const makeArgs = argumentFactory(instance, abortable)\n  // console.log('makeArgs', makeArgs)\n\n  /* Check if plugin loaded, if not mark action for queue */\n  const queueData = data.exact.reduce((acc, thing) => {\n    const { pluginName, methodName } = thing\n    let addToQueue = false\n    // Queue actions if plugin not loaded except for initialize and reset\n    if (!methodName.match(/^initialize/) && !methodName.match(/^reset/)) {\n      addToQueue = !plugins[pluginName].loaded\n    }\n    /* If offline and its a core method. Add to queue */\n    if (context.offline && (methodName.match(/^(page|track|identify)/))) {\n      addToQueue = true\n    }\n    acc[`${pluginName}`] = addToQueue\n    return acc\n  }, {})\n\n  /* generate plugin specific payloads */\n  const payloads = await data.exact.reduce(async (scoped, curr, i) => {\n    const { pluginName } = curr\n    const curScope = await scoped\n    if (data.namespaced && data.namespaced[pluginName]) {\n      const scopedPayload = await data.namespaced[pluginName].reduce(async (acc, p, count) => {\n        // await value\n        const curScopeData = await acc\n        if (!p.method || !isFunction(p.method)) {\n          return curScopeData\n        }\n\n        /* Make sure plugins dont call themselves */\n        validateMethod(p.methodName, p.pluginName)\n\n        function genAbort(currentAct, pname, otherPlug) {\n          return function (reason, plugins) {\n            const callsite = otherPlug || pname\n            // console.log(`__abort msg: ${reason}`)\n            // console.log(`__abort ${pname}`)\n            // console.log(`__abort xxx: ${plugins}`)\n            // console.log(`__abort otherPlug`, otherPlug)\n            return {\n              ...currentAct,\n              abort: {\n                reason: reason,\n                plugins: plugins || [pname],\n                caller: method,\n                from: callsite\n              }\n            }\n          }\n        }\n\n        const val = await p.method({\n          payload: curScopeData,\n          instance,\n          abort: genAbort(curScopeData, pluginName, p.pluginName),\n          config: getConfig(p.pluginName, plugins, allPlugins),\n          plugins: plugins\n        })\n        const returnValue = isObject(val) ? val : {}\n        return Promise.resolve({\n          ...curScopeData,\n          ...returnValue\n        })\n      }, Promise.resolve(action))\n\n      /* Set scoped payload */\n      curScope[pluginName] = scopedPayload\n    } else {\n      /* Set payload as default action */\n      curScope[pluginName] = action\n    }\n    return Promise.resolve(curScope)\n  }, Promise.resolve({}))\n  // console.log(`aaa scoped payloads ${action.type}`, payloads)\n\n  // Then call the normal methods with scoped payload\n  const resolvedAction = await data.exact.reduce(async (promise, curr, i) => {\n    const lastLoop = data.exact.length === (i + 1)\n    const { pluginName } = curr\n    const currentPlugin = allPlugins[pluginName]\n    const currentActionValue = await promise\n\n    let payloadValue = (payloads[pluginName]) ? payloads[pluginName] : {}\n    /* If eventStart, allow for value merging */\n    if (isStartEvent) {\n      payloadValue = currentActionValue\n    }\n\n    if (shouldAbort(payloadValue, pluginName)) {\n      // console.log(`> Abort from payload specific \"${pluginName}\" abort value`, payloadValue)\n      abortDispatch({\n        data: payloadValue,\n        method,\n        instance,\n        pluginName,\n        store\n      })\n      return Promise.resolve(currentActionValue)\n    }\n    if (shouldAbort(currentActionValue, pluginName)) {\n      // console.log(`> Abort from ${method} abort value`, currentActionValue)\n      if (lastLoop) {\n        abortDispatch({\n          data: currentActionValue,\n          method,\n          instance,\n          // pluginName,\n          store\n        })\n      }\n      return Promise.resolve(currentActionValue)\n    }\n\n    if (queueData.hasOwnProperty(pluginName) && queueData[pluginName] === true) {\n      // console.log('Queue this instead', pluginName)\n      store.dispatch({\n        type: `queue`,\n        plugin: pluginName,\n        payload: payloadValue,\n        /* Internal data for analytics engine */\n        _: {\n          called: `queue`,\n          from: 'queueMechanism' // for debugging\n        }\n      })\n      return Promise.resolve(currentActionValue)\n    }\n    /*\n    const checkForLoaded = () => {\n      const p = instance.getState('plugins')\n      return p[currentPlugin.name].loaded\n    }\n    // const p = instance.getState('plugins')\n    console.log(`loaded \"${currentPlugin.name}\" > ${method}:`, p[currentPlugin.name].loaded)\n    // await waitForReady(currentPlugin, checkForLoaded, 10000).then((d) => {\n    //   console.log(`Loaded ${method}`, currentPlugin.name)\n    // }).catch((e) => {\n    //   console.log(`Error ${method} ${currentPlugin.name}`, e)\n    //   // TODO dispatch failure\n    // })\n    */\n\n    // @TODO figure out if we want queuing semantics\n\n    const funcArgs = makeArgs(payloads[pluginName], allPlugins[pluginName])\n\n    // console.log(`funcArgs ${method} ${pluginName}`, funcArgs)\n\n    /* Run the plugin function */\n    const val = await currentPlugin[method]({\n      // currentPlugin: pluginName,\n      abort: funcArgs.abort,\n      // Send in original action value or scope payload\n      payload: payloadValue,\n      instance,\n      config: getConfig(pluginName, plugins, allPlugins),\n      plugins: plugins\n    })\n\n    const returnValue = isObject(val) ? val : {}\n    const merged = {\n      ...currentActionValue,\n      ...returnValue\n    }\n\n    const scopedPayload = payloads[pluginName] // || currentActionValue\n    if (shouldAbort(scopedPayload, pluginName)) {\n      // console.log(`>> HANDLE abort ${method} ${pluginName}`)\n      abortDispatch({\n        data: scopedPayload,\n        method,\n        instance,\n        pluginName,\n        store\n      })\n    } else {\n      const nameSpaceEvent = `${method}:${pluginName}`\n      const actionDepth = (nameSpaceEvent.match(/:/g) || []).length\n      if (actionDepth < 2 && !method.match(bootstrapRegex) && !method.match(readyRegex)) {\n        const updatedPayload = (isStartEvent) ? merged : payloadValue\n        // Dispatched for `.on('xyz') listeners.\n        instance.dispatch({\n          ...updatedPayload,\n          type: nameSpaceEvent,\n          _: {\n            called: nameSpaceEvent,\n            from: 'submethod'\n          }\n        })\n      }\n    }\n    // console.log('merged', merged)\n    return Promise.resolve(merged)\n  }, Promise.resolve(action))\n\n  // Dispatch End. Make sure actions don't get double dispatched. EG userIdChanged\n  if (!method.match(endsWithStartRegex) &&\n      !method.match(/^registerPlugin/) &&\n      // !method.match(/^disablePlugin/) &&\n      // !method.match(/^enablePlugin/) &&\n      !method.match(readyRegex) &&\n      !method.match(bootstrapRegex) &&\n      !method.match(/^params/) &&\n      !method.match(/^userIdChanged/)\n  ) {\n    if (EVENTS.plugins.includes(method)) {\n      // console.log(`Dont dispatch for ${method}`, resolvedAction)\n      // return resolvedAction\n    }\n    /*\n      Verify this original action setup.\n      It's intended to keep actions from double dispatching themselves\n    */\n    if (resolvedAction._ && resolvedAction._.originalAction === method) {\n      // console.log(`Dont dispatch for ${method}`, resolvedAction)\n      return resolvedAction\n    }\n\n    let endAction = {\n      ...resolvedAction,\n      ...{\n        _: {\n          originalAction: resolvedAction.type,\n          called: resolvedAction.type,\n          from: 'engineEnd'\n        }\n      }\n    }\n\n    /* If all plugins are aborted, dispatch xAborted */\n    if (shouldAbortAll(resolvedAction, data.exact.length) && !method.match(/End$/)) {\n      endAction = {\n        ...endAction,\n        ...{\n          type: resolvedAction.type + 'Aborted',\n        }\n      }\n    }\n\n    store.dispatch(endAction)\n  }\n\n  return resolvedAction\n}\n\nfunction abortDispatch({ data, method, instance, pluginName, store }) {\n  const postFix = (pluginName) ? ':' + pluginName : ''\n  const abortEvent = method + 'Aborted' + postFix\n  store.dispatch({\n    ...data,\n    type: abortEvent,\n    _: {\n      called: abortEvent,\n      from: 'abort'\n    }\n  })\n}\n\nfunction getConfig(name, pluginState, allPlugins) {\n  const pluginData = pluginState[name] || allPlugins[name]\n  if (pluginData && pluginData.config) {\n    return pluginData.config\n  }\n  return {}\n}\n\nfunction getPluginFunctions(methodName, plugins) {\n  return plugins.reduce((arr, plugin) => {\n    return (!plugin[methodName]) ? arr : arr.concat({\n      methodName: methodName,\n      pluginName: plugin.name,\n      method: plugin[methodName],\n    })\n  }, [])\n}\n\nfunction formatMethod(type) {\n  return type.replace(endsWithStartRegex, '')\n}\n\n/**\n * Return array of event names\n * @param  {String} eventType - original event type\n * @param  {String} namespace - optional namespace postfix\n * @return {array} - type, method, end\n */\nfunction getEventNames(eventType, namespace) {\n  const method = formatMethod(eventType)\n  const postFix = (namespace) ? `:${namespace}` : ''\n  // `typeStart:pluginName`\n  const type = `${eventType}${postFix}`\n  // `type:pluginName`\n  const methodName = `${method}${postFix}`\n  // `typeEnd:pluginName`\n  const end = `${method}End${postFix}`\n  return [ type, methodName, end ]\n}\n\n/* Collect all calls for a given event in the system */\nfunction getAllMatchingCalls(eventType, activePlugins, allPlugins) {\n  const eventNames = getEventNames(eventType)\n  // console.log('eventNames', eventNames)\n  // 'eventStart', 'event', & `eventEnd`\n  const core = eventNames.map((word) => {\n    return getPluginFunctions(word, activePlugins)\n  })\n  // Gather nameSpaced Events\n  return activePlugins.reduce((acc, plugin) => {\n    const { name } = plugin\n    const nameSpacedEvents = getEventNames(eventType, name)\n    // console.log('eventNames namespaced', nameSpacedEvents)\n    const [ beforeFuncs, duringFuncs, afterFuncs ] = nameSpacedEvents.map((word) => {\n      return getPluginFunctions(word, activePlugins)\n    })\n\n    if (beforeFuncs.length) {\n      acc.beforeNS[name] = beforeFuncs\n    }\n    if (duringFuncs.length) {\n      acc.duringNS[name] = duringFuncs\n    }\n    if (afterFuncs.length) {\n      acc.afterNS[name] = afterFuncs\n    }\n    return acc\n  }, {\n    before: core[0],\n    beforeNS: {},\n    during: core[1],\n    duringNS: {},\n    after: core[2],\n    afterNS: {}\n  })\n}\n\nfunction shouldAbort({ abort }, pluginName) {\n  if (!abort) return false\n  if (abort === true) return true\n  return includes(abort, pluginName) || (abort && includes(abort.plugins, pluginName))\n}\n\nfunction shouldAbortAll({ abort }, pluginsCount) {\n  if (!abort) return false\n  if (abort === true || isString(abort)) return true\n  const { plugins } = abort\n  return (isArray(abort) && (abort.length === pluginsCount)) || (isArray(plugins) && (plugins.length === pluginsCount))\n}\n\nfunction isArray(arr) {\n  return Array.isArray(arr)\n}\n\nfunction includes(arr, name) {\n  if (!arr || !isArray(arr)) return false\n  return arr.includes(name)\n}\n\n/**\n * Generate arguments to pass to plugin methods\n * @param  {Object} instance - analytics instance\n * @param  {array} abortablePlugins - plugins that can be cancelled by caller\n * @return {*} function to inject plugin params\n */\nfunction argumentFactory(instance, abortablePlugins) {\n  // console.log('abortablePlugins', abortablePlugins)\n  return function (action, plugin, otherPlugin) {\n    const { config, name } = plugin\n    let method = `${name}.${action.type}`\n    if (otherPlugin) {\n      method = otherPlugin.event\n    }\n\n    const abortF = (action.type.match(endsWithStartRegex))\n      ? abortFunction(name, method, abortablePlugins, otherPlugin, action)\n      : notAbortableError(action, method)\n\n    return {\n      /* self: plugin, for future maybe */\n      // clone objects to avoid reassign\n      payload: formatPayload(action),\n      instance: instance,\n      config: config || {},\n      abort: abortF\n    }\n  }\n}\n\nfunction abortFunction(pluginName, method, abortablePlugins, otherPlugin, action) {\n  return function (reason, plugins) {\n    const caller = (otherPlugin) ? otherPlugin.name : pluginName\n    let pluginsToAbort = (plugins && isArray(plugins)) ? plugins : abortablePlugins\n    if (otherPlugin) {\n      pluginsToAbort = (plugins && isArray(plugins)) ? plugins : [pluginName]\n      if (!pluginsToAbort.includes(pluginName) || pluginsToAbort.length !== 1) {\n        throw new Error(`Method ${method} can only abort ${pluginName} plugin. ${JSON.stringify(pluginsToAbort)} input valid`)\n      }\n    }\n    return {\n      ...action, //  todo verify this merge is ok\n      abort: {\n        reason: reason,\n        plugins: pluginsToAbort,\n        caller: method,\n        _: caller\n      }\n    }\n  }\n}\n\nfunction notAbortableError(action, method) {\n  return () => {\n    throw new Error(action.type + ' action not cancellable. Remove abort in ' + method)\n  }\n}\n\n/**\n * Verify plugin is not calling itself with whatever:myPluginName self refs\n */\nfunction validateMethod(actionName, pluginName) {\n  const text = getNameSpacedAction(actionName)\n  const methodCallMatchesPluginNamespace = text && (text.name === pluginName)\n  if (methodCallMatchesPluginNamespace) {\n    const sub = getNameSpacedAction(text.method)\n    const subText = (sub) ? 'or ' + sub.method : ''\n    throw new Error([ pluginName + ' plugin is calling method ' + actionName,\n      'Plugins cant call self',\n      `Use ${text.method} ${subText} in ${pluginName} plugin insteadof ${actionName}`]\n      .join('\\n')\n    )\n  }\n}\n\nfunction getNameSpacedAction(event) {\n  const split = event.match(/(.*):(.*)/)\n  if (!split) {\n    return false\n  }\n  return {\n    method: split[1],\n    name: split[2],\n  }\n}\n\nfunction formatPayload(action) {\n  return Object.keys(action).reduce((acc, key) => {\n    // redact type from { payload }\n    if (key === 'type') {\n      return acc\n    }\n    if (isObject(action[key])) {\n      acc[key] = Object.assign({}, action[key])\n    } else {\n      acc[key] = action[key]\n    }\n    return acc\n  }, {})\n}\n\n/*\nfunction getMatchingMethods(eventType, activePlugins) {\n  const exact = getPluginFunctions(eventType, activePlugins)\n  // console.log('exact', exact)\n  // Gather nameSpaced Events\n  return activePlugins.reduce((acc, plugin) => {\n    const { name } = plugin\n    const clean = getPluginFunctions(`${eventType}:${name}`, activePlugins)\n    if (clean.length) {\n      acc.namespaced[name] = clean\n    }\n    return acc\n  }, {\n    exact: exact,\n    namespaced: {}\n  })\n}\n*/\n","import EVENTS, { nonEvents } from '../../events'\nimport { runCallback, stack } from '../../utils/callback-stack'\nimport waitForReady from '../../utils/waitForReady'\nimport { processQueue } from '../../utils/heartbeat'\nimport runPlugins from './engine'\n\nexport default function pluginMiddleware(instance, getPlugins, systemEvents) {\n  const isReady = {}\n  return store => next => async action => {\n    const { type, abort, plugins } = action\n    let updatedAction = action\n\n    if (abort) {\n      return next(action)\n    }\n\n    /* Analytics.plugins.enable called, we need to init the plugins */\n    if (type === EVENTS.enablePlugin) {\n      store.dispatch({\n        type: EVENTS.initializeStart,\n        plugins: plugins,\n        disabled: [],\n        fromEnable: true,\n        meta: action.meta\n      })\n    }\n    \n    if (type === EVENTS.disablePlugin) {\n      // If cached callback, resolve promise/run callback. debounced to fix race condition\n      setTimeout(() => runCallback(action.meta.rid, { payload: action }), 0)\n    }\n\n    /* @TODO implement\n    if (type === EVENTS.loadPlugin) {\n      // Rerun initialize calls in plugins\n      const allPlugins = getPlugins()\n      const pluginsToLoad = Object.keys(allPlugins).filter((name) => {\n        return plugins.includes(name)\n      }).reduce((acc, curr) => {\n        acc[curr] = allPlugins[curr]\n        return acc\n      }, {})\n      const initializeAction = {\n        type: EVENTS.initializeStart,\n        plugins: plugins\n      }\n      const updated = await runPlugins(initializeAction, pluginsToLoad, instance, store, systemEvents)\n      return next(updated)\n    }\n    */\n\n    //  || type.match(/^initializeAbort:/)\n    if (type === EVENTS.initializeEnd) {\n      const allPlugins = getPlugins()\n      const pluginsArray = Object.keys(allPlugins)\n      const allRegisteredPlugins = pluginsArray.filter((name) => {\n        return plugins.includes(name)\n      }).map((name) => {\n        return allPlugins[name]\n      })\n      let completed = []\n      let failed = []\n      let disabled = action.disabled\n      // console.log('allRegisteredPlugins', allRegisteredPlugins)\n      const waitForPluginsToLoad = allRegisteredPlugins.map((plugin) => {\n        const { loaded, name } = plugin\n        /* Plugins will abort trying to load after 10 seconds. 1e4 === 10000 MS */\n        return waitForReady(plugin, loaded, 1e4).then((d) => {\n          if (!isReady[name]) {\n            // only dispatch namespaced rdy once\n            store.dispatch({\n              type: EVENTS.pluginReadyType(name), // `ready:${name}`\n              name: name,\n              events: Object.keys(plugin).filter((name) => {\n                return !nonEvents.includes(name)\n              })\n            })\n            isReady[name] = true\n          }\n          completed = completed.concat(name)\n\n          return plugin\n          // It's loaded! run the command\n        }).catch((e) => {\n          // Timeout Add to queue\n          // console.log('Error generic waitForReady. Push this to queue', e)\n          if (e instanceof Error) {\n            throw new Error(e)\n          }\n          failed = failed.concat(e.name)\n          // Failed to fire, add to queue\n          return e\n        })\n      })\n\n      Promise.all(waitForPluginsToLoad).then((calls) => {\n        // setTimeout to ensure runs after 'page'\n        const payload = {\n          plugins: completed,\n          failed: failed,\n          disabled: disabled\n        }\n        setTimeout(() => {\n          if (pluginsArray.length === (waitForPluginsToLoad.length + disabled.length)) {\n            store.dispatch({\n              ...{ type: EVENTS.ready },\n              ...payload,\n              \n            })\n          }\n        }, 0)\n      })\n    }\n\n    /* New plugin system */\n    if (type !== EVENTS.bootstrap) {\n      if (/^ready:([^:]*)$/.test(type)) {\n        // Immediately flush queue\n        setTimeout(() => processQueue(store, getPlugins, instance), 0)\n      }\n      const updated = await runPlugins(action, getPlugins, instance, store, systemEvents)\n      return next(updated)\n    }\n\n    return next(updatedAction)\n  }\n}\n","import { isBoolean } from '@analytics/type-utils'\n\nexport default function fitlerDisabledPlugins(allPlugins, settings = {}, options = {}) {\n  return Object.keys(allPlugins).filter((name) => {\n    const fromCallOptions = options.plugins || {}\n    // If enabled/disabled by options. Override settings\n    if (isBoolean(fromCallOptions[name])) {\n      return fromCallOptions[name]\n    }\n    // If all: false disable everything unless true explicitly set\n    if (fromCallOptions.all === false) {\n      return false\n    }\n    // else use state.plugin settings\n    if (settings[name] && settings[name].enabled === false) {\n      return false\n    }\n    return true\n  }).map((name) => allPlugins[name])\n}\n","import EVENTS from '../events'\n\nexport default function storageMiddleware(storage) {\n  return store => next => action => {\n    const { type, key, value, options } = action\n    if (type === EVENTS.setItem || type === EVENTS.removeItem) {\n      if (action.abort) {\n        return next(action)\n      }\n      // Run storage set or remove\n      if (type === EVENTS.setItem) {\n        storage.setItem(key, value, options)\n      } else {\n        storage.removeItem(key, options)\n      }\n    }\n    return next(action)\n  }\n}\n\n/*\n  Todo: emit events for keys we care about\n  window.addEventListener('storage', (event) => console.log(event));\n*/\n","import { compose } from '../vendor/redux'\n\n/* Class to fix dynamic middlewares from conflicting with each other\nif more than one analytic instance is active */\nexport default class DynamicMiddleware {\n  before = []\n  after = []\n  addMiddleware = (middlewares, position) => {\n    this[position] = this[position].concat(middlewares)\n  }\n  removeMiddleware = (middleware, position) => {\n    const index = this[position].findIndex(d => d === middleware)\n    if (index === -1) return\n\n    this[position] = [\n      ...this[position].slice(0, index),\n      ...this[position].slice(index + 1),\n    ]\n  }\n  /* Not currently in use\n  resetMiddlewares = (position) => {\n    if (!position) {\n      this.before = []\n      this.after = []\n    } else {\n      this[position] = []\n    }\n  }\n  */\n  dynamicMiddlewares = (position) => {\n    return store => next => action => {\n      const middlewareAPI = {\n        getState: store.getState,\n        dispatch: (act) => store.dispatch(act),\n      }\n      const chain = this[position].map(middleware => middleware(middlewareAPI))\n      return compose(...chain)(next)(action)\n    }\n  }\n}\n","// Integrations Reducer. Follows ducks pattern http://bit.ly/2DnERMc\nimport EVENTS from '../events'\n\nexport default function createReducer(getPlugins) {\n  return function plugins(state = {}, action) {\n    let newState = {}\n    if (action.type === 'initialize:aborted') {\n      return state\n    }\n    if (/^registerPlugin:([^:]*)$/.test(action.type)) {\n      const name = getNameFromEventType(action.type, 'registerPlugin')\n      const plugin = getPlugins()[name]\n      if (!plugin || !name) {\n        return state\n      }\n      const isEnabled = action.enabled\n      newState[name] = {\n        enabled: isEnabled,\n        /* if no initialization method. Set initialized true */\n        initialized: (isEnabled) ? Boolean(!plugin.initialize) : false,\n        /* If plugin enabled === false, set loaded to false, else check plugin.loaded function */\n        loaded: (isEnabled) ? Boolean(plugin.loaded()) : false,\n        config: plugin.config || {}\n      }\n      return { ...state, ...newState }\n    }\n    if (/^initialize:([^:]*)$/.test(action.type)) {\n      const name = getNameFromEventType(action.type, EVENTS.initialize)\n      const plugin = getPlugins()[name]\n      if (!plugin || !name) {\n        return state\n      }\n      newState[name] = {\n        ...state[name],\n        ...{\n          initialized: true,\n          /* check plugin.loaded function */\n          loaded: Boolean(plugin.loaded())\n        }\n      }\n      return { ...state, ...newState }\n    }\n    if (/^ready:([^:]*)$/.test(action.type)) {\n      // const name = getNameFromEventType(action.type, 'ready')\n      newState[action.name] = {\n        ...state[action.name],\n        ...{ loaded: true }\n      }\n      return { ...state, ...newState }\n    }\n    switch (action.type) {\n      /* case EVENTS.pluginFailed:\n        // console.log('PLUGIN_FAILED', action.name)\n        newState[action.name] = {\n          ...state[action.name],\n          ...{ loaded: false }\n        }\n        return { ...state, ...newState }\n      */\n      /* When analytics.plugins.disable called */\n      case EVENTS.disablePlugin:\n        return { \n          ...state,\n          ...togglePluginStatus(action.plugins, false, state)\n        }\n      /* When analytics.plugins.enable called */\n      case EVENTS.enablePlugin:\n        return {\n          ...state, \n          ...togglePluginStatus(action.plugins, true, state)\n        }\n      default:\n        return state\n    }\n  }\n}\n\nfunction getNameFromEventType(type, baseName) {\n  return type.substring(baseName.length + 1, type.length)\n}\n\nfunction togglePluginStatus(plugins, status, currentState) {\n  return plugins.reduce((acc, pluginKey) => {\n    acc[pluginKey] = {\n      ...currentState[pluginKey],\n      ...{\n        enabled: status \n      }\n    }\n    return acc\n  }, currentState)\n}\n","export default function serialize(obj) {\n  try {\n   return JSON.parse(JSON.stringify(obj))\n  } catch (err) {}\n  return obj\n}","// Track Module. Follows ducks pattern http://bit.ly/2DnERMc\nimport EVENTS from '../events'\nimport serialize from '../utils/serialize'\n\n// Track State\nconst initialState = {\n  last: {},\n  history: [],\n}\n\n// track reducer\nexport default function trackReducer(state = initialState, action) {\n  const { type, event, properties, options, meta } = action\n\n  switch (type) {\n    case EVENTS.track:\n      const trackEvent = serialize({\n        event,\n        properties,\n        ...(Object.keys(options).length) && { options: options },\n        meta\n      })\n      return {\n        ...state,\n        ...{\n          last: trackEvent,\n          // Todo prevent LARGE arrays https://bit.ly/2MnBwPT\n          history: state.history.concat(trackEvent)\n        }\n      }\n    default:\n      return state\n  }\n}\n","import EVENTS from '../events'\n/*\nTODO figure out if this should live in state...\nQueue could be in mermory as well.\nBut also needs to be persisted to storage\n*/\n\nconst initialState = {\n  actions: [],\n}\n\nexport default function queueReducer(state = initialState, action) {\n  const { type, payload } = action\n\n  switch (type) {\n    case 'queue':\n      let actionChain\n      /* prioritize identify in event queue */\n      if (payload && payload.type && payload.type === EVENTS.identify) {\n        actionChain = [action].concat(state.actions)\n      } else {\n        actionChain = state.actions.concat(action)\n      }\n      return {\n        ...state,\n        actions: actionChain\n      }\n    case 'dequeue':\n      return []\n    // todo push events to history\n    default:\n      return state\n  }\n}\n\nexport const queueAction = (data, timestamp) => {\n  return {\n    type: 'queue',\n    timestamp: timestamp,\n    data: data\n  }\n}\n","// Page View Reducer. Follows ducks pattern http://bit.ly/2DnERMc\nimport { isBrowser } from '@analytics/type-utils'\nimport serialize from '../utils/serialize'\n\nimport EVENTS from '../events'\n\nconst hashRegex = /#.*$/\n\nfunction canonicalUrl() {\n  if (!isBrowser) return\n  const tags = document.getElementsByTagName('link')\n  for (var i = 0, tag; tag = tags[i]; i++) {\n    if (tag.getAttribute('rel') === 'canonical') {\n      return tag.getAttribute('href')\n    }\n  }\n}\n\nfunction urlPath(url) {\n  const regex = /(http[s]?:\\/\\/)?([^\\/\\s]+\\/)(.*)/g\n  const matches = regex.exec(url)\n  const pathMatch = (matches && matches[3]) ? matches[3].split('?')[0].replace(hashRegex, '') : ''\n  return '/' + pathMatch\n}\n\n/**\n * Return the canonical URL and rmove the hash.\n * @param  {string} search - search param\n * @return {string} return current canonical URL\n */\nfunction currentUrl(search) {\n  const canonical = canonicalUrl()\n  if (!canonical) return window.location.href.replace(hashRegex, '')\n  return canonical.match(/\\?/) ? canonical : canonical + search\n}\n\n/**\n * Page data for overides\n * @typedef {object} PageData\n * @property {string} [title] - Page title\n * @property {string} [url] - Page url\n * @property {string} [path] - Page path\n * @property {string} [search] - Page search\n * @property {string} [width] - Page width\n * @property {string} [height] - Page height\n*/\n\n/**\n * Get information about current page\n * @typedef {Function} getPageData\n * @param  {PageData} [pageData = {}] - Page data overides\n * @return {PageData} resolved page data\n */\nexport const getPageData = (pageData = {}) => {\n  if (!isBrowser) return pageData\n  const { title, referrer } = document\n  const { location, innerWidth, innerHeight } = window\n  const { hash, search } = location\n  const url = currentUrl(search)\n  const page = {\n    title: title,\n    url: url,\n    path: urlPath(url),\n    hash: hash,\n    search: search,\n    width: innerWidth,\n    height: innerHeight,\n  }\n  if (referrer && referrer !== '') {\n    page.referrer = referrer\n  }\n\n  return {\n    ...page,\n    /* .page() user overrrides */\n    ...pageData\n  }\n}\n\nconst initialState = {\n  last: {},\n  history: [],\n}\n\n// page reducer\nexport default function page(state = initialState, action) {\n  const { properties, options, meta } = action\n  switch (action.type) {\n    case EVENTS.page:\n      const viewData = serialize({\n        properties,\n        meta,\n        ...(Object.keys(options).length) && { options: options },\n      })\n      return {\n        ...state,\n        ...{\n          last: viewData,\n          // Todo prevent LARGE arrays https://bit.ly/2MnBwPT\n          history: state.history.concat(viewData)\n        }\n      }\n    default:\n      return state\n  }\n}\n","// Context Reducer.  Follows ducks pattern http://bit.ly/2DnERMc\nimport { getBrowserLocale, getTimeZone, uuid } from 'analytics-utils'\nimport { isBrowser } from '@analytics/type-utils'\nimport EVENTS from '../events'\nimport { LIB_NAME } from '../utils/internalConstants'\nimport getOSNameNode from '../utils/getOSName/node'\nimport getOSNameBrowser from '../utils/getOSName/browser'\n\nlet osName\nlet referrer\nlet locale\nlet timeZone\nif (BROWSER) {\n  osName = getOSNameBrowser()\n  referrer = (isBrowser) ? document.referrer : null\n  locale = getBrowserLocale()\n  timeZone = getTimeZone()\n} else {\n  osName = getOSNameNode()\n  referrer = {}\n}\n\nconst initialState = {\n  initialized: false,\n  sessionId: uuid(),\n  app: null,\n  version: null,\n  debug: false,\n  offline: (isBrowser) ? !navigator.onLine : false, // use node network is-online\n  os: {\n    name: osName,\n  },\n  userAgent: (isBrowser) ? navigator.userAgent : 'node', // https://github.com/bestiejs/platform.js\n  library: {\n    name: LIB_NAME,\n    // TODO fix version number. npm run publish:patch has wrong version\n    version: VERSION\n  },\n  timezone: timeZone,\n  locale: locale,\n  campaign: {},\n  referrer: referrer,\n}\n\n// context reducer\nexport default function context(state = initialState, action) {\n  const { initialized } = state\n  const { type, campaign } = action\n  switch (type) {\n    case EVENTS.campaign:\n      return {\n        ...state,\n        ...{ campaign: campaign }\n      }\n    case EVENTS.offline:\n      return {\n        ...state,\n        ...{ offline: true }\n      }\n    case EVENTS.online:\n      return {\n        ...state,\n        ...{ offline: false }\n      }\n    default:\n      if (!initialized) {\n        return {\n          ...initialState,\n          ...state,\n          ...{ initialized: true }\n        }\n      }\n      return state\n  }\n}\n\nconst excludeItems = ['plugins', 'reducers', 'storage']\n// Pull plugins and reducers off intital config\nexport function makeContext(config) {\n  return Object.keys(config).reduce((acc, current) => {\n    if (excludeItems.includes(current)) {\n      return acc\n    }\n    acc[current] = config[current]\n    return acc\n  }, {})\n}\n","import { isBrowser } from '@analytics/type-utils'\n\nexport default function getBrowserOS() {\n  if (!isBrowser) return false\n  const os = navigator.appVersion\n  // ~os bitwise operator to check if in navigator\n  if (~os.indexOf('Win')) return 'Windows'\n  if (~os.indexOf('Mac')) return 'MacOS'\n  if (~os.indexOf('X11')) return 'UNIX'\n  if (~os.indexOf('Linux')) return 'Linux'\n  // default\n  return 'Unknown OS'\n}\n","import { isBrowser } from '@analytics/type-utils'\n\nfunction listen(events, func, toAdd) {\n  if (!isBrowser) return\n  const fn = window[(toAdd ? 'add' : 'remove') + 'EventListener']\n  events.split(' ').forEach(ev => {\n    fn(ev, func)\n  })\n}\n\nexport function check() {\n  return Promise.resolve(!navigator.onLine)\n}\n\nexport function watch(cb) {\n  const fn = _ => check().then(cb)\n  const listener = listen.bind(null, 'online offline', fn)\n  listener(true)\n  // return unsubscribe function\n  return _ => listener(false)\n}\n","import { set, globalContext, KEY } from '@analytics/global-storage-utils'\nimport { compose } from '../vendor/redux'\nimport { LIB_NAME } from './internalConstants'\n\nexport function Debug() {\n  // Global key is window.__global__.analytics\n  set(LIB_NAME, [])\n  // Return debugger\n  return (createStore) => {\n    return (reducer, preloadedState, enhancer) => {\n      const store = createStore(reducer, preloadedState, enhancer)\n      const origDispatch = store.dispatch\n      const dispatch = (action) => {\n        const a = action.action || action\n        globalContext[KEY][LIB_NAME].push(a)\n        return origDispatch(action)\n      }\n      return Object.assign(store, { dispatch: dispatch })\n    }\n  }\n}\n\nexport function composeWithDebug(config) {\n  return function () {\n    return compose(compose.apply(null, arguments), Debug(config))\n  }\n}\n","import { isArray } from '@analytics/type-utils'\n\nexport default function ensureArray(singleOrArray) {\n  if (!singleOrArray) return []\n  if (isArray(singleOrArray)) return singleOrArray\n  return [singleOrArray] \n}","import getCallback from './getCallback'\nimport { stack } from './callback-stack'\nimport timestamp from './timestamp'\nimport { uuid } from 'analytics-utils'\n\n// Async promise resolver\nfunction deferredPromiseResolver(resolver, callback) {\n  return (data) => {\n    if (callback) callback(data)\n    resolver(data)\n  }\n}\n\nexport default function generateMeta(meta = {}, resolve, possibleCallbacks) {\n    const rid = uuid()\n    if (resolve) {\n      // stack[`${rid}-info`] = meta\n      stack[rid] = deferredPromiseResolver(resolve, getCallback(possibleCallbacks))\n    }\n    return {\n      ...meta,\n      rid: rid,\n      ts: timestamp(),\n      ...(!resolve) ? {} : { hasCallback: true },\n    }\n  }","import { isFunction } from '@analytics/type-utils'\n\n/**\n * Grab first function found from arguments\n * @param {array} [argArray] - arguments array to find first function\n * @returns {Function|undefined}\n */\nexport default function getCallbackFromArgs(argArray) {\n  const args = argArray || Array.prototype.slice.call(arguments)\n  let cb\n  for (let i = 0; i < args.length; i++) {\n    if (isFunction(args[i])) {\n      cb = args[i]; break;\n    }\n  }\n  return cb\n}","\nexport default function timeStamp() {\n  return new Date().getTime()\n}\n","import { uuid, paramsParse, dotProp } from 'analytics-utils'\nimport { get, set, remove } from '@analytics/global-storage-utils'\nimport { isBrowser, isFunction, isObject, isString } from '@analytics/type-utils'\nimport { createStore, combineReducers, applyMiddleware, compose } from './vendor/redux'\nimport * as CONSTANTS from './constants'\nimport { ID, ANONID, ERROR_URL } from './utils/internalConstants'\nimport EVENTS, { coreEvents, nonEvents, isReservedAction } from './events'\n// Middleware\nimport * as middleware from './middleware'\nimport DynamicMiddleware from './middleware/dynamic'\n// Modules\nimport pluginsMiddleware from './modules/plugins'\nimport track from './modules/track'\nimport queue from './modules/queue'\nimport page, { getPageData } from './modules/page'\nimport context, { makeContext } from './modules/context'\nimport user, { getUserPropFunc, tempKey, getPersistedUserData } from './modules/user'\n/* Utils */\nimport { watch } from './utils/handleNetworkEvents'\nimport { Debug, composeWithDebug } from './utils/debug'\nimport heartBeat from './utils/heartbeat'\nimport ensureArray from './utils/ensureArray'\nimport enrichMeta from './utils/enrichMeta'\nimport './pluginTypeDef'\n\n/**\n * Analytics library configuration\n *\n * After the library is initialized with config, the core API is exposed & ready for use in the application.\n *\n * @param {object} config - analytics core config\n * @param {string} [config.app] - Name of site / app\n * @param {string} [config.version] - Version of your app\n * @param {boolean} [config.debug] - Should analytics run in debug mode\n * @param {Array.<AnalyticsPlugin>}  [config.plugins] - Array of analytics plugins\n * @return {AnalyticsInstance} Analytics Instance\n * @example\n *\n * import Analytics from 'analytics'\n * import pluginABC from 'analytics-plugin-abc'\n * import pluginXYZ from 'analytics-plugin-xyz'\n *\n * // initialize analytics\n * const analytics = Analytics({\n *   app: 'my-awesome-app',\n *   plugins: [\n *     pluginABC,\n *     pluginXYZ\n *   ]\n * })\n *\n */\nfunction analytics(config = {}) {\n  const customReducers = config.reducers || {}\n  const initialUser = config.initialUser || {}\n  // @TODO add custom value reolvers for userId and anonId\n  // const resolvers = config.resolvers || {}\n  // if (BROWSER) {\n  //   console.log('INIT browser')\n  // }\n\n  // if (SERVER) {\n  //   console.log('INIT SERVER')\n  // }\n  \n  /* Parse plugins array */\n  const parsedOptions = (config.plugins || []).reduce((acc, plugin) => {\n    if (isFunction(plugin)) {\n      /* Custom redux middleware */\n      acc.middlewares = acc.middlewares.concat(plugin)\n      return acc\n    }\n    // Legacy plugin with name\n    if (plugin.NAMESPACE) plugin.name = plugin.NAMESPACE\n    if (!plugin.name) {\n      /* Plugins must supply a \"name\" property. See error url for more details */\n      throw new Error(ERROR_URL + '1')\n    }\n    // if plugin exposes EVENTS capture available events\n    const definedEvents = (plugin.EVENTS) ? Object.keys(plugin.EVENTS).map((k) => {\n      return plugin.EVENTS[k]\n    }) : []\n\n    const enabledFromMerge = !(plugin.enabled === false)\n    const enabledFromPluginConfig = !(plugin.config && plugin.config.enabled === false)\n    // top level { enabled: false } takes presidence over { config: enabled: false }\n    acc.pluginEnabled[plugin.name] = enabledFromMerge && enabledFromPluginConfig\n    delete plugin.enabled\n\n    if (plugin.methods) {\n      acc.methods[plugin.name] = Object.keys(plugin.methods).reduce((a, c) => {\n        // enrich methods with analytics instance\n        a[c] = appendArguments(plugin.methods[c])\n        return a\n      }, {})\n      // Remove additional methods from plugins\n      delete plugin.methods\n    }\n    // Convert available methods into events\n    const methodsToEvents = Object.keys(plugin)\n    // Combine events\n    const allEvents = methodsToEvents.concat(definedEvents)\n    // Dedupe events list\n    const allEventsUnique = new Set(acc.events.concat(allEvents))\n    acc.events = Array.from(allEventsUnique)\n\n    acc.pluginsArray = acc.pluginsArray.concat(plugin)\n\n    if (acc.plugins[plugin.name]) {\n      throw new Error(plugin.name + 'AlreadyLoaded')\n    }\n    acc.plugins[plugin.name] = plugin\n    if (!acc.plugins[plugin.name].loaded) {\n      // set default loaded func\n      acc.plugins[plugin.name].loaded = () => true\n    }\n    return acc\n  }, {\n    plugins: {},\n    pluginEnabled: {},\n    methods: {},\n    pluginsArray: [],\n    middlewares: [],\n    events: []\n  })\n  \n  /* Storage by default is set to global & is not persisted */\n  const storage = (config.storage) ? config.storage : {\n    getItem: get,\n    setItem: set,\n    removeItem: remove\n  }\n\n  const getUserProp = getUserPropFunc(storage)\n\n  // mutable intregrations object for dynamic loading\n  let customPlugins = parsedOptions.plugins\n\n  /* Grab all registered events from plugins loaded */\n  const allPluginEvents = parsedOptions.events.filter((name) => {\n    return !nonEvents.includes(name)\n  }).sort()\n  const uniqueEvents = new Set(allPluginEvents.concat(coreEvents).filter((name) => {\n    return !nonEvents.includes(name)\n  }))\n  const allSystemEvents = Array.from(uniqueEvents).sort()\n\n  /* plugin methods(functions) must be kept out of state. thus they live here */\n  const getPlugins = () => customPlugins\n\n  const {\n    addMiddleware,\n    removeMiddleware,\n    dynamicMiddlewares\n  } = new DynamicMiddleware()\n\n  const nonAbortable = () => {\n    // throw new Error(`${ERROR_URL}3`)\n    throw new Error('Abort disabled inListener')\n  }\n\n  // Parse URL parameters\n  const params = paramsParse()\n  // Initialize visitor information\n  const persistedUser = getPersistedUserData(storage)\n  const visitorInfo = {\n    ...persistedUser,\n    ...initialUser,\n    ...(!params.an_uid) ? {} : { userId: params.an_uid },\n    ...(!params.an_aid) ? {} : { anonymousId: params.an_aid },\n  }\n  // If no anon id set, create one\n  if (!visitorInfo.anonymousId) {\n    visitorInfo.anonymousId = uuid()\n  }\n\n  /**\n   * Async Management methods for plugins. \n   * \n   * This is also where [custom methods](https://bit.ly/329vFXy) are loaded into the instance.\n   * @typedef {Object} Plugins\n   * @property {EnablePlugin} enable - Set storage value\n   * @property {DisablePlugin} disable - Remove storage value\n   * @example\n   *\n   * // Enable a plugin by namespace\n   * analytics.plugins.enable('keenio')\n   *\n   * // Disable a plugin by namespace\n   * analytics.plugins.disable('google-analytics')\n   */\n  const plugins = {\n    /**\n     * Enable analytics plugin\n     * @typedef {Function} EnablePlugin\n     * @param  {string|string[]} plugins - name of plugins(s) to disable\n     * @param  {Function} [callback] - callback after enable runs\n     * @returns {Promise}\n     * @example\n     *\n     * analytics.plugins.enable('google-analytics').then(() => {\n     *   console.log('do stuff')\n     * })\n     *\n     * // Enable multiple plugins at once\n     * analytics.plugins.enable(['google-analytics', 'segment']).then(() => {\n     *   console.log('do stuff')\n     * })\n     */\n    enable: (plugins, callback) => {\n      return new Promise((resolve) => {\n        store.dispatch({\n          type: EVENTS.enablePlugin,\n          plugins: ensureArray(plugins),\n          _: { originalAction: EVENTS.enablePlugin },\n        }, resolve, [ callback ])\n      })\n    },\n    /**\n     * Disable analytics plugin\n     * @typedef {Function} DisablePlugin\n     * @param  {string|string[]} plugins - name of integration(s) to disable\n     * @param  {Function} callback - callback after disable runs\n     * @returns {Promise}\n     * @example\n     *\n     * analytics.plugins.disable('google').then(() => {\n     *   console.log('do stuff')\n     * })\n     *\n     * analytics.plugins.disable(['google', 'segment']).then(() => {\n     *   console.log('do stuff')\n     * })\n     */\n    disable: (plugins, callback) => {\n      return new Promise((resolve) => {\n        store.dispatch({\n          type: EVENTS.disablePlugin,\n          plugins: ensureArray(plugins),\n          _: { originalAction: EVENTS.disablePlugin },\n        }, resolve, [callback])\n      })\n    },\n    /*\n     * Load registered analytic providers.\n     * @param  {String} plugins - integration namespace\n     *\n     * @example\n     * analytics.plugins.load('segment')\n     @TODO implement\n    load: (plugins) => {\n      store.dispatch({\n        type: EVENTS.loadPlugin,\n        // Todo handle multiple plugins via array\n        plugins: (plugins) ? [plugins] : Object.keys(getPlugins()),\n      })\n    },\n    */\n    /* @TODO if it stays, state loaded needs to be set. Re PLUGIN_INIT above\n    add: (newPlugin) => {\n      if (typeof newPlugin !== 'object') return false\n      // Set on global integration object\n      customPlugins = Object.assign({}, customPlugins, {\n        [`${newPlugin.name}`]: newPlugin\n      })\n      // then add it, and init state key\n      store.dispatch({\n        type: EVENTS.pluginRegister,\n        name: newPlugin.name,\n        plugin: newPlugin\n      })\n    }, */\n    // Merge in custom plugin methods\n    ...parsedOptions.methods\n  }\n  \n  /**\n   * Analytic instance returned from initialization\n   * @typedef {Object} AnalyticsInstance\n   * @property {Identify} identify - Identify a user\n   * @property {Track} track - Track an analytics event\n   * @property {Page} page - Trigger page view\n   * @property {User} user - Get user data\n   * @property {Reset} reset - Clear information about user & reset analytics\n   * @property {Ready} ready - Fire callback on analytics ready event\n   * @property {On} on - Fire callback on analytics lifecycle events.\n   * @property {Once} once - Fire callback on analytics lifecycle events once.\n   * @property {GetState} getState - Get data about user, activity, or context.\n   * @property {Storage} storage - storage methods\n   * @property {Plugins} plugins - plugin methods\n   */\n  const instance = {\n    /**\n    * Identify a user. This will trigger `identify` calls in any installed plugins and will set user data in localStorage\n    * @typedef {Function} Identify\n    * @param  {String}   userId  - Unique ID of user\n    * @param  {Object}   [traits]  - Object of user traits\n    * @param  {Object}   [options] - Options to pass to identify call\n    * @param  {Function} [callback] - Callback function after identify completes\n    * @returns {Promise}\n    * @api public\n    *\n    * @example\n    *\n    * // Basic user id identify\n    * analytics.identify('xyz-123')\n    *\n    * // Identify with additional traits\n    * analytics.identify('xyz-123', {\n    *   name: 'steve',\n    *   company: 'hello-clicky'\n    * })\n    *\n    * // Fire callback with 2nd or 3rd argument\n    * analytics.identify('xyz-123', () => {\n    *   console.log('do this after identify')\n    * })\n    *\n    * // Disable sending user data to specific analytic tools\n    * analytics.identify('xyz-123', {}, {\n    *   plugins: {\n    *     // disable sending this identify call to segment\n    *     segment: false\n    *   }\n    * })\n    *\n    * // Send user data to only to specific analytic tools\n    * analytics.identify('xyz-123', {}, {\n    *   plugins: {\n    *     // disable this specific identify in all plugins except customerio\n    *     all: false,\n    *     customerio: true\n    *   }\n    * })\n    */\n    identify: async (userId, traits, options, callback) => {\n      const id = isString(userId) ? userId : null\n      const data = isObject(userId) ? userId : traits\n      const opts = options || {}\n      const user = instance.user()\n\n      /* sets temporary in memory id. Not to be relied on */\n      set(tempKey(ID), id)\n\n      const resolvedId = id || data.userId || getUserProp(ID, instance, data)\n\n      return new Promise((resolve) => {\n        store.dispatch({\n          type: EVENTS.identifyStart,\n          userId: resolvedId,\n          traits: data || {},\n          options: opts,\n          anonymousId: user.anonymousId,\n          // Add previousId if exists\n          ...(user.id && (user.id !== id) && { previousId: user.id }),\n        }, resolve, [traits, options, callback])\n      })\n    },\n    /**\n     * Track an analytics event. This will trigger `track` calls in any installed plugins\n     * @typedef {Function} Track\n     * @param  {String}   eventName - Event name\n     * @param  {Object}   [payload]   - Event payload\n     * @param  {Object}   [options]   - Event options\n     * @param  {Function} [callback]  - Callback to fire after tracking completes\n     * @returns {Promise}\n     * @api public\n     *\n     * @example\n     *\n     * // Basic event tracking\n     * analytics.track('buttonClicked')\n     *\n     * // Event tracking with payload\n     * analytics.track('itemPurchased', {\n     *   price: 11,\n     *   sku: '1234'\n     * })\n     *\n     * // Fire callback with 2nd or 3rd argument\n     * analytics.track('newsletterSubscribed', () => {\n     *   console.log('do this after track')\n     * })\n     *\n     * // Disable sending this event to specific analytic tools\n     * analytics.track('cartAbandoned', {\n     *   items: ['xyz', 'abc']\n     * }, {\n     *   plugins: {\n     *     // disable track event for segment\n     *     segment: false\n     *   }\n     * })\n     *\n     * // Send event to only to specific analytic tools\n     * analytics.track('customerIoOnlyEventExample', {\n     *   price: 11,\n     *   sku: '1234'\n     * }, {\n     *   plugins: {\n     *     // disable this specific track call all plugins except customerio\n     *     all: false,\n     *     customerio: true\n     *   }\n     * })\n     */\n    track: async (eventName, payload, options, callback) => {\n      const name = isObject(eventName) ? eventName.event : eventName\n      if (!name || !isString(name)) {\n        throw new Error('EventMissing')\n      }\n      const data = isObject(eventName) ? eventName : (payload || {})\n      const opts = isObject(options) ? options : {}\n\n      return new Promise((resolve) => {\n        store.dispatch({\n          type: EVENTS.trackStart,\n          event: name,\n          properties: data,\n          options: opts,\n          userId: getUserProp(ID, instance, payload),\n          anonymousId: getUserProp(ANONID, instance, payload),\n        }, resolve, [payload, options, callback])\n      })\n    },\n    /**\n     * Trigger page view. This will trigger `page` calls in any installed plugins\n     * @typedef {Function} Page\n     * @param  {PageData} [data] - Page data overrides.\n     * @param  {Object}   [options] - Page tracking options\n     * @param  {Function} [callback] - Callback to fire after page view call completes\n     * @returns {Promise}\n     * @api public\n     *\n     * @example\n     *\n     * // Basic page tracking\n     * analytics.page()\n     *\n     * // Page tracking with page data overrides\n     * analytics.page({\n     *   url: 'https://google.com'\n     * })\n     *\n     * // Fire callback with 1st, 2nd or 3rd argument\n     * analytics.page(() => {\n     *   console.log('do this after page')\n     * })\n     *\n     * // Disable sending this pageview to specific analytic tools\n     * analytics.page({}, {\n     *   plugins: {\n     *     // disable page tracking event for segment\n     *     segment: false\n     *   }\n     * })\n     *\n     * // Send pageview to only to specific analytic tools\n     * analytics.page({}, {\n     *   plugins: {\n     *     // disable this specific page in all plugins except customerio\n     *     all: false,\n     *     customerio: true\n     *   }\n     * })\n     */\n    page: async (data, options, callback) => {\n      const d = isObject(data) ? data : {}\n      const opts = isObject(options) ? options : {}\n\n      /*\n      // @TODO add custom value reolvers for userId and anonId\n      if (resolvers.getUserId) {\n        const asyncUserId = await resolvers.getUserId()\n        console.log('x', x)\n      }\n      */\n\n      return new Promise((resolve) => {\n        store.dispatch({\n          type: EVENTS.pageStart,\n          properties: getPageData(d),\n          options: opts,\n          userId: getUserProp(ID, instance, d),\n          anonymousId: getUserProp(ANONID, instance, d),\n        }, resolve, [data, options, callback])\n      })\n    },\n    /**\n     * Get user data\n     * @typedef {Function} User\n     * @param {string} [key] - dot.prop.path of user data. Example: 'traits.company.name'\n     * @returns {string|object} value of user data or null\n     *\n     * @example\n     *\n     * // Get all user data\n     * const userData = analytics.user()\n     *\n     * // Get user id\n     * const userId = analytics.user('userId')\n     *\n     * // Get user company name\n     * const companyName = analytics.user('traits.company.name')\n     */\n    user: (key) => {\n      if (key === ID || key === 'id') {\n        return getUserProp(ID, instance)\n      }\n      if (key === ANONID || key === 'anonId') {\n        return getUserProp(ANONID, instance)\n      }\n      const user = instance.getState('user')\n      if (!key) return user\n      return dotProp(user, key)\n    },\n    /**\n     * Clear all information about the visitor & reset analytic state.\n     * @typedef {Function} Reset\n     * @param {Function} [callback] - Handler to run after reset\n     * @returns {Promise}\n     * @example\n     *\n     * // Reset current visitor\n     * analytics.reset()\n     */\n    reset: (callback) => {\n      return new Promise((resolve) => {\n        store.dispatch({\n          type: EVENTS.resetStart\n        }, resolve, callback)\n      })\n    },\n    /**\n     * Fire callback on analytics ready event\n     * @typedef {Function} Ready\n     * @param  {Function} callback - function to trigger when all providers have loaded\n     * @returns {DetachListeners} - Function to detach listener\n     *\n     * @example\n     *\n     * analytics.ready((payload) => {\n     *   console.log('all plugins have loaded or were skipped', payload);\n     * })\n     */\n    ready: (callback) => {\n      return instance.on(EVENTS.ready, callback)\n    },\n    /**\n     * Attach an event handler function for analytics lifecycle events.\n     * @typedef {Function} On\n     * @param  {String}   name - Name of event to listen to\n     * @param  {Function} callback - function to fire on event\n     * @return {DetachListeners} - Function to detach listener\n     *\n     * @example\n     *\n     * // Fire function when 'track' calls happen\n     * analytics.on('track', ({ payload }) => {\n     *   console.log('track call just happened. Do stuff')\n     * })\n     *\n     * // Remove listener before it is called\n     * const removeListener = analytics.on('track', ({ payload }) => {\n     *   console.log('This will never get called')\n     * })\n     *\n     * // cleanup .on listener\n     * removeListener()\n     */\n    on: (name, callback) => {\n      if (!name || !isFunction(callback)) {\n        return false\n      }\n      if (name === EVENTS.bootstrap) {\n        throw new Error('.on disabled for ' + name)\n      }\n      const startRegex = /Start$|Start:/\n      if (name === '*') {\n        const beforeHandler = store => next => action => {\n          if (action.type.match(startRegex)) {\n            callback({ // eslint-disable-line\n              payload: action,\n              instance,\n              plugins: customPlugins\n            })\n          }\n          return next(action)\n        }\n        const afterHandler = store => next => action => {\n          if (!action.type.match(startRegex)) {\n            callback({ // eslint-disable-line\n              payload: action,\n              instance,\n              plugins: customPlugins\n            })\n          }\n          return next(action)\n        }\n        addMiddleware(beforeHandler, before)\n        addMiddleware(afterHandler, after)\n        /**\n         * Detach listeners\n         * @typedef {Function} DetachListeners\n         */\n        return () => {\n          removeMiddleware(beforeHandler, before)\n          removeMiddleware(afterHandler, after)\n        }\n      }\n\n      const position = (name.match(startRegex)) ? before : after // eslint-disable-line\n      const handler = store => next => action => {\n        // Subscribe to EVERYTHING\n        if (action.type === name) {\n          callback({ // eslint-disable-line\n            payload: action,\n            instance: instance,\n            plugins: customPlugins,\n            abort: nonAbortable\n          })\n        }\n        /* For future matching of event subpaths `track:*` etc\n        } else if (name.match(/\\*$/)) {\n          const match = (name === '*') ? '.' : name\n          const regex = new RegExp(`${match}`, 'g')\n        } */\n        return next(action)\n      }\n      addMiddleware(handler, position)\n      return () => removeMiddleware(handler, position)\n    },\n    /**\n     * Attach a handler function to an event and only trigger it only once.\n     * @typedef {Function} Once\n     * @param  {String} name - Name of event to listen to\n     * @param  {Function} callback - function to fire on event\n     * @return {DetachListeners} - Function to detach listener\n     *\n     * @example\n     *\n     * // Fire function only once 'track'\n     * analytics.once('track', ({ payload }) => {\n     *   console.log('This will only triggered once when analytics.track() fires')\n     * })\n     *\n     * // Remove listener before it is called\n     * const listener = analytics.once('track', ({ payload }) => {\n     *   console.log('This will never get called b/c listener() is called')\n     * })\n     *\n     * // cleanup .once listener before it fires\n     * listener()\n     */\n    once: (name, callback) => {\n      if (!name || !isFunction(callback)) {\n        return false\n      }\n      if (name === EVENTS.bootstrap) {\n        throw new Error('.once disabled for ' + name)\n      }\n      const detachListener = instance.on(name, ({ payload }) => {\n        callback({ // eslint-disable-line\n          payload: payload,\n          instance: instance,\n          plugins: customPlugins,\n          abort: nonAbortable\n        })\n        // detach listener after its called once\n        detachListener()\n      })\n      return detachListener\n    },\n    /**\n     * Get data about user, activity, or context. Access sub-keys of state with `dot.prop` syntax.\n     * @typedef {Function} GetState\n     * @param  {string} [key] - dot.prop.path value of state\n     * @return {any}\n     *\n     * @example\n     *\n     * // Get the current state of analytics\n     * analytics.getState()\n     *\n     * // Get a subpath of state\n     * analytics.getState('context.offline')\n     */\n    getState: (key) => {\n      const state = store.getState()\n      if (key) return dotProp(state, key)\n      return Object.assign({}, state)\n    },\n    /*\n     * Emit events for other plugins or middleware to react to.\n     * @param  {Object} action - event to dispatch\n     */\n    dispatch: (action) => {\n      const actionData = isString(action) ? { type: action } : action\n      if (isReservedAction(actionData.type)) {\n        throw new Error('reserved action ' + actionData.type)\n      }\n      const _private = action._ || {}\n      // Dispatch actionStart\n      // const autoPrefixType = `${actionData.type.replace(/Start$/, '')}Start`\n\n      const dispatchData = {\n        ...actionData,\n        _: {\n          originalAction: actionData.type,\n          ..._private\n        }\n        // type: `${autoPrefixType}`\n      }\n      store.dispatch(dispatchData)\n    },\n    // Do not use. Will be removed. Here for Backwards compatiblity.\n    // Moved to analytics.plugins.enable\n    enablePlugin: plugins.enable,\n    /// Do not use. Will be removed. Here for Backwards compatiblity.\n    /// Moved to analytics.plugins.disable\n    disablePlugin: plugins.disable,\n    // Do not use. Will be removed. Here for Backwards compatiblity.\n    // New plugins api\n    plugins: plugins,\n    /**\n     * Storage utilities for persisting data.\n     * These methods will allow you to save data in localStorage, cookies, or to the window.\n     * @typedef {Object} Storage\n     * @property {GetItem} getItem - Get value from storage\n     * @property {SetItem} setItem - Set storage value\n     * @property {RemoveItem} removeItem - Remove storage value\n     *\n     * @example\n     *\n     * // Pull storage off analytics instance\n     * const { storage } = analytics\n     *\n     * // Get value\n     * storage.getItem('storage_key')\n     *\n     * // Set value\n     * storage.setItem('storage_key', 'value')\n     *\n     * // Remove value\n     * storage.removeItem('storage_key')\n     */\n    storage: {\n      /**\n       * Get value from storage\n       * @typedef {Function} GetItem\n       * @param {String} key - storage key\n       * @param {Object} [options] - storage options\n       * @return {Any}\n       *\n       * @example\n       *\n       * analytics.storage.getItem('storage_key')\n       */\n      getItem: storage.getItem,\n      /**\n       * Set storage value\n       * @typedef {Function} SetItem\n       * @param {String} key - storage key\n       * @param {any} value - storage value\n       * @param {Object} [options] - storage options\n       *\n       * @example\n       *\n       * analytics.storage.setItem('storage_key', 'value')\n       */\n      setItem: (key, value, options) => {\n        store.dispatch({\n          type: EVENTS.setItemStart,\n          key: key,\n          value: value,\n          options: options\n        })\n      },\n      /**\n       * Remove storage value\n       * @typedef {Function} RemoveItem\n       * @param {String} key - storage key\n       * @param {Object} [options] - storage options\n       *\n       * @example\n       *\n       * analytics.storage.removeItem('storage_key')\n       */\n      removeItem: (key, options) => {\n        store.dispatch({\n          type: EVENTS.removeItemStart,\n          key: key,\n          options: options\n        })\n      },\n    },\n    /*\n     * Set the anonymous ID of the visitor\n     * @param {String} anonymousId - anonymous Id to set\n     * @param {Object} [options] - storage options\n     *\n     * @example\n     *\n     * // Set anonymous ID\n     * analytics.setAnonymousId('1234567')\n     */\n    setAnonymousId: (anonymousId, options) => {\n      /* sets temporary in memory id. Not to be relied on */\n      // set(tempKey(ANONID), anonymousId)\n      instance.storage.setItem(CONSTANTS.ANON_ID, anonymousId, options)\n    },\n    /*\n     * Events exposed by core analytics library and all loaded plugins\n     * @type {Array}\n     */\n    events: {\n      core: coreEvents,\n      plugins: allPluginEvents,\n      // byType: (type) => {} @Todo grab logic from engine and give inspectable events\n    }\n  }\n  const enrichMiddleware = storeAPI => next => action => {\n    if (!action.meta) {\n      action.meta = enrichMeta()\n    }\n    return next(action)\n  }\n  const middlewares = parsedOptions.middlewares.concat([\n    enrichMiddleware,\n    /* Core analytics middleware */\n    dynamicMiddlewares(before), // Before dynamic middleware <-- fixed pageStart .on listener\n    /* Plugin engine */\n    middleware.plugins(instance, getPlugins, {\n      all: allSystemEvents,\n      plugins: allPluginEvents\n    }),\n    middleware.storage(storage),\n    middleware.initialize(instance),\n    middleware.identify(instance, storage),\n    /* after dynamic middleware */\n    dynamicMiddlewares(after)\n  ])\n\n  /* Initial analytics state keys */\n  const coreReducers = {\n    context: context,\n    user: user(storage),\n    page: page,\n    track: track,\n    plugins: pluginsMiddleware(getPlugins),\n    queue: queue\n  }\n\n  let composeEnhancers = compose\n  let composeWithGlobalDebug = compose\n  if (isBrowser && config.debug) {\n    const devTools = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    if (devTools) {\n      composeEnhancers = devTools({ trace: true, traceLimit: 25 })\n    }\n    composeWithGlobalDebug = function() {\n      if (arguments.length === 0) return Debug()\n      if (isObject(typeof arguments[0])) return composeWithDebug(arguments[0])\n      return composeWithDebug().apply(null, arguments)\n    }\n  }\n\n  const initialConfig = makeContext(config)\n\n  const intialPluginState = parsedOptions.pluginsArray.reduce((acc, plugin) => {\n    const { name, config, loaded } = plugin\n    const isEnabled = parsedOptions.pluginEnabled[name]\n    acc[name] = {\n      enabled: isEnabled,\n      // If plugin enabled & has no initialize method, set initialized to true, else false\n      initialized: (isEnabled) ? Boolean(!plugin.initialize) : false,\n      loaded: Boolean(loaded()),\n      config: config || {}\n    }\n    return acc\n  }, {})\n  \n  const initialState = {\n    context: initialConfig,\n    user: visitorInfo,\n    plugins: intialPluginState,\n    // Todo allow for more userland defined initial state?\n  }\n\n  /* Create analytics store! */\n  const store = createStore(\n    // register reducers\n    combineReducers({ ...coreReducers, ...customReducers }),\n    // set user defined initial state\n    initialState,\n    // register middleware & plugins used\n    composeWithGlobalDebug(\n      composeEnhancers(\n        applyMiddleware(...middlewares),\n      )\n    )\n  )\n\n  /* Supe up dispatch with callback promise resolver. Happens in enrichMeta */\n  function enhanceDispatch(fn) {\n    return function (event, resolver, callbacks) {\n      // console.log('original event', event)\n      const meta = enrichMeta(event.meta, resolver, ensureArray(callbacks))\n      // if (resolver) console.log('dispatch resolver', resolver)\n      // if (callbacks) console.log('dispatch callbacks', callbacks)\n      const newEvent = { ...event, ...{ meta: meta } }\n      // console.log('newEvent', newEvent)\n      return fn.apply(null, [ newEvent ])\n    }\n  }\n\n  // Automatically apply meta to dispatch calls\n  store.dispatch = enhanceDispatch(store.dispatch)\n\n  /* Synchronously call bootstrap & register Plugin methods */\n  const pluginKeys = Object.keys(customPlugins)\n\n  /* Bootstrap analytic plugins */\n  store.dispatch({\n    type: EVENTS.bootstrap,\n    plugins: pluginKeys,\n    config: initialConfig,\n    params: params,\n    user: visitorInfo,\n    initialUser,\n    persistedUser\n  })\n\n  const enabledPlugins = pluginKeys.filter((name) => parsedOptions.pluginEnabled[name])\n  const disabledPlugins = pluginKeys.filter((name) => !parsedOptions.pluginEnabled[name])\n \n  /* Register analytic plugins */\n  store.dispatch({\n    type: EVENTS.registerPlugins,\n    plugins: pluginKeys,\n    enabled: parsedOptions.pluginEnabled,\n  })\n\n  /* dispatch register for individual plugins */\n  parsedOptions.pluginsArray.map((plugin, i) => {\n    const { bootstrap, config, name } = plugin\n    if (bootstrap && isFunction(bootstrap)) {\n      bootstrap({ instance, config, payload: plugin })\n    }\n    /* Register plugins */\n    store.dispatch({\n      type: EVENTS.registerPluginType(name),\n      name: name,\n      enabled: parsedOptions.pluginEnabled[name],\n      plugin: plugin\n    })\n\n    /* All plugins registered initialize, is last loop */\n    if (parsedOptions.pluginsArray.length === (i + 1)) {\n      store.dispatch({\n        type: EVENTS.initializeStart,\n        plugins: enabledPlugins,\n        disabled: disabledPlugins\n      })\n    }\n  })\n\n  if (BROWSER) {\n    /* Watch for network events */\n    watch((offline) => {\n      store.dispatch({\n        type: (offline) ? EVENTS.offline : EVENTS.online,\n      })\n    })\n    /* Tick heartbeat for queued events */\n    heartBeat(store, getPlugins, instance)\n  }\n\n  function appendArguments(fn) {\n    return function () {\n      /* Get original args */\n      const args = Array.prototype.slice.call(arguments)\n      /* Create clone of args */\n      let newArgs = new Array(fn.length)\n      for (let i = 0; i < args.length; i++) {\n        newArgs[i] = args[i]\n      }\n      /* Append new arg to end */\n      newArgs[newArgs.length] = instance\n      // Set instance on extended methods\n      return fn.apply({ instance }, newArgs)\n    }\n  }\n\n  /* Return analytics instance */\n  return instance\n}\n\n// Duplicated strings\nconst before = 'before'\nconst after = 'after'\n\nexport default analytics\n\n/*\n * analytics.init exported for standalone browser build\n * CDN build exposes global _analytics variable\n *\n * Initialize instance with _analytics.init() or _analytics['default']()\n */\nexport { analytics as init }\n\n/*\n * analytics.Analytics exported for node usage\n *\n * Initialize instance with _analytics.init() or _analytics['default']()\n */\nexport { analytics as Analytics }\n/*\n * Core Analytic events. These are exposed for third party plugins & listeners\n * Use these magic strings to attach functions to event names.\n * @type {Object}\n */\nexport { EVENTS }\n\nexport { CONSTANTS }\n",null,"/**\n * Decode URI string\n *\n * @param {String} s string to decode\n * @returns {String} decoded string\n * @example\n * decode(\"Bought%20keyword)\n * => \"Bought keyword\"\n */\nexport function decodeUri(s) {\n  try {\n    return decodeURIComponent(s.replace(/\\+/g, ' '))\n  } catch (e) {\n    return null\n  }\n}\n","import { isBrowser } from '@analytics/type-utils'\n\n/**\n * @returns {string | undefined}\n */\nexport function getBrowserLocale() {\n  if (!isBrowser) return\n  const { language, languages, userLanguage } = navigator\n  if (userLanguage) return userLanguage // IE only\n  return (languages && languages.length) ? languages[0] : language\n}\n","\n/**\n * @returns {string | undefined}\n */\nexport function getTimeZone() {\n  try {\n    return Intl.DateTimeFormat().resolvedOptions().timeZone\n  } catch (error) {}\n}\n","import { isBrowser } from '@analytics/type-utils'\n\n/**\n * @param {string | null | undefined} ref\n * @returns {boolean | undefined}\n */\nexport function isExternalReferrer(ref) {\n  if (!isBrowser) return false\n  const referrer = ref || document.referrer\n  if (referrer) {\n    const port = window.document.location.port\n    let ref = referrer.split('/')[2]\n    if (port) {\n      ref = ref.replace(`:${port}`, '')\n    }\n    return ref !== window.location.hostname\n  }\n  return false\n}\n","import { isBrowser, isString, isRegex } from '@analytics/type-utils'\n\n/**\n * Check if a script is loaded\n * @param  {String|RegExp} script - Script src as string or regex\n * @return {Boolean} is script loaded\n */\nexport function isScriptLoaded(script) {\n  if (!isBrowser) return true\n  const scripts = document.getElementsByTagName('script')\n  return !!Object.keys(scripts).filter((key) => {\n    const { src } = scripts[key]\n    if (isString(script)) {\n      return src.indexOf(script) !== -1\n    } else if (isRegex(script)) {\n      return src.match(script)\n    }\n    return false\n  }).length\n}\n","\n/**\n * Strip a query parameter from a url string\n * @param  {string} url   - url with query parameters\n * @param  {string} param - parameter to strip\n * @return {string} cleaned url\n */\nexport function paramsClean(url, param) {\n  const search = (url.split('?') || [ , ])[1] // eslint-disable-line\n  if (!search || search.indexOf(param) === -1) {\n    return url\n  }\n  // remove all utm params from URL search\n  const regex = new RegExp(`(\\\\&|\\\\?)${param}([_A-Za-z0-9\"+=.\\\\/\\\\-@%]+)`, 'g')\n  const cleanSearch = `?${search}`.replace(regex, '').replace(/^&/, '?')\n  // replace search params with clean params\n  const cleanURL = url.replace(`?${search}`, cleanSearch)\n  // use browser history API to clean the params\n  return cleanURL\n}\n","import {decodeUri} from './decodeUri'\n\n/**\n * Get a given query parameter value\n * @param  {string} param - Key of parameter to find\n * @param  {string} url - url to search\n * @return {string} match\n */\nexport function paramsGet(param, url) {\n  return decodeUri((RegExp(`${param}=(.+?)(&|$)`).exec(url) || [, ''])[1])\n}\n","import { isBrowser } from '@analytics/type-utils'\nimport { decodeUri } from './decodeUri'\n\n/**\n * Get search string from given url\n * @param  {string} [url] - optional url string. If no url, window.location.search will be used\n * @return {string} url search string\n */\nfunction getSearchString(url) {\n  if (url) {\n    const p = url.match(/\\?(.*)/)\n    return (p && p[1]) ? p[1].split('#')[0] : ''\n  }\n  return isBrowser && window.location.search.substring(1)\n}\n\n/**\n * Parse url parameters into javascript object\n * @param  {string} [url] - URI to parse. If no url supplied window.location will be used\n * @return {object} parsed url parameters\n */\nexport function paramsParse(url) {\n  return getParamsAsObject(getSearchString(url))\n}\n\n/*\n?first=abc&a[]=123&a[]=false&b[]=str&c[]=3.5&a[]=last\nhttps://random.url.com?Target=Report&Method=getStats&fields%5B%5D=Offer.name&fields%5B%5D=Advertiser.company&fields%5B%5D=Stat.clicks&fields%5B%5D=Stat.conversions&fields%5B%5D=Stat.cpa&fields%5B%5D=Stat.payout&fields%5B%5D=Stat.date&fields%5B%5D=Stat.offer_id&fields%5B%5D=Affiliate.company&groups%5B%5D=Stat.offer_id&groups%5B%5D=Stat.date&filters%5BStat.affiliate_id%5D%5Bconditional%5D=EQUAL_TO&filters%5BStat.affiliate_id%5D%5Bvalues%5D=1831&limit=9999\nhttps://random.url.com?Target=Offer&Method=findAll&filters%5Bhas_goals_enabled%5D%5BTRUE%5D=1&filters%5Bstatus%5D=active&fields%5B%5D=id&fields%5B%5D=name&fields%5B%5D=default_goal_name\nhttp://localhost:3000/?Target=Offer&Method=findAll&filters[has_goals_enabled][TRUE]=1&filters[status]=active&filters[wow]arr[]=yaz&filters[wow]arr[]=naz&fields[]=id&fields[]=name&fields[]=default_goal_name */\n\n\n\nfunction getParamsAsObject(query) {\n  let params = Object.create(null)\n  let temp\n  const re = /([^&=]+)=?([^&]*)/g\n\n  while (temp = re.exec(query)) {\n    var k = decodeUri(temp[1])\n    var v = decodeUri(temp[2])\n    if (k.substring(k.length - 2) === '[]') {\n      k = k.substring(0, k.length - 2);\n      (params[k] || (params[k] = [])).push(v)\n    } else {\n      params[k] = (v === '') ? true : v\n    }\n  }\n\n  for (var prop in params) {\n    var arr = prop.split('[')\n    if (arr.length > 1) {\n      assign(params, arr.map((x) => x.replace(/[?[\\]\\\\ ]/g, '')), params[prop])\n      delete params[prop]\n    }\n  }\n  return params\n}\n\nfunction assign(obj, keyPath, value) {\n  var lastKeyIndex = keyPath.length - 1\n  for (var i = 0; i < lastKeyIndex; ++i) {\n    var key = keyPath[i]\n    if (key === '__proto__' || key === 'constructor') {\n      break;\n    }\n    if (!(key in obj)) { \n      obj[key] = {} \n    }\n    obj = obj[key]\n  }\n  obj[keyPath[lastKeyIndex]] = value\n}\n\n\n/*\nhttps://github.com/choojs/nanoquery/blob/791cbdfe49cc380f0b2f93477572128946171b46/browser.js\nvar reg = /([^?=&]+)(=([^&]*))?/g\n\nfunction qs (url) {\n  var obj = {}\n  url.replace(/^.*\\?/, '').replace(reg, function (a0, a1, a2, a3) {\n    var value = decodeURIComponent(a3)\n    var key = decodeURIComponent(a1)\n    if (obj.hasOwnProperty(key)) {\n      if (Array.isArray(obj[key])) obj[key].push(value)\n      else obj[key] = [obj[key], value]\n    } else {\n      obj[key] = value\n    }\n  })\n  return obj\n}\n*/","import { isBrowser } from '@analytics/type-utils'\nimport { paramsClean } from './paramsClean'\n\n/**\n * Removes params from url in browser\n * @param  {string}   param       - param key to remove from current URL\n * @param  {() => void} [callback]  - callback function to run. Only runs in browser\n * @return {PromiseLike<void>}\n */\nexport function paramsRemove(param, callback) {\n  if (!isBrowser) return Promise.resolve()\n\n  return new Promise((resolve, reject) => {\n    if (window.history && window.history.replaceState) {\n      const url = window.location.href\n      const cleanUrl = paramsClean(url, param)\n      if (url !== cleanUrl) {\n        /* replace URL with history API */\n        // eslint-disable-next-line no-restricted-globals\n        history.replaceState({}, '', cleanUrl)\n      }\n    }\n\n    if (callback) callback()\n\n    return resolve()\n  })\n}\n","import { isBrowser } from '@analytics/type-utils'\n\n/**\n * Get host domain of url\n * @param  {String} url - href of page\n * @return {String} hostname of page\n *\n * @example\n *  getDomainHost('https://subdomain.my-site.com/')\n *  > subdomain.my-site.com\n */\nexport function getDomainHost(url) {\n  if (!isBrowser) return null\n  const a = document.createElement('a')\n  a.setAttribute('href', url)\n  return a.hostname\n}\n\n/**\n * Get host domain of url\n * @param  {String} url - href of page\n * @return {String} base hostname of page\n *\n * @example\n *  getDomainBase('https://subdomain.my-site.com/')\n *  > my-site.com\n */\nexport function getDomainBase(url) {\n  const host = getDomainHost(url) || ''\n  return host.split('.').slice(-2).join('.')\n}\n\n/**\n * Remove TLD from domain string\n * @param  {String} baseDomain - host name of site\n * @return {String}\n * @example\n *  trimTld('google.com')\n *  > google\n */\nexport function trimTld(baseDomain) {\n  const arr = baseDomain.split('.')\n  return (arr.length > 1) ? arr.slice(0, -1).join('.') : baseDomain\n}\n\nexport default {\n  trimTld,\n  getDomainBase,\n  getDomainHost\n}\n","import { isBrowser } from '@analytics/type-utils'\nimport { paramsParse } from './paramsParse'\nimport { isExternalReferrer } from './isExternalReferrer'\nimport { trimTld, getDomainBase } from './url'\n\nconst googleKey = 'google'\n\n/**\n * @typedef {{\n *  campaign: string,\n *  referrer?: string,\n * } & DomainObject & Object.<string, any>} ReferrerObject\n */\n\n/**\n * Checks a given url and parses referrer data\n * @param  {String} [referrer] - (optional) referring URL\n * @param  {String} [currentUrl] - (optional) the current url\n * @return {ReferrerObject}     [description]\n */\nexport function parseReferrer(referrer, currentUrl) {\n  if (!isBrowser) return false\n  // default referral data\n  let refData = {\n    'source': '(direct)',\n    'medium': '(none)',\n    'campaign': '(not set)'\n  }\n  // Add raw ref url if external\n  if (referrer && isExternalReferrer(referrer)) {\n    refData.referrer = referrer\n  }\n\n  const domainInfo = parseDomain(referrer)\n  // Read referrer URI and infer source\n  if (domainInfo && Object.keys(domainInfo).length) {\n    refData = Object.assign({}, refData, domainInfo)\n  }\n\n  // Read URI params and use set utm params\n  const params = paramsParse(currentUrl)\n  const paramKeys = Object.keys(params)\n  if (!paramKeys.length) {\n    return refData\n  }\n\n  // set campaign params off GA matches\n  const gaParams = paramKeys.reduce((acc, key) => {\n    // match utm params & dclid (display) & gclid (cpc)\n    if (key.match(/^utm_/)) {\n      acc[`${key.replace(/^utm_/, '')}`] = params[key]\n    }\n    // https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters\n    // dclid - cpc Cost-Per-Thousand Impressions\n    // gclid - cpc Cost per Click\n    if (key.match(/^(d|g)clid/)) {\n      acc['source'] = googleKey\n      acc['medium'] = (params.gclid) ? 'cpc' : 'cpm'\n      acc[key] = params[key]\n    }\n    return acc\n  }, {})\n\n  return Object.assign({}, refData, gaParams)\n}\n\n/**\n * @typedef {{\n *  source: string,\n *  medium: string,\n *  term?: string\n * }} DomainObject\n */\n\n/**\n * Client side domain parser for determining marketing data.\n * @param  {String} referrer - ref url\n * @return {DomainObject | boolean}\n */\nfunction parseDomain(referrer) {\n  if (!referrer || !isBrowser) return false\n\n  let referringDomain = getDomainBase(referrer)\n  const a = document.createElement('a')\n  a.href = referrer\n\n  // Shim for the billion google search engines\n  if (a.hostname.indexOf(googleKey) > -1) {\n    referringDomain = googleKey\n  }\n\n  // If is search engine\n  if (searchEngines[referringDomain]) {\n    const searchEngine = searchEngines[referringDomain]\n    const queryParam = (typeof searchEngine === 'string') ? searchEngine : searchEngine.p\n    const termRegex = new RegExp(queryParam + '=.*?([^&#]*|$)', 'gi')\n    const term = a.search.match(termRegex)\n\n    return {\n      source: searchEngine.n || trimTld(referringDomain),\n      medium: 'organic',\n      term: (term ? term[0].split('=')[1] : '') || '(not provided)'\n    }\n  }\n\n  // Default\n  const medium = (!isExternalReferrer(referrer)) ? 'internal' : 'referral'\n  return {\n    source: a.hostname,\n    medium: medium\n  }\n}\n\n/**\n * Search engine query string data\n * @type {Object}\n */\nconst Q = 'q'\nconst QUERY = 'query'\nconst searchEngines = {\n  'daum.net': Q,\n  'eniro.se': 'search_word',\n  'naver.com': QUERY,\n  'yahoo.com': 'p',\n  'msn.com': Q,\n  'aol.com': Q,\n  'ask.com': Q,\n  'baidu.com': 'wd',\n  'yandex.com': 'text',\n  'rambler.ru': 'words',\n  'google': Q,\n  'bing.com': {\n    'p': Q,\n    'n': 'live'\n  },\n}\n","/* ref: http://bit.ly/2daP79j */\n/**\n * @return {string}\n */\nexport function uuid() {\n  var u = '',\n  m = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx',\n  i = 0,\n  rb = Math.random() * 0xffffffff|0;\n\n  while (i++<36) {\n    var c = m [i-1],\n    r = rb&0xf,\n    v = c=='x' ? r : (r&0x3|0x8);\n\n    u += (c=='-' || c=='4') ? c : v.toString(16);\n    rb = i%8==0 ? Math.random() * 0xffffffff|0 : rb>>4\n  }\n  return u\n}\n","/**\n * @template {Function} F;\n * @param {F} func;\n * @param {number} wait;\n * @return {F};\n */\nexport function throttle(func, wait) {\n  var context, args, result\n  var timeout = null\n  var previous = 0\n  var later = function () {\n    previous = new Date()\n    timeout = null\n    result = func.apply(context, args)\n  };\n  return function () {\n    var now = new Date()\n    if (!previous) {\n      previous = now\n    }\n    var remaining = wait - (now - previous)\n    context = this\n    args = arguments\n    if (remaining <= 0) {\n      clearTimeout(timeout)\n      timeout = null\n      previous = now\n      result = func.apply(context, args)\n    } else if (!timeout) {\n      timeout = setTimeout(later, remaining)\n    }\n    return result\n  }\n}\n",null,"\n/*\n  Constants for reuse\n*/\n\nexport const FUNCTION = 'function'\nexport const STRING = 'string'\nexport const UNDEFINED = 'undefined'\nexport const BOOLEAN = 'boolean'\nexport const OBJECT = 'object'\nexport const ARRAY = 'array'\nexport const NUMBER = 'number'\nexport const SYMBOL = 'symbol'\nexport const NULL = 'null'\nexport const ERROR = 'error'\nexport const TYPE_ERROR = 'typeError'\nexport const SYNTAX_ERROR = 'syntaxError'\nexport const ASYNC_FUNCTION = 'asyncFunction'\nexport const GENERATOR_FUNCTION = 'generatorFunction'\nexport const ASYNC_GENERATOR_FUNCTION = 'asyncGeneratorFunction'\n\nexport const noOp = () => {}\nexport const ANY = 'any'\nexport const ALL = '*'\nexport const NONE = 'none'\nexport const HIDDEN = 'hidden'\nexport const PREFIX = '__'\n\n/* DOM Constants */\nexport const FORM = 'form'\nexport const INPUT = 'input'\nexport const BUTTON = 'button'\nexport const SELECT = 'select'\nexport const CHANGE = 'change'\nexport const SUBMIT = 'submit'\n\n/* Regex patterns */\nexport const REGEX_ISO = /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$/\nexport const REGEX_EMAIL = /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/\nexport const REGEX_JSON = /^\\{[\\s\\S]*\\}$|^\\[[\\s\\S]*\\]$/\n\n/* \nEnvironment checks\n */\n/** @type {Object} */\nconst PROCESS = typeof process !== UNDEFINED ? process : {}\n\n/** @type {String} */\nexport const ENV = (PROCESS.env && PROCESS.env.NODE_ENV) || ''\n\n/** @type {Boolean} */\nexport const isProd = ENV === 'production'\n\n/** @type {Boolean} */\nexport const isStaging = ENV === 'staging'\n\n/** @type {Boolean} */\nexport const isDev = ENV === 'development'\n\n/** @type {Boolean} */\nexport const isBrowser = typeof window !== UNDEFINED\n/** @type {Boolean} */\nexport const isLocalHost = isBrowser && window.location.hostname === 'localhost'\n\n/** @type {Boolean} */\nexport const isNode = PROCESS.versions != null && PROCESS.versions.node != null\n\n/** @type {Boolean} */\nexport const isDeno = typeof Deno !== UNDEFINED && typeof Deno.core !== UNDEFINED;\n\n/** @type {Boolean} */\nexport const isWebWorker = typeof self === OBJECT && self.constructor && self.constructor.name === 'DedicatedWorkerGlobalScope'\n\n/** @type {Boolean} */\nexport const isJsDom = (isBrowser && window.name === 'nodejs') || (typeof navigator !== UNDEFINED && (navigator.userAgent.includes('Node.js') || navigator.userAgent.includes('jsdom')))\n\n/* \nType checks\n */\n\nfunction text(method, s) {\n  return s.charAt(0)[method]() + s.slice(1)\n}\n\nconst upper = text.bind(null, 'toUpperCase')\nconst lower = text.bind(null, 'toLowerCase')\n\n/**\n * Returns the object type of the given payload\n * @param {*} val\n * @returns {string}\n */\nexport function getTypeName(val) {\n  if (isNull(val)) return upper(NULL)\n  return (typeof val === OBJECT) ? ctorName(val) : Object.prototype.toString.call(val).slice(8, -1)\n}\n\n/**\n * Returns the object type of the given payload\n * @param {*} val\n * @returns {string}\n */\nexport function getType(val, toLowerCase = true) {\n  const type = getTypeName(val)\n  // console.log('type', type)\n  return (toLowerCase) ? lower(type) : type\n}\n\n// export function getType(val) {\n//   if (isNull(val)) return NULL\n//   const type = typeof val\n//   if (type === OBJECT) return ctorName(val).toLowerCase()\n//   return type\n// }\n\nfunction typeOf(kind, val) {\n  return typeof val === kind\n}\n\n/** \n * Check if value is function.\n * @param x\n * @return {x is Function}\n */\nexport const isFunction = typeOf.bind(null, FUNCTION)\n\n/** \n * Check if value is string.\n * @param x\n * @return {x is string}\n */\nexport const isString = typeOf.bind(null, STRING)\n\n/** \n * Check if value is undefined.\n * @param x\n * @return {x is undefined}\n */\nexport const isUndefined = typeOf.bind(null, UNDEFINED)\n\n/** \n * Check if value is not undefined.\n * @param x\n * @return {x is undefined}\n */\nexport function isDefined(x) {\n  return !isUndefined(x)\n}\n\n/** \n * @param x\n * @return {x is boolean}\n */\nexport const isBoolean = typeOf.bind(null, BOOLEAN)\n\n/** \n * @param x\n * @return {x is symobl}\n */\nexport const isSymbol = typeOf.bind(null, SYMBOL)\n\n/** \n * @param x\n * @return {x is boolean}\n * @example\n * isNull(null)\n * // true\n */\nexport function isNull(x) {\n  return x === null\n}\n\n/** \n * Check if value is number.\n * @param n\n * @return {boolean}\n * @example\n * > isNumber(0)\n * true\n * > isNumber(1)\n * true\n * > isNumber(1.1)\n * true\n * > isNumber(0xff)\n * true\n * > isNumber(0644)\n * true\n * > isNumber(6.2e5)\n * true\n * > isNumber(NaN)\n * false\n * > isNumber(Infinity)\n * true\n */\nexport function isNumber(n) {\n  return getType(n) === NUMBER && !isNaN(n)\n}\n\nexport function isNumberLike(n) {\n  return !isNaN(parseFloat(n))\n}\n\n/** \n * Check if value is ES2015 `class`.\n * @param x\n * @return {x is Class}\n */\nexport function isClass(x) {\n  if (isFunction(x)) {\n    return /^class /.test(Function.prototype.toString.call(x))\n  }\n  return false\n}\n\n/** \n * @template T\n * @param x\n * @return {x is Array<T>}\n */\nexport function isArray(x) {\n  return getType(x) === ARRAY\n}\n\n/** \n * @param obj\n * @return {obj is Object}\n */\nexport function isObject(obj) {\n  if (!isObjectLike(obj)) return false\n\n  let proto = obj\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto)\n  }\n\n  return Object.getPrototypeOf(obj) === proto\n}\n\nexport function isObjectLike(obj) {\n  return obj && (typeof obj === OBJECT || obj !== null)\n}\n\n/**\n* Tests if a value is a parseable JSON string.\n* @param {*} x - value to test\n* @returns {boolean} boolean indicating if a value is a parseable JSON string\n* @example\n* isJson('{\"a\":5}') // returns true\n* isJson('[]') // returns true\n* isJson('{a\":5}') // returns false\n*/\nexport function isJson(x) {\n  if (!isString(x) || !REGEX_JSON.test(x)) return false\n  try {\n    JSON.parse(x)\n  } catch (e) { \n    return false\n  }\n  return true\n}\n\n/**\n * Is primative scalar value\n * @param x\n * @return {boolean}\n * @example\n   isPrimitive(true) =>  true\n   isPrimitive({}) => false\n   isPrimitive(0) =>  true\n   isPrimitive('1') =>  true\n   isPrimitive(1.1) =>  true\n   isPrimitive(NaN) =>  true\n   isPrimitive(Infinity) =>  true\n   isPrimitive(function() {}) => false\n   isPrimitive(Date), => false\n   isPrimitive(null) =>  true\n   isPrimitive(undefined) =>  true\n */\nexport function isPrimitive(x) {\n  if (isNull(x)) return true\n  // if (isNaN(x)) return false\n  switch (typeof x) {\n    case STRING:\n    case NUMBER:\n    case SYMBOL:\n    case UNDEFINED:\n    case BOOLEAN:\n      return true\n    default:\n      return false\n  }\n}\n\n/**\n* Tests if an object has a specified method name.\n* @param {*} value - value to test\n* @param {*} property - property to test\n* @returns {boolean} boolean indicating if an object has a specified method name\n* @example\n* const obj = {\n*   key: myFunc,\n*   keyTwo: 'foobar'\n* }\n* isMethod(obj, 'key' ) // returns true\n* isMethod(obj, 'keyTwo' ) // returns false\n* isMethod(obj, 'otherThing' ) // returns false\n*/\nexport function isMethod(value, prop) {\n  return isObject(value) && isFunction(value[prop])\n}\n\n/**\n * Returns true if the input is a Promise.\n * @param {*} x - The input to test\n * @returns {boolean}\n */\nexport function isPromise(x) {\n  if (!x) return false\n  return !!(!isUndefined(Promise) && x instanceof Promise || x.then && isFunction(x.then))\n}\n\n/**\n * Returns true if the input is a generator.\n * @param {*} x - The input to test\n * @returns {boolean}\n */\nexport function isGenerator(x) {\n  return isObjectLike(x) && isFunction(x.throw) && isFunction(x.return) && isFunction(x.next)\n}\n\n/** \n * Is generator function\n * @param x\n * @return {boolean}\n * @example\n   isGeneratorFunction(() => {}) =>  false\n   isGeneratorFunction(function* () => {}) =>  true\n   isGeneratorFunction(function * () {\n     yield 'my-val'\n   }))\n */\nexport function isGeneratorFunction(x) {\n  return getType(x) === GENERATOR_FUNCTION\n}\n\n/** \n * Is async function\n * @param x\n * @return {boolean}\n * @example\n   isAsyncFunction(() => {}) =>  false\n   isAsyncFunction(async () => {}) =>  true\n */\nexport function isAsyncFunction(x) {\n  return getType(x) === ASYNC_FUNCTION\n}\n\n\nexport function ctorName(x) {\n  return isFunction(x.constructor) ? x.constructor.name : null\n}\n\n/**\n * Returns true if the input is a Set.\n * @param {*} x - The input to test\n * @returns {boolean}\n */\nexport function isSet(value) {\n  return value instanceof Set\n}\n\n/**\n * Returns true if the input is a Map.\n * @param {*} x - The input to test\n * @returns {boolean}\n */\nexport function isMap(value) {\n  return value instanceof Map\n}\n\n/**\n * Check if value is regexp\n * @param {*} value - Value to check\n * @return {boolean} \n */\nexport function isRegex(value) {\n  return value instanceof RegExp\n}\n\n/**\n * Check if value is Buffer\n * @param {*} value - Value to check\n * @return {boolean} \n */\nexport function isBuffer(val) {\n  if (val.constructor && isFunction(val.constructor.isBuffer)) {\n    return val.constructor.isBuffer(val)\n  }\n  return false\n}\n\n/**\n * Check if value is Error\n * @param x - Object to check\n * @return {Boolean} If value is error\n * @example\n * isError(new Error()) // True\n */\nexport function isError(x) {\n  return x instanceof Error || (isString(x.message) && x.constructor && isNumber(x.constructor.stackTraceLimit))\n}\n\n/**\n * Check if value error like (i.e has the name and message properties, both of which are strings)\n * @param obj - Object to check\n * @return {Boolean} If object is error-like\n * via https://github.com/Luke-zhang-04/utils/blob/master/src/typeGuards.ts#L62\n * @example\n *\n * ```js\n * isErrorLike(new Error()) // True\n * isErrorLike({name: \"Error!\", message: \"This is an error\", other: 0}) // True\n * isErrorLike({}) // False\n * isErrorLike({name: \"Error\", message: null}) // False\n *\n * // Works as a typguard\n * const something = {name: \"Error\", message: \"This is an error\"} as unknown\n *\n * if (isErrorLike(something)) {\n *   console.log(something.name) // No Typescript error\n * }\n * ```\n */\nexport function isErrorLike(obj) {\n  return isObjectLike(obj) && isString(obj.message) && isString(obj.name)\n}\n\nfunction errorType(ErrKind, value) {\n  if (typeof value !== 'object' || isNull(value)) return false\n  // Check for `TypeError` objects from the same realm (same Node.js `vm` or same `Window` object)...\n  if (value instanceof ErrKind) return true\n  const typeName = getType(new ErrKind(''))\n  // All `TypeError` objects are `Error` objects...\n  if (isError(value)) {\n    while (value) {\n      if (getType(value) === typeName) {\n        return true\n      }\n        value = Object.getPrototypeOf(value)\n    }\n  }\n  return false\n}\n\nexport const isTypeError = errorType.bind(null, TypeError)\n\nexport const isSyntaxError = errorType.bind(null, SyntaxError)\n\n/** \n * @param func - function to check if noOp\n * @return {Boolean} - is noOp\n * @examples\n   function foo() {}\n   isNoOp(foo) // true\n   isNoOp(() => { }) // true\n   isNoOp(() => { console.log('hi') }) // false\n */\nexport function isNoOp(func) {\n  if (!isFunction(func)) return false\n  const emptyFunc = /{(\\r|\\n|\\s)*}/gm\n  const noOpStr = noOp + ''\n  const funcString = (func.toString().match(emptyFunc) || [''])[0].replace(emptyFunc, noOpStr)\n  return noOpStr === funcString\n}\n\n/**\n * Check if value is function arguments\n * @param {*} val \n * @returns \n */\nexport function isArguments(val) {\n  try {\n    if (isNumber(val.length) && isFunction(val.callee)) return true\n  } catch (err) {\n    if (err.message.indexOf('callee') !== -1) return true\n  }\n  return false\n}\n\n/**\n * Check if value is truthy\n * @param {*} value \n * @return {Boolean} - is truthy value\n */\nexport function isTruthy(v) {\n  if (isString(v) && v.toLowerCase() === 'false') return false\n  return !!v\n}\n\n/**\n * Check if value is falsy\n * @param {*} x \n * @return {Boolean} - is falsy value\n * @example\n * isFalsy(false) // returns true\n * isFalsy(null) // returns true\n * isFalsy('') // returns true\n * isFalsy(0) // returns true\n * isFalsy(void 0) // returns true\n * isFalsy(NaN) // returns true\n * isFalsy([]) // returns false\n */\nexport function isFalsy(x) {\n  return x ? false : true\n}\n\n// ^ future updates https://github.com/thenativeweb/boolean\n\n/**\n * Check if value is true\n * @param {*} x \n * @return {Boolean} - is true\n */\nexport function isTrue(x) {\n  return x === true\n}\n\n/**\n * Check if value is true\n * @param {*} x \n * @return {Boolean} - is true\n */\nexport function isFalse(x) {\n  return x === false\n}\n\n/**\n * Check if value is email\n * @param {*} x \n * @return {Boolean} - is email like value\n */\nexport function isEmail(x) {\n  if (x.length > 320) return false\n  return REGEX_EMAIL.test(x)\n}\n\n/**\n * Check if valie is date\n * @param {*} val \n * @returns {Boolean}\n */\nexport function isDate(x) {\n  if (x instanceof Date) return true\n  return isFunction(x.toDateString) && isFunction(x.getDate) && isFunction(x.setDate)\n}\n\n/**\n * Check if value is ISO date e.g. '2022-01-02T06:45:28.547Z'\n * @param {*} x\n * @return {Boolean} - is email like value\n */\nexport function isIsoDate(x) {\n  return REGEX_ISO.test(x)\n}\n\n/**\n * Is value empty\n * @param {*} x \n * @returns {Boolean}\n * @example\n * isEmpty(null)\n *\n * isEmpty([1, 2, 3])\n * // => false\n *\n * isEmpty('abc')\n * // => false\n *\n * isEmpty({ 'a': 1 })\n * // => false\n */\nexport function isEmpty(x) {\n  if (isNull(x)) return true\n  if (isArray(x)) return !x.length\n  if (isSet(x) || isMap(x)) return !x.size\n  if (isObject(x)) return !Object.keys(x).length\n  return true\n}\n\n/* \nHTML Element checks\n */\n\n/** \n * @param obj\n * @return {obj is NodeList}\n */\nexport function isNodeList(obj) {\n  return NodeList.prototype.isPrototypeOf(obj)\n}\n\n/**\n * Check if input is DOM element\n * @param {HTMLElement|*} element\n * @return {boolean} \n */\nexport function isElement(element, type) {\n  const isEl = element instanceof Element || element instanceof HTMLDocument\n  if (!isEl || !type) return isEl\n  return isNodeType(element, type)\n}\n\n/**\n * Check if element is specific DOMNode type\n * @param {HTMLElement|*} element\n * @param {String} type\n * @return {boolean}\n */\nexport function isNodeType(element, type = '') {\n  return element && element.nodeName === type.toUpperCase()\n}\n\nfunction bindArgs(fn, ...boundArgs) {\n  return function(...args) {\n    return fn(...args, ...boundArgs)\n  }\n}\n\n/**\n * Check if element is form element\n * @param {HTMLElement} element\n * @return {boolean} \n */\nexport const isForm = bindArgs(isElement, FORM)\n\n/**\n * Check if element is button element\n * @param {HTMLElement} element\n * @return {boolean} \n */\nexport const isButton = bindArgs(isElement, BUTTON)\n\n/**\n * Check if element is input element\n * @param {HTMLElement} element\n * @return {boolean} \n */\nexport const isInput = bindArgs(isElement, INPUT)\n\n/**\n * Check if element is select element\n * @param {HTMLElement} element\n * @return {boolean} \n */\nexport const isSelect = bindArgs(isElement, SELECT)\n\n/**\n * Check if DOM element is hidden\n * @param {HTMLElement|null|undefined} element\n * @param {HTMLElement|null|undefined} until\n * @return {boolean}\n */\nexport function isHidden(element, until) {\n  if (!element || getComputedStyle(element).visibility === HIDDEN) return true\n\n  while (element) {\n    if (until != null && element === until) return false\n    if (getComputedStyle(element).display === NONE) return true\n    element = element.parentElement\n  }\n\n  return false\n}\n\n/* \nEnsure Values\n */\n\n/**\n * Ensure value returned is Array\n * @param {*} singleOrArray \n * @returns [*]\n */\nexport function ensureArray(singleOrArray) {\n  if (!singleOrArray) return []\n  if (isArray(singleOrArray)) return singleOrArray\n  return [singleOrArray]\n}",null,"export default function dlv(obj, key, def, p, undef) {\n\tkey = key.split ? key.split('.') : key;\n\tfor (p = 0; p < key.length; p++) {\n\t\tobj = obj ? obj[key[p]] : undef;\n\t}\n\treturn obj === undef ? def : obj;\n}\n",null,"import { OBJECT, PREFIX, UNDEFINED } from '@analytics/type-utils'\n\nexport const GLOBAL = 'global'\n\nexport const KEY = PREFIX + GLOBAL + PREFIX\n\nexport const globalContext = (typeof self === OBJECT && self.self === self && self) || (typeof global === OBJECT && global[GLOBAL] === global && global) || this\n\n/* initialize global object */\nif (!globalContext[KEY]) {\n  globalContext[KEY] = {}\n}\n/**\n * Get value from global context\n * @param {string} key - Key of value to get\n * @returns {*} value\n */\nexport function get(key) {\n  return globalContext[KEY][key]\n}\n\n/**\n * Set value to global context\n * @param {string} key - Key of value to set\n * @param {*} value \n * @returns value\n */\nexport function set(key, value) {\n  return globalContext[KEY][key] = value\n}\n\n/**\n * Remove value to global context\n * @param {string} key - Key of value to remove\n */\nexport function remove(key) {\n  delete globalContext[KEY][key]\n}\n\n/**\n * Wrap localStorage & session storage checks\n * @param {string} type - localStorage or sessionStorage\n * @param {string} storageOperation - getItem, setItem, removeItem\n * @param {function} fallbackFunction - fallback function\n */\nexport function wrap(type, operation, fallback) {\n  let fn\n  try {\n    if (hasSupport(type)) {\n      const storage = window[type]\n      fn = storage[operation].bind(storage)\n    }\n  } catch(e) {}\n  return fn || fallback\n}\n\nconst cache = {}\nexport function hasSupport(type) {\n  if (typeof cache[type] !== UNDEFINED) {\n    return cache[type]\n  }\n  try {\n    const storage = window[type]\n    // test for private safari\n    storage.setItem(UNDEFINED, UNDEFINED)\n    storage.removeItem(UNDEFINED)\n  } catch (err) {\n    return cache[type] = false\n  }\n  return cache[type] = true\n}\n\n/*\n// () => localStorage)\n// () => sessionStorage)\nexport function isSupported(getStorage) {\n  try {\n    const testKey = '__' + undef\n    getStorage().setItem(testKey, testKey)\n    getStorage().removeItem(testKey)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n*/\n",null,"import { isObject } from '@analytics/type-utils'\n/**\n * Safe JSON parse\n * @param  {*} input - value to parse\n * @return {*} parsed input\n */\nexport default function parse(input) {\n  let value = input\n  try {\n    value = JSON.parse(input)\n    if (value === 'true') return true\n    if (value === 'false') return false\n    if (isObject(value)) return value\n    if (parseFloat(value) === value) {\n      value = parseFloat(value)\n    }\n  } catch (e) { }\n  if (value === null || value === \"\") {\n    return\n  }\n  return value\n}\n","import { set, get, remove, globalContext, GLOBAL } from '@analytics/global-storage-utils'\nimport { getCookie, setCookie, removeCookie, hasCookies, COOKIE } from '@analytics/cookie-utils'\nimport { hasLocalStorage, LOCAL_STORAGE } from '@analytics/localstorage-utils'\nimport { hasSessionStorage, SESSION_STORAGE } from '@analytics/session-storage-utils'\nimport { isUndefined, isString, ANY, ALL } from '@analytics/type-utils'\nimport parse from './utils/parse'\n\n// Verify support\nconst hasStorage = hasLocalStorage()\nconst hasSessionSupport = hasSessionStorage()\nconst hasCookiesSupport = hasCookies()\n\n/**\n * Get storage item from localStorage, cookie, or window\n * @param  {string} key - key of item to get\n * @param  {object|string} [options] - storage options. If string location of where to get storage\n * @param  {string} [options.storage] - Define type of storage to pull from.\n * @return {Any}  the value of key\n */\nexport function getItem(key, options) {\n  if (!key) return\n  const type = getStorageType(options)\n  const getFirst = !useAll(type)\n\n  /* 1. Try localStorage */\n  const localValue = useLocal(type) ? parse(localStorage.getItem(key)) : undefined\n  if (getFirst && !isUndefined(localValue)) {\n    return localValue\n  }\n\n  /* 2. Fallback to cookie */\n  const cookieVal = useCookie(type) ? parse(getCookie(key)) : undefined\n  if (getFirst && cookieVal) {\n    return cookieVal\n  }\n\n  /* 3. Fallback to sessionStorage */\n  const sessionVal = useSession(type) ? parse(sessionStorage.getItem(key)) : undefined\n  if (getFirst && sessionVal) {\n    return sessionVal\n  }\n\n  /* 4. Fallback to window/global. */\n  const globalValue = get(key)\n\n  return getFirst ? globalValue : {\n    localStorage: localValue,\n    sessionStorage: sessionVal,\n    cookie: cookieVal,\n    global: globalValue\n  }\n}\n\n/**\n * Store values in localStorage, cookie, or window\n * @param {string} key - key of item to set\n * @param {*} value - value of item to set\n * @param {object|string} [options] - storage options. If string location of where to get storage\n * @param {string} [options.storage] - Define type of storage to pull from.\n * @returns {object} returns old value, new values, & location of storage\n */\nexport function setItem(key, value, options) {\n  if (!key || isUndefined(value)) {\n    return\n  }\n  const data = {}\n  const type = getStorageType(options)\n  const saveValue = JSON.stringify(value)\n  const setFirst = !useAll(type)\n\n  /* 1. Try localStorage */\n  if (useLocal(type)) {\n    // console.log('SET as localstorage', saveValue)\n    data[LOCAL_STORAGE] = format(LOCAL_STORAGE, value, parse(localStorage.getItem(key)))\n    // Set LocalStorage item\n    localStorage.setItem(key, saveValue)\n    if (setFirst) {\n      return data[LOCAL_STORAGE]\n    }\n  }\n\n  /* 2. Fallback to cookie */\n  if (useCookie(type)) {\n    // console.log('SET as cookie', saveValue)\n    data[COOKIE] = format(COOKIE, value, parse(getCookie(key)))\n    // Set Cookie\n    setCookie(key, saveValue)\n    if (setFirst) {\n      return data[COOKIE]\n    }\n  }\n\n  /* 3. Try sessionStorage */\n  if (useSession(type)) {\n    // console.log('SET as localstorage', saveValue)\n    data[SESSION_STORAGE] = format(SESSION_STORAGE, value, parse(sessionStorage.getItem(key)))\n    // Set sessionStorage item\n    sessionStorage.setItem(key, saveValue)\n    if (setFirst) {\n      return data[SESSION_STORAGE]\n    }\n  }\n\n  /* 4. Fallback to window/global */\n  data[GLOBAL] = format(GLOBAL, value, get(key))\n  // Set global value\n  set(key, value)\n  // Return set value(s)\n  return (setFirst) ? data[GLOBAL] : data\n}\n\n/**\n * Remove values from localStorage, cookie, or window\n * @param {string} key - key of item to set\n * @param {object|string} [options] - storage options. If string location of where to get storage\n * @param {string} [options.storage] - Define type of storage to pull from.\n */\nexport function removeItem(key, options) {\n  if (!key) return\n  const type = getStorageType(options)\n  const values = getItem(key, ALL)\n\n  const data = {}\n  /* 1. Try localStorage */\n  if (!isUndefined(values.localStorage) && useLocal(type)) {\n    localStorage.removeItem(key)\n    data[LOCAL_STORAGE] = values.localStorage\n  }\n  /* 2. Fallback to cookie */\n  if (!isUndefined(values.cookie) && useCookie(type)) {\n    removeCookie(key)\n    data[COOKIE] = values.cookie\n  }\n  /* 3. Try sessionStorage */\n  if (!isUndefined(values.sessionStorage) && useSession(type)) {\n    sessionStorage.removeItem(key)\n    data[SESSION_STORAGE] = values.sessionStorage\n  }\n  /* 4. Fallback to window/global */\n  if (!isUndefined(values.global) && useGlobal(type)) {\n    remove(key)\n    data[GLOBAL] = values.global\n  }\n  return data\n}\n\nfunction getStorageType(opts) {\n  if (!opts) return ANY\n  return isString(opts) ? opts : opts.storage\n}\n\nfunction useGlobal(storage) {\n  return useType(storage, GLOBAL)\n}\n\nfunction useLocal(storage) {\n  // If has localStorage and storage option not defined, or is set to 'localStorage' or '*'\n  return hasStorage && useType(storage, LOCAL_STORAGE)\n}\n\nfunction useCookie(storage) {\n  // If has cookies and storage option not defined, or is set to 'cookies' or '*'\n  return hasCookiesSupport && useType(storage, COOKIE)\n}\n\nfunction useSession(storage) {\n  // If has sessionStorage and storage option not defined, or is set to 'sessionStorage' or '*'\n  return hasSessionSupport && useType(storage, SESSION_STORAGE)\n}\n\nfunction useAll(storage) {\n  return storage === ALL || storage === 'all'\n}\n\nfunction useType(storage, type) {\n  return (storage === ANY || storage === type || useAll(storage))\n}\n\n/**\n * Format response\n * @param {string} location \n * @param {*} current - current value\n * @param {*} previous - previous value\n * @returns \n */\nfunction format(location, current, previous) {\n  return { location, current, previous }\n}\n\n// const TYPES = {\n//   ALL,\n//   ANY,\n//   GLOBAL,\n//   COOKIE,\n//   LOCAL_STORAGE,\n//   SESSION_STORAGE,   \n// }\n\nexport {\n  ALL,\n  ANY,\n  GLOBAL,\n  COOKIE,\n  LOCAL_STORAGE,\n  SESSION_STORAGE,\n  getCookie,\n  setCookie,\n  removeCookie,\n  globalContext,\n  hasSessionStorage,\n  hasLocalStorage,\n  hasCookies\n}\n\nexport default {\n  setItem,\n  getItem,\n  removeItem\n}",null,"import { get, set, remove } from '@analytics/global-storage-utils'\n\nexport const COOKIE = 'cookie'\n\nlet isSupported = hasCookies()\n\n/**\n * Get a cookie value\n * @param  {string} name - key of cookie\n * @return {string} value of cookie\n */\nexport const getCookie = cookie\n\n/**\n * Set a cookie value\n * @param {string} name  - key of cookie\n * @param {string} value - value of cookie\n * @param {string} days  - days to keep cookie\n */\nexport const setCookie = cookie\n\n/**\n * Remove a cookie value.\n * @param {string} name  - key of cookie\n */\nexport function removeCookie(name) {\n  return isSupported ? cookie(name, '', -1) : remove(name) \n}\n\n/**\n * Check if browser has cookie support\n * @returns {boolean}\n */\nexport function hasCookies() {\n  if (typeof isSupported !== 'undefined') {\n    return isSupported\n  }\n  const tmp = COOKIE + COOKIE\n  try {\n    // Try to set cookie\n    cookie(tmp, tmp)\n    isSupported = document.cookie.indexOf(tmp) !== -1\n    // Cleanup cookie\n    removeCookie(tmp)\n  } catch (e) {\n    isSupported = false\n  }\n  return isSupported\n}\n\n/** \n  * Cookie setter & getter\n  * @version    1.0.4\n  * @date       2015-03-13\n  * @stability  3 - Stable\n  * @author     Lauri Rooden <lauri@rooden.ee>\n  * @license    MIT License\n  * Modified by David Wells\n  * @param {string} name \n  * @param {*} value \n  * @param {*} ttl - Time to live in seconds\n  * @param {*} path - Cookie domain\n  * @param {*} domain - Cookie domain\n  * @param {Boolean} secure - secure cookie\n  * @returns {*} value\n  * @example\n    cookie('test', 'a') // set\n    cookie('test', 'a', 60*60*24, '/api', '*.example.com', true) // complex set - cookie(name, value, ttl, path, domain, secure)\n    cookie('test') // get\n    cookie('test', '', -1) // destroy\n*/\nfunction cookie(name, value, ttl, path, domain, secure) {\n  if (typeof window === 'undefined') return\n  const isSet = arguments.length > 1\n  /* If cookies not supported fallback to global */\n  if (isSupported === false) (isSet) ? set(name, value) : get(name)\n  /* Set values */\n  if (isSet) {\n    return document.cookie = name + '=' + encodeURIComponent(value) +\n      /* Set TTL set expiration on cookie */\n      ((!ttl) ? '' : '; expires=' + new Date(+new Date() + (ttl * 1000)).toUTCString() +\n      // If path set path\n      ((!path) ? '' : '; path=' + path) +\n      // If domain set domain\n      ((!domain) ? '' : '; domain=' + domain) +\n      // If secure set secure\n      ((!secure) ? '' : '; secure'))\n  }\n  /* Get values */\n  return decodeURIComponent((('; ' + document.cookie).split('; ' + name + '=')[1] || '').split(';')[0])\n}\n",null,"import { get, set, remove, hasSupport, wrap } from '@analytics/global-storage-utils'\n\nconst LOCAL_STORAGE = 'localStorage'\n\n/**\n * Check if browser has access to LocalStorage\n * @returns {Boolean}\n */\nconst hasLocalStorage = hasSupport.bind(null, LOCAL_STORAGE)\n\n/**\n * Get value from localStorage or fallback to global window\n * @param {string} key - Key of value to get\n * @returns {*} value\n */\nconst getItem = wrap(LOCAL_STORAGE, 'getItem', get)\n\n/**\n * Set value to localStorage or fallback to global window\n * @param {string} key - Key of value to set\n * @param {*} value \n * @returns value\n */\nconst setItem = wrap(LOCAL_STORAGE, 'setItem', set)\n\n/**\n * Remove value from localStorage or fallback to global window\n * @param {string} key - Key of value to remove\n */\nconst removeItem = wrap(LOCAL_STORAGE, 'removeItem', remove)\n\nexport {\n  LOCAL_STORAGE,\n  hasLocalStorage,\n  getItem,\n  setItem,\n  removeItem\n}",null,"import { get, set, remove, hasSupport, wrap } from '@analytics/global-storage-utils'\n\nconst SESSION_STORAGE = 'sessionStorage'\n\n/**\n * Check if browser has access to sessionStorage\n * @returns {Boolean}\n */\nconst hasSessionStorage = hasSupport.bind(null, SESSION_STORAGE)\n\n/**\n * Get value from sessionStorage or fallback to global window\n * @param {string} key - Key of value to get\n * @returns {*} value\n */\nconst getSessionItem = wrap(SESSION_STORAGE, 'getItem', get)\n\n/**\n * Set value to sessionStorage or fallback to global window\n * @param {string} key - Key of value to set\n * @param {*} value \n * @returns value\n */\nconst setSessionItem = wrap(SESSION_STORAGE, 'setItem', set)\n\n/**\n * Remove value from sessionStorage or fallback to global window\n * @param {string} key - Key of value to remove\n */\nconst removeSessionItem = wrap(SESSION_STORAGE, 'removeItem', remove)\n\nexport {\n  SESSION_STORAGE,\n  hasSessionStorage,\n  getSessionItem,\n  setSessionItem,\n  removeSessionItem\n}","// googleAnalytics events from a node server environment.\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\n/* global ga */\nvar defaultConfig = {\n  /* See description below */\n  trackingId: null,\n\n  /* See description below */\n  debug: false,\n\n  /* See description below */\n  anonymizeIp: false,\n\n  /* See description below */\n  customDimensions: {},\n\n  /* See description below */\n  resetCustomDimensionsOnPage: [],\n\n  /* See description below */\n  setCustomDimensionsToPage: true\n  /* Custom metrics https://bit.ly/3c5de88 */\n  // TODO customMetrics: { key: 'metric1' }\n\n  /* Content groupings https://bit.ly/39Zt3Me */\n  // TODO contentGroupings: { key: 'contentGroup1' }\n\n};\nvar loadedInstances = {};\n/**\n * Google analytics plugin\n * @link https://getanalytics.io/plugins/google-analytics/\n * @link https://analytics.google.com/analytics/web/\n * @link https://developers.google.com/analytics/devguides/collection/analyticsjs\n * @param {object}  pluginConfig - Plugin settings\n * @param {string}  pluginConfig.trackingId - Google Analytics site tracking Id\n * @param {boolean} [pluginConfig.debug] - Enable Google Analytics debug mode\n * @param {boolean} [pluginConfig.anonymizeIp] - Enable [Anonymizing IP addresses](https://bit.ly/3c660Rd) sent to Google Analytics. [See details below](#anonymize-visitor-ips)\n * @param {object}  [pluginConfig.customDimensions] - Map [Custom dimensions](https://bit.ly/3c5de88) to send extra information to Google Analytics. [See details below](#using-ga-custom-dimensions)\n * @param {object}  [pluginConfig.resetCustomDimensionsOnPage] - Reset custom dimensions by key on analytics.page() calls. Useful for single page apps.\n * @param {boolean} [pluginConfig.setCustomDimensionsToPage] - Mapped dimensions will be set to the page & sent as properties of all subsequent events on that page. If false, analytics will only pass custom dimensions as part of individual events\n * @param {string}  [pluginConfig.instanceName] - Custom tracker name for google analytics. Use this if you need multiple googleAnalytics scripts loaded\n * @param {string}  [pluginConfig.customScriptSrc] - Custom URL for google analytics script, if proxying calls\n * @param {object}  [pluginConfig.cookieConfig] - Additional cookie properties for configuring the [ga cookie](https://developers.google.com/analytics/devguides/collection/analyticsjs/cookies-user-id#configuring_cookie_field_settings)\n * @param {object}  [pluginConfig.tasks] - [Set custom google analytic tasks](https://developers.google.com/analytics/devguides/collection/analyticsjs/tasks)\n * @return {*}\n * @example\n *\n * googleAnalytics({\n *   trackingId: 'UA-1234567'\n * })\n */\n\nfunction googleAnalytics$1() {\n  var pluginConfig = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var pageCalledOnce = false; // Allow for multiple google analytics instances\n\n  var _getInstanceDetails = getInstanceDetails(pluginConfig),\n      instanceName = _getInstanceDetails.instanceName,\n      instancePrefix = _getInstanceDetails.instancePrefix;\n\n  return {\n    name: 'google-analytics',\n    config: _objectSpread({}, defaultConfig, pluginConfig),\n    // Load google analytics\n    initialize: function initialize(pluginApi) {\n      var config = pluginApi.config,\n          instance = pluginApi.instance;\n      if (!config.trackingId) throw new Error('No GA trackingId defined');\n      var customDimensions = config.customDimensions,\n          customScriptSrc = config.customScriptSrc; // var to hoist\n\n      var scriptSrc = customScriptSrc || 'https://www.google-analytics.com/analytics.js'; // Load google analytics script to page\n\n      if (gaNotLoaded(scriptSrc)) {\n        /* eslint-disable */\n        (function (i, s, o, g, r, a, m) {\n          i['GoogleAnalyticsObject'] = r;\n          i[r] = i[r] || function () {\n            (i[r].q = i[r].q || []).push(arguments);\n          }, i[r].l = 1 * new Date();\n          a = s.createElement(o), m = s.getElementsByTagName(o)[0];\n          a.async = 1;\n          a.src = g;\n          m.parentNode.insertBefore(a, m);\n        })(window, document, 'script', scriptSrc, 'ga');\n        /* eslint-enable */\n\n      } // Initialize tracker instance on page\n\n\n      if (!loadedInstances[instanceName]) {\n        var gaConfig = _objectSpread({\n          cookieDomain: config.domain || 'auto',\n          siteSpeedSampleRate: config.siteSpeedSampleRate || 1,\n          sampleRate: config.sampleRate || 100,\n          allowLinker: true\n        }, config.cookieConfig);\n\n        if (instanceName) {\n          gaConfig.name = instanceName;\n        }\n\n        ga('create', config.trackingId, gaConfig);\n\n        if (config.debug) {\n          // Disable sends to GA http://bit.ly/2Ro0vTR\n          ga(\"\".concat(instancePrefix, \"set\"), 'sendHitTask', null);\n          window.ga_debug = {\n            trace: true\n          };\n        }\n\n        if (config.anonymizeIp) {\n          ga(\"\".concat(instancePrefix, \"set\"), 'anonymizeIp', true);\n        }\n\n        if (config.tasks) {\n          var taskList = ['customTask', 'previewTask', 'checkProtocolTask', 'validationTask', 'checkStorageTask', 'historyImportTask', 'samplerTask', 'buildHitTask', 'sendHitTask', 'timingTask', 'displayFeaturesTask'];\n          taskList.forEach(function (taskName) {\n            if (config.tasks.hasOwnProperty(taskName)) {\n              var task = config.tasks[taskName];\n\n              if (typeof task === 'function') {\n                ga(config.tasks[taskName]);\n              } else if (task === null) {\n                ga(\"\".concat(instancePrefix, \"set\"), taskName, task);\n              }\n            }\n          });\n        }\n        /* set custom dimensions from user traits */\n\n\n        var user = instance.user() || {};\n        var traits = user.traits || {};\n\n        if (Object.keys(traits).length && customDimensions && Object.keys(customDimensions).length) {\n          var dimensions = formatObjectIntoDimensions$1(traits, config);\n          ga(\"\".concat(instancePrefix, \"set\"), dimensions);\n        }\n\n        loadedInstances[instanceName] = true;\n      }\n    },\n    // Google Analytics page view\n    page: function page(_ref) {\n      var payload = _ref.payload,\n          config = _ref.config,\n          instance = _ref.instance;\n      var properties = payload.properties;\n      var resetCustomDimensionsOnPage = config.resetCustomDimensionsOnPage,\n          customDimensions = config.customDimensions;\n      var campaign = instance.getState('context.campaign');\n      if (gaNotLoaded()) return;\n      /* If dimensions are specifiied to reset, clear them before page view */\n\n      if (resetCustomDimensionsOnPage && resetCustomDimensionsOnPage.length) {\n        var resetDimensions = resetCustomDimensionsOnPage.reduce(function (acc, key) {\n          if (customDimensions[key]) {\n            acc[customDimensions[key]] = null; // { dimension1: null } etc\n          }\n\n          return acc;\n        }, {});\n\n        if (Object.keys(resetDimensions).length) {\n          // Reset custom dimensions\n          ga(\"\".concat(instancePrefix, \"set\"), resetDimensions);\n        }\n      }\n\n      var path = properties.path || document.location.pathname;\n      var pageView = {\n        page: path,\n        title: properties.title,\n        location: properties.url\n      };\n      var pageData = {\n        page: path,\n        title: properties.title // allow referrer override if referrer was manually set\n\n      };\n\n      if (properties.referrer !== document.referrer) {\n        pageData.referrer = properties.referrer;\n      }\n\n      var campaignData = addCampaignData(campaign);\n      var dimensions = setCustomDimensions(properties, config, instancePrefix);\n      /* Dimensions will only be included in the event if config.setCustomDimensionsToPage is false */\n\n      var finalPayload = _objectSpread({}, pageView, campaignData, dimensions);\n\n      ga(\"\".concat(instancePrefix, \"set\"), pageData); // Remove location for SPA tracking after initial page view\n\n      if (pageCalledOnce) {\n        delete finalPayload.location;\n      }\n      /* send page view to GA */\n\n\n      ga(\"\".concat(instancePrefix, \"send\"), 'pageview', finalPayload); // Set after initial page view\n\n      pageCalledOnce = true;\n    },\n\n    /**\n     * Google Analytics track event\n     * @example\n     *\n     * analytics.track('playedVideo', {\n     *   category: 'Videos',\n     *   label: 'Fall Campaign',\n     *   value: 42\n     * })\n     */\n    track: function track(_ref2) {\n      var payload = _ref2.payload,\n          config = _ref2.config,\n          instance = _ref2.instance;\n      var properties = payload.properties,\n          event = payload.event;\n      var label = properties.label,\n          value = properties.value,\n          category = properties.category,\n          nonInteraction = properties.nonInteraction;\n      var campaign = instance.getState('context.campaign'); // TODO inline this trackEvent\n\n      trackEvent$1({\n        hitType: 'event',\n        event: event,\n        label: label,\n        category: category || 'All',\n        value: value,\n        nonInteraction: nonInteraction,\n        campaign: campaign\n      }, config, payload);\n    },\n    identify: function identify(_ref3) {\n      var payload = _ref3.payload,\n          config = _ref3.config;\n      identifyVisitor$1(payload.userId, payload.traits, config);\n    },\n    loaded: function loaded() {\n      return !!window.gaplugins;\n    }\n  };\n}\n\nfunction gaNotLoaded(scriptSrc) {\n  if (scriptSrc) {\n    return !scriptLoaded(scriptSrc);\n  }\n\n  return typeof ga === 'undefined';\n}\n\nfunction getInstanceDetails(pluginConfig) {\n  var instanceName = pluginConfig.instanceName;\n  return {\n    instancePrefix: instanceName ? \"\".concat(instanceName, \".\") : '',\n    instanceName: instanceName\n  };\n}\n/**\n * Send event tracking to Google Analytics\n * @param  {object} eventData - GA event payload\n * @param  {string} [eventData.hitType = 'event'] - hitType https://bit.ly/2Jab9L1 one of 'pageview', 'screenview', 'event', 'transaction', 'item', 'social', 'exception', 'timing'\n * @param  {string} [eventData.event] - event Action https://bit.ly/2CUzeoz\n * @param  {string} [eventData.label] - event Label http://bit.ly/2oo8eb3\n * @param  {string} [eventData.category] - event Category http://bit.ly/2EAy9UP\n * @param  {string} [eventData.nonInteraction = false] - nonInteraction https://bit.ly/2CUzeoz\n * @return {object} sent data\n */\n\n\nfunction trackEvent$1(eventData) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var payload = arguments.length > 2 ? arguments[2] : undefined;\n  if (gaNotLoaded()) return;\n\n  var _getInstanceDetails2 = getInstanceDetails(opts),\n      instancePrefix = _getInstanceDetails2.instancePrefix;\n\n  var data = {\n    // hitType https://bit.ly/2Jab9L1 one of 'pageview', 'screenview', 'event', 'transaction', 'item', 'social', 'exception', 'timing'\n    hitType: eventData.hitType || 'event',\n    // eventAction https://bit.ly/2CUzeoz\n    eventAction: eventData.event,\n    // eventLabel http://bit.ly/2oo8eb3\n    eventLabel: eventData.label,\n    // eventCategory http://bit.ly/2EAy9UP\n    eventCategory: eventData.category || 'All',\n    // nonInteraction https://bit.ly/2CUzeoz\n    nonInteraction: eventData.nonInteraction !== undefined ? !!eventData.nonInteraction : false\n  };\n\n  if (eventData.value) {\n    // how much is this action worth?\n    data.eventValue = format(eventData.value);\n  }\n  /* Attach campaign data */\n\n\n  var campaignData = addCampaignData(eventData);\n  /* Set Dimensions or return them for payload is config.setCustomDimensionsToPage is false */\n\n  var dimensions = setCustomDimensions(payload.properties, opts, instancePrefix);\n\n  var finalPayload = _objectSpread({}, data, campaignData, dimensions);\n  /* Send data to Google Analytics */\n\n\n  ga(\"\".concat(instancePrefix, \"send\"), 'event', finalPayload);\n  return finalPayload;\n}\n/**\n * Add campaign data to GA payload https://bit.ly/34qFCPn\n * @param {Object} [campaignData={}] [description]\n * @param {String} [campaignData.campaignName] - Name of campaign\n * @param {String} [campaignData.campaignSource] - Source of campaign\n * @param {String} [campaignData.campaignMedium] - Medium of campaign\n * @param {String} [campaignData.campaignContent] - Content of campaign\n * @param {String} [campaignData.campaignKeyword] - Keyword of campaign\n */\n\nfunction addCampaignData() {\n  var campaignData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var campaign = {};\n  var name = campaignData.name,\n      source = campaignData.source,\n      medium = campaignData.medium,\n      content = campaignData.content,\n      keyword = campaignData.keyword;\n  if (name) campaign.campaignName = name;\n  if (source) campaign.campaignSource = source;\n  if (medium) campaign.campaignMedium = medium;\n  if (content) campaign.campaignContent = content;\n  if (keyword) campaign.campaignKeyword = keyword;\n  return campaign;\n}\n/* Todo add includeSearch options \\_()_/\nfunction getPagePath(props, opts = {}) {\n  if (!props) return\n  if (opts.includeSearch && props.search) {\n    return `${props.path}${props.search}`\n  }\n  return props.path\n}\n*/\n// properties, data=opts\n\n\nfunction formatObjectIntoDimensions$1(properties) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var customDimensions = opts.customDimensions; // TODO map opts.customMetrics; Object.keys(customMetrics) { key: 'metric1' }\n  // TODO map opts.contentGroupings; Object.keys(contentGroupings) { key: 'contentGroup1' }\n\n  /* Map values from payload to any defined custom dimensions */\n\n  return Object.keys(customDimensions).reduce(function (acc, key) {\n    var dimensionKey = customDimensions[key];\n    var value = get$1(properties, key) || properties[key];\n\n    if (typeof value === 'boolean') {\n      value = value.toString();\n    }\n\n    if (value || value === 0) {\n      acc[dimensionKey] = value;\n      return acc;\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction get$1(obj, key, def, p, undef) {\n  key = key.split ? key.split('.') : key;\n\n  for (p = 0; p < key.length; p++) {\n    obj = obj ? obj[key[p]] : undef;\n  }\n\n  return obj === undef ? def : obj;\n}\n\nfunction setCustomDimensions() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var opts = arguments.length > 1 ? arguments[1] : undefined;\n  var instancePrefix = arguments.length > 2 ? arguments[2] : undefined;\n  var customDimensions = formatObjectIntoDimensions$1(props, opts);\n\n  if (!Object.keys(customDimensions).length) {\n    return {};\n  } // If setCustomDimensionsToPage false, don't save custom dimensions from event to page\n\n\n  if (!opts.setCustomDimensionsToPage) {\n    return customDimensions;\n  } // Set custom dimensions\n\n\n  ga(\"\".concat(instancePrefix, \"set\"), customDimensions);\n  return {};\n}\n/**\n * Identify a visitor by Id\n * @param  {string} id - unique visitor ID\n */\n\n\nfunction identifyVisitor$1(id) {\n  var traits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var conf = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (gaNotLoaded()) return;\n\n  var _getInstanceDetails3 = getInstanceDetails(conf),\n      instancePrefix = _getInstanceDetails3.instancePrefix;\n\n  if (id) ga(\"\".concat(instancePrefix, \"set\"), 'userId', id);\n\n  if (Object.keys(traits).length) {\n    var custom = formatObjectIntoDimensions$1(traits, conf);\n    ga(\"\".concat(instancePrefix, \"set\"), custom);\n  }\n}\n\nfunction scriptLoaded(scriptSrc) {\n  var scripts = document.querySelectorAll('script[src]');\n  return !!Object.keys(scripts).filter(function (key) {\n    return (scripts[key].src || '') === scriptSrc;\n  }).length;\n}\n\nfunction format(value) {\n  if (!value || value < 0) return 0;\n  return Math.round(value);\n}\n\nvar browser = /*#__PURE__*/Object.freeze({\n  default: googleAnalytics$1,\n  trackEvent: trackEvent$1,\n  identifyVisitor: identifyVisitor$1\n});\n\n/* This module will shake out unused code + work in browser and node  */\n\nvar index = googleAnalytics$1;\n/* init for CDN usage. globalName.init() */\n\nvar init = googleAnalytics$1;\n/* Standalone API */\n\nvar initialize$1 = undefined;\nvar page = undefined;\nvar track = trackEvent$1;\nvar identify = identifyVisitor$1;\n\nexport default index;\nexport { init, identify, track, page, initialize$1 as initialize };\n"],"names":["FUNC","UNDEF","ACTION_TEST","Math","random","toString","$$observable","Symbol","observable","msg","createStore","reducer","preloadedState","enhancer","undefined","Error","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","listener","isSubscribed","push","index","indexOf","splice","dispatch","action","isObject","type","listeners","i","length","base","replaceReducer","nextReducer","outerSubscribe","observer","TypeError","observeState","next","unsubscribe","getUndefinedStateErrorMessage","key","actionType","compose","funcs","arg","reduce","a","b","applyMiddleware","chain","store","middlewareAPI","map","middleware","ANON_ID","PREFIX","USER_ID","USER_TRAITS","ID","ANONID","coreEvents","nonEvents","acc","curr","registerPluginType","name","pluginReadyType","utmRegex","propRegex","traitRegex","initializeMiddleware","instance","setItem","storage","EVENTS","bootstrap","params","user","persistedUser","initialUser","isKnownId","userId","anonymousId","traits","paramsArray","Object","keys","an_uid","an_event","groupedParams","match","cleanName","replace","campaign","props","raw","setTimeout","identify","track","userReducer","state","setItemEnd","value","assign","reset","forEach","removeItem","getPersistedUserData","getItem","tempKey","identifyMiddleware","options","remove","uuid","currentId","currentTraits","userIdChanged","old","new","stack","runCallback","id","payload","isFunction","waitForReady","data","predicate","timeout","Promise","resolve","reject","queue","then","_","processQueue","getPlugins","pluginMethods","plugins","context","offline","actions","pipeline","item","plugin","loaded","process","processIndex","requeue","requeueIndex","processAction","currentPlugin","currentMethod","method","enrichedPayload","hasOwnProperty","enrich","config","pluginEvent","called","from","reQueueActions","filter","processEvent","allPlugins","allMatches","isStartEvent","endsWithStartRegex","abortable","exact","x","pluginName","during","makeArgs","abortablePlugins","otherPlugin","event","abortF","reason","caller","pluginsToAbort","isArray","includes","JSON","stringify","abort","abortFunction","notAbortableError","formatPayload","argumentFactory","queueData","thing","methodName","addToQueue","scoped","curScope","namespaced","p","count","curScopeData","actionName","text","getNameSpacedAction","sub","join","validateMethod","currentAct","pname","otherPlug","getConfig","val","returnValue","scopedPayload","payloads","promise","lastLoop","currentActionValue","payloadValue","shouldAbort","abortDispatch","funcArgs","merged","nameSpaceEvent","bootstrapRegex","readyRegex","resolvedAction","originalAction","endAction","shouldAbortAll","abortEvent","pluginState","pluginData","getPluginFunctions","arr","concat","getEventNames","eventType","namespace","postFix","pluginsCount","isString","Array","split","pluginMiddleware","systemEvents","isReady","updatedAction","enablePlugin","initializeStart","disabled","fromEnable","meta","disablePlugin","rid","initializeEnd","pluginsArray","allRegisteredPlugins","completed","failed","waitForPluginsToLoad","d","events","e","all","calls","ready","test","eventsInfo","pluginObject","originalType","updatedType","activePlugins","settings","fromCallOptions","isBoolean","enabled","info","initialized","allActivePluginKeys","core","word","beforeFuncs","duringFuncs","afterFuncs","beforeNS","duringNS","afterNS","before","after","getAllMatchingCalls","actionBefore","actionDuring","actionAfter","hasCallback","runPlugins","updated","storageMiddleware","DynamicMiddleware","addMiddleware","middlewares","position","_this","removeMiddleware","findIndex","dynamicMiddlewares","act","createReducer","newState","getNameFromEventType","isEnabled","Boolean","initialize","togglePluginStatus","baseName","substring","status","pluginKey","serialize","obj","parse","err","initialState","last","history","trackReducer","trackEvent","properties","queueReducer","actionChain","hashRegex","urlPath","url","matches","exec","osName","referrer","locale","timeZone","getPageData","pageData","isBrowser","document","title","window","location","innerWidth","innerHeight","hash","search","canonical","tag","tags","getElementsByTagName","getAttribute","canonicalUrl","href","currentUrl","page","path","width","height","viewData","os","navigator","appVersion","getOSNameBrowser","getBrowserLocale","getTimeZone","sessionId","app","version","debug","onLine","userAgent","library","timezone","online","excludeItems","listen","func","toAdd","fn","ev","watch","cb","bind","Debug","set","origDispatch","globalContext","KEY","composeWithDebug","apply","arguments","ensureArray","singleOrArray","generateMeta","possibleCallbacks","resolver","callback","argArray","args","prototype","call","getCallback","ts","Date","getTime","analytics","customReducers","reducers","parsedOptions","NAMESPACE","ERROR_URL","definedEvents","k","pluginEnabled","methods","c","newArgs","allEvents","allEventsUnique","Set","get","getUserProp","getUserPropFunc","customPlugins","allPluginEvents","sort","uniqueEvents","allSystemEvents","nonAbortable","paramsParse","visitorInfo","an_aid","enable","disable","opts","resolvedId","identifyStart","previousId","eventName","trackStart","pageStart","dotProp","resetStart","on","startRegex","beforeHandler","afterHandler","handler","once","detachListener","actionData","dispatchData","setItemStart","removeItemStart","setAnonymousId","CONSTANTS","storeAPI","enrichMeta","coreReducers","pluginsMiddleware","composeEnhancers","composeWithGlobalDebug","devTools","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","trace","traceLimit","initialConfig","current","makeContext","intialPluginState","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","REDUCER","assertReducerShape","hasChanged","nextState","previousStateForKey","nextStateForKey","errorMessage","combineReducers","callbacks","newEvent","pluginKeys","enabledPlugins","disabledPlugins","registerPlugins","setInterval","heartBeat","decodeUri","s","decodeURIComponent","languages","userLanguage","language","Intl","DateTimeFormat","resolvedOptions","error","isExternalReferrer","ref","port","hostname","isScriptLoaded","script","scripts","src","isRegex","paramsClean","param","regex","RegExp","cleanSearch","paramsGet","query","temp","create","re","v","prop","getParamsAsObject","getSearchString","keyPath","lastKeyIndex","paramsRemove","replaceState","cleanUrl","getDomainHost","createElement","setAttribute","getDomainBase","trimTld","baseDomain","parseReferrer","refData","source","medium","domainInfo","referringDomain","searchEngines","searchEngine","termRegex","term","n","parseDomain","paramKeys","gaParams","gclid","Q","google","u","rb","r","throttle","wait","result","previous","later","now","remaining","this","clearTimeout","FUNCTION","STRING","UNDEFINED","BOOLEAN","OBJECT","ARRAY","NUMBER","SYMBOL","NULL","ERROR","TYPE_ERROR","SYNTAX_ERROR","ASYNC_FUNCTION","GENERATOR_FUNCTION","ASYNC_GENERATOR_FUNCTION","noOp","ANY","ALL","NONE","HIDDEN","FORM","INPUT","BUTTON","SELECT","CHANGE","SUBMIT","REGEX_ISO","REGEX_EMAIL","REGEX_JSON","PROCESS","ENV","env","NODE_ENV","isProd","isStaging","isDev","isLocalHost","isNode","versions","node","isDeno","Deno","isWebWorker","self","constructor","isJsDom","charAt","upper","lower","getTypeName","isNull","ctorName","getType","toLowerCase","typeOf","kind","isUndefined","isDefined","isSymbol","isNumber","isNaN","isNumberLike","parseFloat","isClass","Function","isObjectLike","proto","getPrototypeOf","isJson","isPrimitive","isMethod","isPromise","isGenerator","isGeneratorFunction","isAsyncFunction","isSet","isMap","Map","isBuffer","isError","message","stackTraceLimit","isErrorLike","errorType","ErrKind","typeName","isTypeError","isSyntaxError","SyntaxError","isNoOp","emptyFunc","noOpStr","isArguments","callee","isTruthy","isFalsy","isTrue","isFalse","isEmail","isDate","toDateString","getDate","setDate","isIsoDate","isEmpty","size","isNodeList","NodeList","isPrototypeOf","isElement","element","isEl","Element","HTMLDocument","isNodeType","nodeName","toUpperCase","bindArgs","boundArgs","isForm","isButton","isInput","isSelect","isHidden","until","getComputedStyle","visibility","display","parentElement","def","undef","GLOBAL","global","wrap","operation","fallback","hasSupport","cache","input","hasStorage","hasLocalStorage","hasSessionSupport","hasSessionStorage","hasCookiesSupport","hasCookies","getStorageType","getFirst","useAll","localValue","useLocal","localStorage","cookieVal","useCookie","getCookie","sessionVal","useSession","sessionStorage","globalValue","cookie","saveValue","setFirst","LOCAL_STORAGE","format","COOKIE","setCookie","SESSION_STORAGE","values","removeCookie","useType","isSupported","tmp","ttl","domain","secure","encodeURIComponent","toUTCString","getSessionItem","setSessionItem","removeSessionItem"],"version":3,"file":"reporting.87270bcb.js.map","sourceRoot":"/__parcel_source_root/"}